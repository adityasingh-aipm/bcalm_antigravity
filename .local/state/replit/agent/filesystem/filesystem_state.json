{"file_contents":{"client/src/components/CTASection.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { motion } from \"framer-motion\";\n\ninterface CTASectionProps {\n  onEnroll: () => void;\n  onScheduleCall: () => void;\n}\n\nexport default function CTASection({ onEnroll, onScheduleCall }: CTASectionProps) {\n  return (\n    <section className=\"py-12 bg-gradient-to-br from-primary/5 to-primary/10\">\n      <div className=\"container mx-auto px-4 max-w-4xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Ready to Land Your Dream Job?\n          </h2>\n          <p className=\"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto\">\n            Join thousands of ambitious professionals who've transformed their interview skills and landed roles at top companies.\n          </p>\n          \n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <Button \n              size=\"lg\" \n              className=\"text-base px-8 py-6\"\n              onClick={onEnroll}\n              data-testid=\"button-cta-enroll\"\n            >\n              Enroll Now\n            </Button>\n            <Button \n              size=\"lg\" \n              variant=\"outline\"\n              className=\"text-base px-8 py-6\"\n              onClick={onScheduleCall}\n              data-testid=\"button-cta-call\"\n            >\n              Schedule a 1:1 Call\n            </Button>\n          </div>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":1665,"size_tokens":null},"client/src/components/examples/AboutSection.tsx":{"content":"import AboutSection from '../AboutSection';\n\nexport default function AboutSectionExample() {\n  return <AboutSection />;\n}\n","path":null,"size_bytes":122,"size_tokens":null},"client/src/components/examples/ScheduleCallDialog.tsx":{"content":"import { useState } from \"react\";\nimport ScheduleCallDialog from '../ScheduleCallDialog';\nimport { Button } from \"@/components/ui/button\";\n\nexport default function ScheduleCallDialogExample() {\n  const [open, setOpen] = useState(false);\n  \n  return (\n    <div className=\"p-8\">\n      <Button onClick={() => setOpen(true)}>Open Schedule Call Dialog</Button>\n      <ScheduleCallDialog open={open} onOpenChange={setOpen} />\n    </div>\n  );\n}\n","path":null,"size_bytes":438,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"client/src/components/AboutSection.tsx":{"content":"import { motion } from \"framer-motion\";\n\nexport default function AboutSection() {\n  return (\n    <section id=\"about\" className=\"py-16 bg-background\">\n      <div className=\"container mx-auto px-4 max-w-4xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-8\">\n            About the Program\n          </h2>\n          \n          <p className=\"text-lg text-foreground/90 leading-relaxed\">\n            Built for graduating students and early-career professionals from India's top colleges who want to land their dream job. You'll get AI-powered resume feedback, practice with realistic mock interviews, and learn exactly what hiring managers look for. Each week blends expert guidance, hands-on practice, and personalized feedback to get you interview-ready in 30 days.\n          </p>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":1092,"size_tokens":null},"server/middleware/auth.ts":{"content":"import { Request, Response, NextFunction } from \"express\";\nimport jwt from \"jsonwebtoken\";\n\nconst JWT_SECRET = process.env.JWT_SECRET || process.env.SESSION_SECRET || \"\";\n\nif (!JWT_SECRET) {\n  throw new Error(\"JWT_SECRET or SESSION_SECRET environment variable is required for authentication\");\n}\n\nexport interface AuthRequest extends Request {\n  user?: {\n    userId: string;\n    email: string;\n    isAdmin: boolean;\n  };\n}\n\nexport function authenticateToken(req: AuthRequest, res: Response, next: NextFunction) {\n  const authHeader = req.headers[\"authorization\"];\n  const token = authHeader && authHeader.split(\" \")[1];\n\n  if (!token) {\n    return res.status(401).json({ error: \"Access token required\" });\n  }\n\n  try {\n    const decoded = jwt.verify(token, JWT_SECRET) as {\n      userId: string;\n      email: string;\n      isAdmin: boolean;\n    };\n    req.user = decoded;\n    next();\n  } catch (error) {\n    return res.status(403).json({ error: \"Invalid or expired token\" });\n  }\n}\n\nexport function requireAdmin(req: AuthRequest, res: Response, next: NextFunction) {\n  if (!req.user) {\n    return res.status(401).json({ error: \"Authentication required\" });\n  }\n\n  if (!req.user.isAdmin) {\n    return res.status(403).json({ error: \"Admin access required\" });\n  }\n\n  next();\n}\n\nexport function generateToken(userId: string, email: string, isAdmin: boolean): string {\n  return jwt.sign({ userId, email, isAdmin }, JWT_SECRET, { expiresIn: \"7d\" });\n}\n","path":null,"size_bytes":1447,"size_tokens":null},"client/src/components/examples/WaitlistDialog.tsx":{"content":"import { useState } from \"react\";\nimport WaitlistDialog from '../WaitlistDialog';\nimport { Button } from \"@/components/ui/button\";\n\nexport default function WaitlistDialogExample() {\n  const [open, setOpen] = useState(false);\n  \n  return (\n    <div className=\"p-8\">\n      <Button onClick={() => setOpen(true)}>Open Waitlist Dialog</Button>\n      <WaitlistDialog open={open} onOpenChange={setOpen} />\n    </div>\n  );\n}\n","path":null,"size_bytes":417,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const token = localStorage.getItem(\"resources_token\");\n  const headers: Record<string, string> = data ? { \"Content-Type\": \"application/json\" } : {};\n  \n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const res = await fetch(url, {\n    method,\n    headers,\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const token = localStorage.getItem(\"resources_token\");\n    const headers: Record<string, string> = {};\n    \n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      headers,\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1758,"size_tokens":null},"client/src/components/InstructorsSection.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { motion } from \"framer-motion\";\nimport { SiLinkedin } from \"react-icons/si\";\nimport rakeshImage from \"@assets/rakesh_malloju.png\";\nimport adityaImage from \"@assets/image_1763560763518.png\";\nimport akhilImage from \"@assets/image_1763636682683.png\";\n\nconst instructors = [\n  {\n    name: \"Rakesh Malloju\",\n    title: \"Senior Director of Product\",\n    company: \"Zepto, Musigma\",\n    college: \"IIM Calcutta\",\n    linkedinUrl: \"https://www.linkedin.com/in/rakesh-malloju-b648ab92/\",\n    image: rakeshImage,\n    initials: \"RM\"\n  },\n  {\n    name: \"Aditya Singh\",\n    title: \"Product Manager\",\n    company: \"Apollo247\",\n    college: \"IIT Delhi\",\n    linkedinUrl: \"https://www.linkedin.com/in/aditya-singh-361910195/\",\n    image: adityaImage,\n    initials: \"AS\"\n  },\n  {\n    name: \"Akhil Joy\",\n    title: \"Head of Design (UI/UX)\",\n    company: \"Swiggy, Uber, Zepto\",\n    college: \"MGU\",\n    linkedinUrl: \"https://www.linkedin.com/in/akhil-joy-design/\",\n    image: akhilImage,\n    initials: \"AJ\"\n  }\n];\n\nexport default function InstructorsSection() {\n  return (\n    <section id=\"instructors\" className=\"py-16 bg-background\">\n      <div className=\"container mx-auto px-4 max-w-6xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-10\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Built by Leaders Who've Hired 1000+\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            From IITs to top tech companies — they know what it takes to get hired\n          </p>\n        </motion.div>\n        \n        <div className=\"grid md:grid-cols-3 gap-8\">\n          {instructors.map((instructor, index) => (\n            <motion.div\n              key={index}\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              viewport={{ once: true }}\n              transition={{ duration: 0.6, delay: index * 0.1 }}\n            >\n              <Card className=\"h-full hover-elevate\">\n                <CardContent className=\"pt-6\">\n                  <div className=\"flex flex-col items-center text-center\">\n                    <Avatar className=\"h-32 w-32 mb-4\">\n                      <AvatarImage src={instructor.image} alt={instructor.name} />\n                      <AvatarFallback>{instructor.initials}</AvatarFallback>\n                    </Avatar>\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <h3 className=\"text-xl font-semibold text-foreground\">\n                        {instructor.name}\n                      </h3>\n                      <a \n                        href={instructor.linkedinUrl} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        className=\"text-[#0A66C2] hover:text-[#084596] transition-colors\"\n                        data-testid={`link-linkedin-${instructor.name.replace(/\\s+/g, '-').toLowerCase()}`}\n                      >\n                        <SiLinkedin className=\"h-5 w-5\" />\n                      </a>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mb-1\">\n                      {instructor.title}\n                    </p>\n                    <p className=\"text-sm font-medium text-primary mb-1\">\n                      {instructor.company}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {instructor.college}\n                    </p>\n                  </div>\n                </CardContent>\n              </Card>\n            </motion.div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":3989,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { storage } from \"./storage\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  await storage.initialize();\n  \n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","path":null,"size_bytes":2280,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"client/src/components/Footer.tsx":{"content":"import { SiLinkedin, SiX, SiInstagram } from \"react-icons/si\";\nimport { Mail, MessageCircle } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport bcalmLogo from \"@assets/Bcalm-logo-Nobackground_1764679699958.png\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"bg-muted/30 border-t\">\n      <div className=\"container mx-auto px-4 py-12 max-w-6xl\">\n        <div className=\"grid md:grid-cols-3 gap-8 mb-8\">\n          <div>\n            <img \n              src={bcalmLogo} \n              alt=\"Bcalm - AI Product Manager Launchpad\"\n              className=\"mb-4\"\n              style={{\n                height: '60px',\n                width: 'auto',\n                objectFit: 'contain',\n                objectPosition: 'left center'\n              }}\n              data-testid=\"logo-bcalm-footer\"\n            />\n            <p className=\"text-sm text-muted-foreground\">\n              AI Product Manager Launchpad - Transform into an AI PM in 30 days with industry leaders.\n            </p>\n          </div>\n          \n          <div>\n            <h4 className=\"font-semibold mb-4\">Quick Links</h4>\n            <ul className=\"space-y-2 text-sm text-muted-foreground\">\n              <li>\n                <Link to=\"/resources\" className=\"hover:text-primary transition-colors\" data-testid=\"link-free-resources\">\n                  Free Resources\n                </Link>\n              </li>\n              <li><a href=\"#\" className=\"hover:text-primary transition-colors\" data-testid=\"link-terms\">Terms of Use</a></li>\n              <li>\n                <Link to=\"/privacy-policy\" className=\"hover:text-primary transition-colors\" data-testid=\"link-privacy\">\n                  Privacy Policy\n                </Link>\n              </li>\n              <li><a href=\"#\" className=\"hover:text-primary transition-colors\" data-testid=\"link-contact\">Contact Us</a></li>\n            </ul>\n          </div>\n          \n          <div>\n            <h4 className=\"font-semibold mb-4\">Connect With Us</h4>\n            <div className=\"flex gap-4 mb-4\">\n              <a href=\"#\" className=\"text-muted-foreground hover:text-primary transition-colors\" data-testid=\"link-linkedin\">\n                <SiLinkedin className=\"h-5 w-5\" />\n              </a>\n              <a href=\"#\" className=\"text-muted-foreground hover:text-primary transition-colors\" data-testid=\"link-twitter\">\n                <SiX className=\"h-5 w-5\" />\n              </a>\n              <a href=\"#\" className=\"text-muted-foreground hover:text-primary transition-colors\" data-testid=\"link-instagram\">\n                <SiInstagram className=\"h-5 w-5\" />\n              </a>\n            </div>\n            <div className=\"flex gap-4\">\n              <a href=\"mailto:info@aipmlaunchpad.com\" className=\"text-muted-foreground hover:text-primary transition-colors flex items-center gap-2 text-sm\" data-testid=\"link-email\">\n                <Mail className=\"h-4 w-4\" />\n                Email\n              </a>\n              <a href=\"#\" className=\"text-muted-foreground hover:text-primary transition-colors flex items-center gap-2 text-sm\" data-testid=\"link-whatsapp\">\n                <MessageCircle className=\"h-4 w-4\" />\n                WhatsApp\n              </a>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"border-t pt-8 text-center text-sm text-muted-foreground\">\n          <p>© 2025 Bcalm – AI Product Manager Launchpad. All rights reserved.</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","path":null,"size_bytes":3496,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/CareerSupportSection.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { FileText, Target, MessageSquare, Building2 } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nconst supportCards = [\n  {\n    icon: FileText,\n    title: \"AI-Powered CV Scoring\",\n    description: \"Get instant feedback on your resume with our AI scoring system, plus expert review from hiring managers at top companies.\"\n  },\n  {\n    icon: Target,\n    title: \"Skill Gap Analysis\",\n    description: \"Identify exactly what's holding you back. Personalized roadmap to fill gaps and match job requirements in your target roles.\"\n  },\n  {\n    icon: MessageSquare,\n    title: \"Mock Interview Practice\",\n    description: \"Practice with realistic interview simulations. Get detailed feedback on your answers, body language cues, and areas to improve.\"\n  },\n  {\n    icon: Building2,\n    title: \"Job Board & Referrals\",\n    description: \"Access curated opportunities at high-growth startups, hiring partner intros, and alumni referrals to skip the queue.\"\n  }\n];\n\nexport default function CareerSupportSection() {\n  return (\n    <section id=\"career-support\" className=\"py-16 bg-muted/30\">\n      <div className=\"container mx-auto px-4 max-w-6xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-10\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Everything You Need to Land the Job\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            From resume to offer letter — we've got you covered at every step.\n          </p>\n        </motion.div>\n        \n        <div className=\"grid md:grid-cols-2 gap-8\">\n          {supportCards.map((item, index) => {\n            const Icon = item.icon;\n            return (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                viewport={{ once: true }}\n                transition={{ duration: 0.6, delay: index * 0.1 }}\n              >\n                <Card className=\"h-full hover-elevate\">\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex gap-4\">\n                      <div className=\"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                        <Icon className=\"h-6 w-6 text-primary\" />\n                      </div>\n                      <div>\n                        <h3 className=\"text-lg font-semibold mb-2\">{item.title}</h3>\n                        <p className=\"text-muted-foreground\">{item.description}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":3012,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/components/examples/TestimonialsSection.tsx":{"content":"import TestimonialsSection from '../TestimonialsSection';\n\nexport default function TestimonialsSectionExample() {\n  return <TestimonialsSection />;\n}\n","path":null,"size_bytes":150,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","path":null,"size_bytes":1904,"size_tokens":null},"client/src/App.tsx":{"content":"import { useEffect } from \"react\";\nimport { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { trackInitialLanding } from \"@/lib/analytics\";\nimport LandingPage from \"@/pages/LandingPage\";\nimport ResourcesPage from \"@/pages/ResourcesPage\";\nimport ResourcesAdminDashboard from \"@/pages/ResourcesAdminDashboard\";\nimport AssessmentLandingPage from \"@/pages/AssessmentLandingPage\";\nimport AssessmentStartPage from \"@/pages/AssessmentStartPage\";\nimport AssessmentQuestionsPage from \"@/pages/AssessmentQuestionsPage\";\nimport AssessmentResultsPage from \"@/pages/AssessmentResultsPage\";\nimport ShareResultsPage from \"@/pages/ShareResultsPage\";\nimport NotFound from \"@/pages/not-found\";\nimport PrivacyPolicy from \"@/pages/PrivacyPolicy\";\nimport HackathonPage from \"@/pages/HackathonPage\";\nimport ComingSoonPage from \"@/pages/ComingSoonPage\";\nimport OnboardingPage from \"@/pages/OnboardingPage\";\nimport UploadPage from \"@/pages/UploadPage\";\nimport ProcessingPage from \"@/pages/ProcessingPage\";\nimport ResultsPage from \"@/pages/ResultsPage\";\nimport SharePage from \"@/pages/SharePage\";\nimport DashboardPage from \"@/pages/DashboardPage\";\nimport AuthCallbackPage from \"@/pages/AuthCallbackPage\";\nimport AuthPage from \"@/pages/AuthPage\";\nimport StartPage from \"@/pages/StartPage\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={LandingPage} />\n      <Route path=\"/auth\" component={AuthPage} />\n      <Route path=\"/auth/callback\" component={AuthCallbackPage} />\n      <Route path=\"/score\" component={StartPage} />\n      <Route path=\"/start\" component={StartPage} />\n      <Route path=\"/onboarding\" component={OnboardingPage} />\n      <Route path=\"/upload\" component={UploadPage} />\n      <Route path=\"/processing\" component={ProcessingPage} />\n      <Route path=\"/results/:jobId\" component={ResultsPage} />\n      <Route path=\"/share/:jobId\" component={SharePage} />\n      <Route path=\"/dashboard\" component={DashboardPage} />\n      <Route path=\"/resources\" component={ResourcesPage} />\n      <Route path=\"/admin/resources\" component={ResourcesAdminDashboard} />\n      <Route path=\"/ai-pm-readiness\" component={AssessmentLandingPage} />\n      <Route path=\"/ai-pm-readiness/start\" component={AssessmentStartPage} />\n      <Route path=\"/ai-pm-readiness/questions\" component={AssessmentQuestionsPage} />\n      <Route path=\"/ai-pm-readiness/share/:shareToken\" component={ShareResultsPage} />\n      <Route path=\"/ai-pm-readiness/results/:attemptId\" component={AssessmentResultsPage} />\n      <Route path=\"/privacy-policy\" component={PrivacyPolicy} />\n      <Route path=\"/hackathon\" component={HackathonPage} />\n      <Route path=\"/coming-soon/:feature\" component={ComingSoonPage} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  useEffect(() => {\n    trackInitialLanding();\n  }, []);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":3235,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/PricingSection.tsx":{"content":"import { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check, Shield } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nconst includedFeatures = [\n  \"30 days of structured interview prep\",\n  \"AI-powered resume scoring + expert review\",\n  \"Weekly practice sessions + detailed feedback\",\n  \"1:1 mentorship with industry experts\",\n  \"Unlimited mock interviews with feedback\",\n  \"Role-specific prep (PM, Analyst, Ops, Tech)\",\n  \"Interview frameworks & answer templates\",\n  \"Curated job board + referral access\",\n  \"Salary negotiation masterclass\",\n  \"Lifetime access to all resources\",\n  \"Lifetime alumni community\",\n  \"Certificate of Completion\"\n];\n\ninterface PricingSectionProps {\n  onEnroll: () => void;\n  onJoinWaitlist: () => void;\n}\n\nexport default function PricingSection({ onEnroll, onJoinWaitlist }: PricingSectionProps) {\n  return (\n    <section id=\"pricing\" className=\"py-12 bg-background\">\n      <div className=\"container mx-auto px-4 max-w-5xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-10\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Program Fee & Everything You Get\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            Complete interview preparation with lifetime access and career support\n          </p>\n        </motion.div>\n        \n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n        >\n          <Card className=\"overflow-hidden border-2 border-primary/20\">\n            <CardHeader className=\"bg-gradient-to-br from-primary/5 to-primary/10 pb-8\">\n              <div className=\"text-center\">\n                <div className=\"mb-4\">\n                  <span className=\"text-2xl text-muted-foreground line-through\">₹24,999</span>\n                </div>\n                <div className=\"mb-4\">\n                  <span className=\"text-5xl font-bold text-foreground\">₹14,999</span>\n                  <Badge variant=\"secondary\" className=\"ml-3 bg-primary/10 text-primary border-primary/20\">\n                    Special Cohort Price\n                  </Badge>\n                </div>\n                <div className=\"flex items-center justify-center gap-2 text-sm text-muted-foreground\">\n                  <Shield className=\"h-4 w-4 text-primary\" />\n                  <span className=\"font-medium\">30-Day Refund Guarantee</span>\n                </div>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Try the full program — if you don't see value, get a full refund. No questions asked.\n                </p>\n              </div>\n            </CardHeader>\n            <CardContent className=\"pt-8\">\n              <h3 className=\"font-semibold text-lg mb-6 text-center\">What's Included</h3>\n              <div className=\"grid md:grid-cols-2 gap-x-8 gap-y-3 mb-8\">\n                {includedFeatures.map((feature, index) => (\n                  <div key={index} className=\"flex items-start gap-3\">\n                    <Check className=\"h-5 w-5 text-primary mt-0.5 flex-shrink-0\" />\n                    <span className=\"text-muted-foreground\">{feature}</span>\n                  </div>\n                ))}\n              </div>\n              <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n                <Button \n                  size=\"lg\" \n                  className=\"text-base px-8 py-6\"\n                  onClick={onEnroll}\n                  data-testid=\"button-enroll\"\n                >\n                  Enroll at ₹14,999\n                </Button>\n                <Button \n                  size=\"lg\" \n                  variant=\"outline\"\n                  className=\"text-base px-8 py-6\"\n                  onClick={onJoinWaitlist}\n                  data-testid=\"button-pricing-waitlist\"\n                >\n                  Join the Waitlist\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":4423,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/examples/CurriculumSection.tsx":{"content":"import CurriculumSection from '../CurriculumSection';\n\nexport default function CurriculumSectionExample() {\n  return <CurriculumSection onDownloadCurriculum={() => console.log('Download curriculum clicked')} />;\n}\n","path":null,"size_bytes":214,"size_tokens":null},"client/src/components/examples/WhyProgramSection.tsx":{"content":"import WhyProgramSection from '../WhyProgramSection';\n\nexport default function WhyProgramSectionExample() {\n  return <WhyProgramSection />;\n}\n","path":null,"size_bytes":142,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport resourcesRouter from \"./routes/resources\";\nimport assessmentRouter from \"./routes/assessment\";\nimport analyticsRouter from \"./routes/analytics\";\nimport hackathonRouter from \"./routes/hackathon\";\nimport onboardingRouter from \"./routes/onboarding\";\nimport analysisRouter from \"./routes/analysis\";\nimport leadsRouter from \"./routes/leads\";\nimport profileRouter from \"./routes/profile\";\nimport cvRouter from \"./routes/cv\";\nimport express from \"express\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport { setupSupabaseAuth } from \"./supabaseAuth\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  await setupSupabaseAuth(app);\n\n  // Serve Supabase config to frontend (anon key is safe to expose)\n  app.get(\"/api/config/supabase\", (req, res) => {\n    const supabaseUrl = process.env.SUPABASE_URL || process.env.VITE_SUPABASE_URL;\n    const supabaseAnonKey = process.env.VITE_SUPABASE_ANON_KEY;\n    \n    if (!supabaseUrl || !supabaseAnonKey) {\n      return res.status(500).json({ error: \"Supabase not configured\" });\n    }\n    \n    res.json({\n      url: supabaseUrl,\n      anonKey: supabaseAnonKey\n    });\n  });\n\n  app.use(\"/api/resources\", resourcesRouter);\n  app.use(\"/api/assessment\", assessmentRouter);\n  app.use(\"/api/analytics\", analyticsRouter);\n  app.use(\"/api/hackathon\", hackathonRouter);\n  app.use(\"/api/onboarding\", onboardingRouter);\n  app.use(\"/api/analysis\", analysisRouter);\n  app.use(\"/api/leads\", leadsRouter);\n  app.use(\"/api/profile\", profileRouter);\n  app.use(\"/api/cv\", cvRouter);\n  \n  app.use(\"/uploads/resources\", express.static(path.join(process.cwd(), \"uploads/resources\")));\n  app.use(\"/uploads/cv-submissions\", express.static(path.join(process.cwd(), \"uploads/cv-submissions\")));\n  app.use(\"/uploads/cv-analysis\", express.static(path.join(process.cwd(), \"uploads/cv-analysis\")));\n  \n  // Serve static files for onboarding pages (CSS, JS)\n  app.use(express.static(path.join(process.cwd(), \"public\")));\n  \n  // Serve onboarding HTML pages\n  const publicDir = path.join(process.cwd(), \"public\");\n  \n  app.get(\"/onboarding\", (req, res) => {\n    res.sendFile(path.join(publicDir, \"onboarding-step1.html\"));\n  });\n  \n  app.get(\"/onboarding/role\", (req, res) => {\n    res.sendFile(path.join(publicDir, \"onboarding-step2.html\"));\n  });\n  \n  app.get(\"/onboarding/experience\", (req, res) => {\n    res.sendFile(path.join(publicDir, \"onboarding-step3.html\"));\n  });\n  \n  app.get(\"/upload\", (req, res) => {\n    res.sendFile(path.join(publicDir, \"upload.html\"));\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","path":null,"size_bytes":2667,"size_tokens":null},"client/src/components/examples/HeroSection.tsx":{"content":"import HeroSection from '../HeroSection';\n\nexport default function HeroSectionExample() {\n  return (\n    <HeroSection />\n  );\n}\n","path":null,"size_bytes":128,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"server/middleware/upload.ts":{"content":"import multer from \"multer\";\nimport path from \"path\";\nimport { Request } from \"express\";\n\nconst storage = multer.diskStorage({\n  destination: (req: Request, file: Express.Multer.File, cb) => {\n    cb(null, \"uploads/resources\");\n  },\n  filename: (req: Request, file: Express.Multer.File, cb) => {\n    const uniqueSuffix = Date.now() + \"-\" + Math.round(Math.random() * 1e9);\n    const ext = path.extname(file.originalname);\n    const baseName = path.basename(file.originalname, ext);\n    cb(null, `${baseName}-${uniqueSuffix}${ext}`);\n  },\n});\n\nconst fileFilter = (req: Request, file: Express.Multer.File, cb: multer.FileFilterCallback) => {\n  const allowedTypes = [\n    \"application/pdf\",\n    \"application/msword\",\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    \"video/mp4\",\n    \"video/mpeg\",\n    \"video/quicktime\",\n  ];\n\n  if (allowedTypes.includes(file.mimetype)) {\n    cb(null, true);\n  } else {\n    cb(new Error(\"Invalid file type. Only PDF, DOC, DOCX, and video files are allowed.\"));\n  }\n};\n\nexport const upload = multer({\n  storage: storage,\n  fileFilter: fileFilter,\n  limits: {\n    fileSize: 500 * 1024 * 1024,\n  },\n});\n","path":null,"size_bytes":1164,"size_tokens":null},"client/src/components/CurriculumSection.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Download, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nconst weeks = [\n  {\n    week: \"Week 1\",\n    title: \"Resume & Profile Optimization\",\n    whatYouLearn: [\n      \"AI-powered resume analysis and scoring\",\n      \"Crafting achievement-focused bullet points that pass ATS\",\n      \"LinkedIn optimization for recruiter visibility\",\n      \"Identifying and filling skill gaps for target roles\",\n      \"Building a compelling personal narrative\"\n    ],\n    outcome: \"Walk away with a polished, ATS-optimized resume and LinkedIn profile ready to attract recruiters.\",\n    assignment: \"Submit your resume for AI scoring + expert review. Rewrite 3 bullet points using the STAR format.\"\n  },\n  {\n    week: \"Week 2\",\n    title: \"Interview Fundamentals & Practice\",\n    whatYouLearn: [\n      \"Common interview formats: behavioral, case, technical\",\n      \"Mastering the STAR method for behavioral questions\",\n      \"Frameworks for structuring clear, confident answers\",\n      \"Body language, tone, and first impression tips\",\n      \"Handling tough questions: salary, gaps, weaknesses\"\n    ],\n    outcome: \"Build confidence with structured frameworks to answer any interview question clearly.\",\n    assignment: \"Complete 2 mock interview sessions and review your recorded performance with detailed feedback.\"\n  },\n  {\n    week: \"Week 3\",\n    title: \"Role-Specific Deep Dives\",\n    whatYouLearn: [\n      \"Tailored prep for your target role (PM, Analyst, Ops, Tech)\",\n      \"Case study & problem-solving walkthroughs\",\n      \"Understanding what hiring managers actually look for\",\n      \"Industry-specific questions and best practices\",\n      \"Salary negotiation strategies and offer evaluation\"\n    ],\n    outcome: \"Develop role-specific expertise that sets you apart from other candidates.\",\n    assignment: \"Solve a role-specific case study and present your approach to mentors for feedback.\"\n  },\n  {\n    week: \"Week 4\",\n    title: \"Final Prep & Job Search Launch\",\n    whatYouLearn: [\n      \"Full-length mock interviews with industry experts\",\n      \"Refining answers based on feedback patterns\",\n      \"Job search strategy: where to apply, how to stand out\",\n      \"Leveraging referrals and networking effectively\",\n      \"Post-interview follow-ups and closing techniques\"\n    ],\n    outcome: \"Graduate interview-ready with a clear job search strategy and referral network.\",\n    assignment: \"Complete a final mock interview, finalize your target company list, and send 5 tailored applications.\"\n  }\n];\n\ninterface CurriculumSectionProps {\n  onDownloadCurriculum: () => void;\n}\n\nexport default function CurriculumSection({ onDownloadCurriculum }: CurriculumSectionProps) {\n  const [expandedWeek, setExpandedWeek] = useState<number | null>(null);\n\n  const toggleWeek = (index: number) => {\n    setExpandedWeek(expandedWeek === index ? null : index);\n  };\n\n  return (\n    <section id=\"curriculum\" className=\"py-16 bg-muted/30\">\n      <div className=\"container mx-auto px-4 max-w-6xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-10\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Your 30-Day Roadmap\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            A structured, hands-on program to take you from unprepared to interview-ready in 30 days.\n          </p>\n        </motion.div>\n        \n        <div className=\"space-y-4 mb-12\">\n          {weeks.map((item, index) => (\n            <motion.div\n              key={index}\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              viewport={{ once: true }}\n              transition={{ duration: 0.6, delay: index * 0.1 }}\n            >\n              <Card className=\"hover-elevate\">\n                <CardHeader className=\"cursor-pointer\" onClick={() => toggleWeek(index)}>\n                  <div className=\"flex items-center justify-between gap-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                        <span className=\"text-primary font-bold text-lg\">{index + 1}</span>\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-muted-foreground\">{item.week}</p>\n                        <CardTitle className=\"text-lg\">{item.title}</CardTitle>\n                      </div>\n                    </div>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\"\n                      className=\"flex-shrink-0\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        toggleWeek(index);\n                      }}\n                      aria-expanded={expandedWeek === index}\n                      aria-label={`${expandedWeek === index ? 'Collapse' : 'Expand'} ${item.week} details`}\n                      data-testid={`button-toggle-week-${index + 1}`}\n                    >\n                      {expandedWeek === index ? <ChevronUp className=\"h-5 w-5\" /> : <ChevronDown className=\"h-5 w-5\" />}\n                    </Button>\n                  </div>\n                </CardHeader>\n                <AnimatePresence>\n                  {expandedWeek === index && (\n                    <motion.div\n                      initial={{ height: 0, opacity: 0 }}\n                      animate={{ height: \"auto\", opacity: 1 }}\n                      exit={{ height: 0, opacity: 0 }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      <CardContent className=\"pt-0 space-y-4\">\n                        <div>\n                          <h4 className=\"font-semibold mb-2 text-foreground\">What You Learn:</h4>\n                          <ul className=\"space-y-1.5 text-muted-foreground\">\n                            {item.whatYouLearn.map((point, i) => (\n                              <li key={i} className=\"flex gap-2\">\n                                <span className=\"text-primary mt-1.5\">•</span>\n                                <span>{point}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                        <div className=\"bg-primary/5 p-4 rounded-md\">\n                          <h4 className=\"font-semibold mb-1 text-foreground\">Outcome:</h4>\n                          <p className=\"text-muted-foreground\">{item.outcome}</p>\n                        </div>\n                        <div>\n                          <h4 className=\"font-semibold mb-1 text-foreground\">Hands-on Assignment:</h4>\n                          <p className=\"text-muted-foreground\">{item.assignment}</p>\n                        </div>\n                      </CardContent>\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </Card>\n            </motion.div>\n          ))}\n        </div>\n        \n        <motion.div\n          initial={{ opacity: 0 }}\n          whileInView={{ opacity: 1 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6, delay: 0.4 }}\n          className=\"text-center\"\n        >\n          <Button \n            size=\"lg\" \n            variant=\"outline\"\n            className=\"gap-2\"\n            onClick={onDownloadCurriculum}\n            data-testid=\"button-download-curriculum\"\n          >\n            <Download className=\"h-5 w-5\" />\n            Download Detailed Curriculum\n          </Button>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":8055,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close \n        className=\"absolute right-4 top-4 rounded-sm opacity-80 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground text-foreground hover:bg-muted/50 p-1\"\n        data-testid=\"button-dialog-close\"\n      >\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3944,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/pages/examples/LandingPage.tsx":{"content":"import LandingPage from '../LandingPage';\n\nexport default function LandingPageExample() {\n  return <LandingPage />;\n}\n","path":null,"size_bytes":118,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n  --background: 0 0% 100%;\n  --foreground: 222 47% 11%;\n  --border: 220 13% 91%;\n  --card: 0 0% 98%;\n  --card-foreground: 222 47% 11%;\n  --card-border: 220 13% 94%;\n  --sidebar: 220 14% 96%;\n  --sidebar-foreground: 222 47% 11%;\n  --sidebar-border: 220 13% 92%;\n  --sidebar-primary: 262 83% 58%;\n  --sidebar-primary-foreground: 0 0% 100%;\n  --sidebar-accent: 220 14% 91%;\n  --sidebar-accent-foreground: 222 47% 11%;\n  --sidebar-ring: 262 83% 58%;\n  --popover: 220 14% 94%;\n  --popover-foreground: 222 47% 11%;\n  --popover-border: 220 13% 90%;\n  --primary: 262 83% 58%;\n  --primary-foreground: 0 0% 100%;\n  --secondary: 220 14% 90%;\n  --secondary-foreground: 222 47% 11%;\n  --muted: 220 13% 92%;\n  --muted-foreground: 222 20% 40%;\n  --accent: 220 14% 93%;\n  --accent-foreground: 222 47% 11%;\n  --destructive: 0 84% 60%;\n  --destructive-foreground: 0 0% 100%;\n  --input: 220 13% 82%;\n  --ring: 262 83% 58%;\n  --chart-1: 262 83% 45%;\n  --chart-2: 222 47% 35%;\n  --chart-3: 195 100% 42%;\n  --chart-4: 280 65% 48%;\n  --chart-5: 340 75% 50%;\n  --font-sans: Poppins, Inter, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(222 47% 11% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(222 47% 11% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(222 47% 11% / 0.00), 0px 1px 2px -1px hsl(222 47% 11% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(222 47% 11% / 0.00), 0px 1px 2px -1px hsl(222 47% 11% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(222 47% 11% / 0.00), 0px 2px 4px -1px hsl(222 47% 11% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(222 47% 11% / 0.00), 0px 4px 6px -1px hsl(222 47% 11% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(222 47% 11% / 0.00), 0px 8px 10px -1px hsl(222 47% 11% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(222 47% 11% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  --background: 222 47% 4%;\n  --foreground: 0 0% 98%;\n  --border: 220 14% 12%;\n  --card: 222 47% 5.5%;\n  --card-foreground: 0 0% 98%;\n  --card-border: 220 14% 8%;\n  --sidebar: 222 47% 7%;\n  --sidebar-foreground: 0 0% 98%;\n  --sidebar-border: 220 14% 10%;\n  --sidebar-primary: 262 83% 58%;\n  --sidebar-primary-foreground: 0 0% 100%;\n  --sidebar-accent: 222 47% 9%;\n  --sidebar-accent-foreground: 0 0% 98%;\n  --sidebar-ring: 262 83% 58%;\n  --popover: 222 47% 9%;\n  --popover-foreground: 0 0% 98%;\n  --popover-border: 220 14% 12%;\n  --primary: 262 83% 58%;\n  --primary-foreground: 0 0% 100%;\n  --destructive: 0 84% 60%;\n  --destructive-foreground: 0 0% 100%;\n  --secondary: 222 47% 11%;\n  --secondary-foreground: 0 0% 98%;\n  --muted: 222 20% 10%;\n  --muted-foreground: 220 13% 65%;\n  --accent: 222 20% 9%;\n  --accent-foreground: 0 0% 98%;\n  --input: 220 14% 20%;\n  --ring: 262 83% 58%;\n  --chart-1: 262 83% 70%;\n  --chart-2: 220 70% 75%;\n  --chart-3: 195 100% 65%;\n  --chart-4: 280 65% 72%;\n  --chart-5: 340 75% 70%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 100% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 100% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 100% / 0.00), 0px 1px 2px -1px hsl(0 0% 100% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 100% / 0.00), 0px 1px 2px -1px hsl(0 0% 100% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 100% / 0.00), 0px 2px 4px -1px hsl(0 0% 100% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 100% / 0.00), 0px 4px 6px -1px hsl(0 0% 100% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 100% / 0.00), 0px 8px 10px -1px hsl(0 0% 100% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 100% / 0.00);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/* Hero Title Typography */\n.hero-title {\n  font-size: clamp(32px, 5vw, 56px);\n  line-height: 1.08;\n  font-weight: 700;\n  letter-spacing: -0.5px;\n  text-align: center;\n  color: #ffffff;\n  text-shadow: 0 6px 24px rgba(0, 0, 0, 0.45);\n}\n\n.hero-title .accent {\n  color: #C4B5FD;\n  font-weight: 800;\n}\n\n.hero-title .payoff {\n  font-weight: 700;\n  background: linear-gradient(90deg, #A78BFA, #F59E0B);\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n","path":null,"size_bytes":11201,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1592,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5741,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/examples/Navbar.tsx":{"content":"import Navbar from '../Navbar';\n\nexport default function NavbarExample() {\n  return (\n    <div className=\"h-screen\">\n      <Navbar \n        onJoinWaitlist={() => console.log('Nav Join waitlist clicked')} \n        onScheduleCall={() => console.log('Nav Schedule call clicked')} \n      />\n      <div className=\"pt-20 p-8\">\n        <p className=\"text-muted-foreground\">Scroll down to see the navbar change</p>\n        <div className=\"h-[200vh]\"></div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":480,"size_tokens":null},"server/storage.ts":{"content":"import { type User, type UpsertUser, type ResourcesUser, type InsertResourcesUser, type Resource, type InsertResource, type DownloadLog, type InsertDownloadLog, type AssessmentQuestion, type InsertAssessmentQuestion, type AssessmentAttempt, type InsertAssessmentAttempt, type AssessmentAnswer, type InsertAssessmentAnswer, type HackathonRegistration, type InsertHackathonRegistration, type CvSubmission, type InsertCvSubmission, type AnalysisJob, type InsertAnalysisJob, users, resourcesUsers, resources, downloadLogs, assessmentQuestions, assessmentAttempts, assessmentAnswers, hackathonRegistrations, cvSubmissions, analysisJobs } from \"@shared/schema\";\nimport bcrypt from \"bcrypt\";\nimport { db } from \"./db\";\nimport { eq, sql } from \"drizzle-orm\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n  \n  getResourcesUserByEmail(email: string): Promise<ResourcesUser | undefined>;\n  getResourcesUserById(id: string): Promise<ResourcesUser | undefined>;\n  createResourcesUser(user: InsertResourcesUser): Promise<ResourcesUser>;\n  getAllResources(): Promise<Resource[]>;\n  getResourceById(id: string): Promise<Resource | undefined>;\n  createResource(resource: InsertResource): Promise<Resource>;\n  updateResource(id: string, resource: Partial<InsertResource>): Promise<Resource | undefined>;\n  deleteResource(id: string): Promise<boolean>;\n  logDownload(log: InsertDownloadLog): Promise<DownloadLog>;\n  getDownloadStats(): Promise<{\n    totalResources: number;\n    totalDownloads: number;\n    mostDownloaded: { resourceId: string; title: string; downloads: number } | null;\n  }>;\n  \n  getAllAssessmentQuestions(): Promise<AssessmentQuestion[]>;\n  createAssessmentQuestion(question: InsertAssessmentQuestion): Promise<AssessmentQuestion>;\n  createAssessmentAttempt(attempt: InsertAssessmentAttempt): Promise<AssessmentAttempt>;\n  getAssessmentAttempt(id: string): Promise<AssessmentAttempt | undefined>;\n  getLatestIncompleteAttempt(userId: string): Promise<AssessmentAttempt | undefined>;\n  deleteAssessmentAttempt(id: string): Promise<boolean>;\n  saveAssessmentAnswer(answer: InsertAssessmentAnswer): Promise<AssessmentAnswer>;\n  getAttemptAnswers(attemptId: string): Promise<AssessmentAnswer[]>;\n  completeAssessmentAttempt(attemptId: string, totalScore: number, readinessBand: string, scoresJson: string): Promise<AssessmentAttempt | undefined>;\n  \n  // Hackathon Registration Methods\n  createHackathonRegistration(registration: InsertHackathonRegistration): Promise<HackathonRegistration>;\n  getHackathonRegistrationById(id: string): Promise<HackathonRegistration | undefined>;\n  getHackathonRegistrationByPhone(phone: string): Promise<HackathonRegistration | undefined>;\n  getHackathonRegistrationByEmail(email: string): Promise<HackathonRegistration | undefined>;\n  updateHackathonOtp(id: string, otpCode: string, expiresAt: Date): Promise<HackathonRegistration | undefined>;\n  verifyHackathonRegistration(id: string): Promise<HackathonRegistration | undefined>;\n  \n  // CV Submission Methods\n  createCvSubmission(submission: InsertCvSubmission): Promise<CvSubmission>;\n  getAllCvSubmissions(): Promise<CvSubmission[]>;\n  getCvSubmissionStats(): Promise<{ total: number; byRole: Record<string, number>; today: number }>;\n  \n  // User Onboarding Methods\n  updateUserOnboarding(userId: string, data: {\n    currentStatus?: string;\n    targetRole?: string;\n    yearsExperience?: number;\n    onboardingStatus?: string;\n    personalizationQuality?: string;\n  }): Promise<User | undefined>;\n  \n  // Analysis Job Methods\n  createAnalysisJob(job: InsertAnalysisJob): Promise<AnalysisJob>;\n  getAnalysisJob(id: string): Promise<AnalysisJob | undefined>;\n  getAnalysisJobsByUser(userId: string): Promise<AnalysisJob[]>;\n  updateAnalysisJobResults(id: string, results: {\n    status: string;\n    score?: number;\n    strengths?: string[];\n    gaps?: string[];\n    quickWins?: string[];\n    notes?: string;\n    needsJd?: boolean;\n    needsTargetRole?: boolean;\n  }): Promise<AnalysisJob | undefined>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  async initialize(): Promise<void> {\n    await this.initializeAdminUser();\n    await this.initializeAssessmentQuestions();\n  }\n\n  private async initializeAdminUser(): Promise<void> {\n    const adminEmail = \"admin@bcalm.org\";\n    const adminPassword = \"admin123\";\n    \n    const existingAdmin = await this.getResourcesUserByEmail(adminEmail);\n    if (existingAdmin) {\n      console.log(\"Admin user already exists:\", adminEmail);\n      return;\n    }\n    \n    const hashedPassword = await bcrypt.hash(adminPassword, 10);\n    await this.createResourcesUser({\n      name: \"Admin User\",\n      email: adminEmail,\n      password: hashedPassword,\n      isAdmin: true,\n    });\n    \n    console.log(\"Admin user initialized:\", adminEmail);\n  }\n\n  private async initializeAssessmentQuestions(): Promise<void> {\n    const existingQuestions = await this.getAllAssessmentQuestions();\n    if (existingQuestions.length > 0) {\n      console.log(\"Assessment questions already seeded:\", existingQuestions.length);\n      return;\n    }\n\n    const { ASSESSMENT_QUESTIONS } = await import(\"./data/assessmentQuestions\");\n    \n    for (const question of ASSESSMENT_QUESTIONS) {\n      await this.createAssessmentQuestion(question);\n    }\n    \n    console.log(\"Assessment questions initialized:\", ASSESSMENT_QUESTIONS.length);\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  async getResourcesUserByEmail(email: string): Promise<ResourcesUser | undefined> {\n    const [user] = await db.select().from(resourcesUsers).where(eq(resourcesUsers.email, email));\n    return user || undefined;\n  }\n\n  async createResourcesUser(insertUser: InsertResourcesUser): Promise<ResourcesUser> {\n    const [user] = await db.insert(resourcesUsers).values(insertUser).returning();\n    return user;\n  }\n\n  async getResourcesUserById(id: string): Promise<ResourcesUser | undefined> {\n    const [user] = await db.select().from(resourcesUsers).where(eq(resourcesUsers.id, id));\n    return user || undefined;\n  }\n\n  async getAllResources(): Promise<Resource[]> {\n    return await db.select().from(resources).where(eq(resources.isActive, true));\n  }\n\n  async getResourceById(id: string): Promise<Resource | undefined> {\n    const [resource] = await db.select().from(resources).where(eq(resources.id, id));\n    return resource || undefined;\n  }\n\n  async createResource(insertResource: InsertResource): Promise<Resource> {\n    const [resource] = await db.insert(resources).values(insertResource).returning();\n    return resource;\n  }\n\n  async updateResource(id: string, updateData: Partial<InsertResource>): Promise<Resource | undefined> {\n    const [resource] = await db\n      .update(resources)\n      .set({ ...updateData, updatedAt: new Date() })\n      .where(eq(resources.id, id))\n      .returning();\n    return resource || undefined;\n  }\n\n  async deleteResource(id: string): Promise<boolean> {\n    const [resource] = await db\n      .update(resources)\n      .set({ isActive: false, updatedAt: new Date() })\n      .where(eq(resources.id, id))\n      .returning();\n    return !!resource;\n  }\n\n  async logDownload(insertLog: InsertDownloadLog): Promise<DownloadLog> {\n    const [log] = await db.insert(downloadLogs).values(insertLog).returning();\n    return log;\n  }\n\n  async getDownloadStats(): Promise<{\n    totalResources: number;\n    totalDownloads: number;\n    mostDownloaded: { resourceId: string; title: string; downloads: number } | null;\n  }> {\n    const activeResources = await this.getAllResources();\n    const totalResources = activeResources.length;\n\n    const allDownloads = await db.select().from(downloadLogs);\n    const totalDownloads = allDownloads.length;\n\n    const downloadCounts = new Map<string, number>();\n    allDownloads.forEach((log) => {\n      downloadCounts.set(log.resourceId, (downloadCounts.get(log.resourceId) || 0) + 1);\n    });\n\n    let mostDownloaded: { resourceId: string; title: string; downloads: number } | null = null;\n    let maxDownloads = 0;\n\n    for (const [resourceId, count] of Array.from(downloadCounts.entries())) {\n      if (count > maxDownloads) {\n        const resource = await this.getResourceById(resourceId);\n        if (resource) {\n          mostDownloaded = {\n            resourceId,\n            title: resource.title,\n            downloads: count,\n          };\n          maxDownloads = count;\n        }\n      }\n    }\n\n    return {\n      totalResources,\n      totalDownloads,\n      mostDownloaded,\n    };\n  }\n\n  async getAllAssessmentQuestions(): Promise<AssessmentQuestion[]> {\n    return await db.select().from(assessmentQuestions).orderBy(assessmentQuestions.orderIndex);\n  }\n\n  async createAssessmentQuestion(question: InsertAssessmentQuestion): Promise<AssessmentQuestion> {\n    const [newQuestion] = await db.insert(assessmentQuestions).values(question).returning();\n    return newQuestion;\n  }\n\n  async createAssessmentAttempt(attempt: InsertAssessmentAttempt): Promise<AssessmentAttempt> {\n    const [newAttempt] = await db.insert(assessmentAttempts).values(attempt).returning();\n    return newAttempt;\n  }\n\n  async getAssessmentAttempt(id: string): Promise<AssessmentAttempt | undefined> {\n    const [attempt] = await db.select().from(assessmentAttempts).where(eq(assessmentAttempts.id, id));\n    return attempt || undefined;\n  }\n\n  async getLatestIncompleteAttempt(userId: string): Promise<AssessmentAttempt | undefined> {\n    const { and } = await import(\"drizzle-orm\");\n    const [attempt] = await db\n      .select()\n      .from(assessmentAttempts)\n      .where(and(\n        eq(assessmentAttempts.userId, userId),\n        eq(assessmentAttempts.isCompleted, false)\n      ))\n      .orderBy(sql`${assessmentAttempts.createdAt} DESC`)\n      .limit(1);\n    return attempt || undefined;\n  }\n\n  async deleteAssessmentAttempt(id: string): Promise<boolean> {\n    await db.delete(assessmentAnswers).where(eq(assessmentAnswers.attemptId, id));\n    const result = await db.delete(assessmentAttempts).where(eq(assessmentAttempts.id, id));\n    return true;\n  }\n\n  async saveAssessmentAnswer(answer: InsertAssessmentAnswer): Promise<AssessmentAnswer> {\n    const { and } = await import(\"drizzle-orm\");\n    const existing = await db\n      .select()\n      .from(assessmentAnswers)\n      .where(and(\n        eq(assessmentAnswers.attemptId, answer.attemptId),\n        eq(assessmentAnswers.questionId, answer.questionId)\n      ))\n      .limit(1);\n\n    if (existing.length > 0) {\n      const [updated] = await db\n        .update(assessmentAnswers)\n        .set({ answerValue: answer.answerValue })\n        .where(eq(assessmentAnswers.id, existing[0].id))\n        .returning();\n      return updated;\n    }\n\n    const [newAnswer] = await db.insert(assessmentAnswers).values(answer).returning();\n    return newAnswer;\n  }\n\n  async getAttemptAnswers(attemptId: string): Promise<AssessmentAnswer[]> {\n    return await db.select().from(assessmentAnswers).where(eq(assessmentAnswers.attemptId, attemptId));\n  }\n\n  async completeAssessmentAttempt(\n    attemptId: string,\n    totalScore: number,\n    readinessBand: string,\n    scoresJson: string\n  ): Promise<AssessmentAttempt | undefined> {\n    const { nanoid } = await import(\"nanoid\");\n    const shareToken = nanoid(16);\n    \n    const [updated] = await db\n      .update(assessmentAttempts)\n      .set({\n        totalScore,\n        readinessBand,\n        scoresJson,\n        isCompleted: true,\n        completedAt: new Date(),\n        shareToken,\n      })\n      .where(eq(assessmentAttempts.id, attemptId))\n      .returning();\n    return updated || undefined;\n  }\n\n  async getAssessmentAttemptByShareToken(shareToken: string): Promise<AssessmentAttempt | undefined> {\n    const [attempt] = await db\n      .select()\n      .from(assessmentAttempts)\n      .where(eq(assessmentAttempts.shareToken, shareToken));\n    return attempt || undefined;\n  }\n\n  async createHackathonRegistration(registration: InsertHackathonRegistration): Promise<HackathonRegistration> {\n    const [newRegistration] = await db.insert(hackathonRegistrations).values(registration).returning();\n    return newRegistration;\n  }\n\n  async getHackathonRegistrationById(id: string): Promise<HackathonRegistration | undefined> {\n    const [registration] = await db\n      .select()\n      .from(hackathonRegistrations)\n      .where(eq(hackathonRegistrations.id, id));\n    return registration || undefined;\n  }\n\n  async getHackathonRegistrationByPhone(phone: string): Promise<HackathonRegistration | undefined> {\n    const [registration] = await db\n      .select()\n      .from(hackathonRegistrations)\n      .where(eq(hackathonRegistrations.phone, phone));\n    return registration || undefined;\n  }\n\n  async getHackathonRegistrationByEmail(email: string): Promise<HackathonRegistration | undefined> {\n    const [registration] = await db\n      .select()\n      .from(hackathonRegistrations)\n      .where(eq(hackathonRegistrations.email, email));\n    return registration || undefined;\n  }\n\n  async updateHackathonOtp(id: string, otpCode: string, expiresAt: Date): Promise<HackathonRegistration | undefined> {\n    const [updated] = await db\n      .update(hackathonRegistrations)\n      .set({ otpCode, otpExpiresAt: expiresAt })\n      .where(eq(hackathonRegistrations.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async verifyHackathonRegistration(id: string): Promise<HackathonRegistration | undefined> {\n    const [updated] = await db\n      .update(hackathonRegistrations)\n      .set({ isVerified: true, otpCode: null, otpExpiresAt: null })\n      .where(eq(hackathonRegistrations.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  // CV Submission Methods\n  async createCvSubmission(submission: InsertCvSubmission): Promise<CvSubmission> {\n    const [newSubmission] = await db.insert(cvSubmissions).values(submission).returning();\n    return newSubmission;\n  }\n\n  async getAllCvSubmissions(): Promise<CvSubmission[]> {\n    return await db.select().from(cvSubmissions).orderBy(sql`${cvSubmissions.createdAt} DESC`);\n  }\n\n  async getCvSubmissionStats(): Promise<{ total: number; byRole: Record<string, number>; today: number }> {\n    const allSubmissions = await this.getAllCvSubmissions();\n    const total = allSubmissions.length;\n    \n    const byRole: Record<string, number> = {};\n    allSubmissions.forEach((sub) => {\n      byRole[sub.targetRole] = (byRole[sub.targetRole] || 0) + 1;\n    });\n    \n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const todayCount = allSubmissions.filter((sub) => {\n      const subDate = new Date(sub.createdAt);\n      subDate.setHours(0, 0, 0, 0);\n      return subDate.getTime() === today.getTime();\n    }).length;\n    \n    return { total, byRole, today: todayCount };\n  }\n\n  // User Onboarding Methods\n  async updateUserOnboarding(userId: string, data: {\n    currentStatus?: string;\n    targetRole?: string;\n    yearsExperience?: number;\n    onboardingStatus?: string;\n    personalizationQuality?: string;\n  }): Promise<User | undefined> {\n    const [updated] = await db\n      .update(users)\n      .set({\n        ...data,\n        updatedAt: new Date(),\n      })\n      .where(eq(users.id, userId))\n      .returning();\n    return updated || undefined;\n  }\n\n  // Analysis Job Methods\n  async createAnalysisJob(job: InsertAnalysisJob): Promise<AnalysisJob> {\n    const [newJob] = await db.insert(analysisJobs).values(job).returning();\n    return newJob;\n  }\n\n  async getAnalysisJob(id: string): Promise<AnalysisJob | undefined> {\n    const [job] = await db.select().from(analysisJobs).where(eq(analysisJobs.id, id));\n    return job || undefined;\n  }\n\n  async getAnalysisJobsByUser(userId: string): Promise<AnalysisJob[]> {\n    return await db\n      .select()\n      .from(analysisJobs)\n      .where(eq(analysisJobs.userId, userId))\n      .orderBy(sql`${analysisJobs.createdAt} DESC`);\n  }\n\n  async updateAnalysisJobResults(id: string, results: {\n    status: string;\n    score?: number;\n    strengths?: string[];\n    gaps?: string[];\n    quickWins?: string[];\n    notes?: string;\n    needsJd?: boolean;\n    needsTargetRole?: boolean;\n  }): Promise<AnalysisJob | undefined> {\n    const [updated] = await db\n      .update(analysisJobs)\n      .set({\n        status: results.status,\n        score: results.score,\n        strengths: results.strengths,\n        gaps: results.gaps,\n        quickWins: results.quickWins,\n        notes: results.notes,\n        needsJd: results.needsJd,\n        needsTargetRole: results.needsTargetRole,\n        completedAt: results.status === \"complete\" ? new Date() : undefined,\n      })\n      .where(eq(analysisJobs.id, id))\n      .returning();\n    return updated || undefined;\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","path":null,"size_bytes":17265,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"shared/resourcesSchema.ts":{"content":"import { pgTable, text, timestamp, boolean, integer, uuid } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const resourcesUsers = pgTable(\"resources_users\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  email: text(\"email\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  name: text(\"name\").notNull(),\n  isAdmin: boolean(\"is_admin\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const resources = pgTable(\"resources\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  category: text(\"category\").notNull(),\n  type: text(\"type\").notNull(),\n  filePath: text(\"file_path\"),\n  fileSize: integer(\"file_size\"),\n  originalFileName: text(\"original_file_name\"),\n  mimeType: text(\"mime_type\"),\n  isActive: boolean(\"is_active\").notNull().default(true),\n  uploadedDate: timestamp(\"uploaded_date\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const downloadLogs = pgTable(\"download_logs\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  userId: uuid(\"user_id\").notNull().references(() => resourcesUsers.id),\n  resourceId: uuid(\"resource_id\").notNull().references(() => resources.id),\n  downloadedAt: timestamp(\"downloaded_at\").notNull().defaultNow(),\n});\n\nexport const insertResourcesUserSchema = createInsertSchema(resourcesUsers, {\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n}).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertResourceSchema = createInsertSchema(resources, {\n  title: z.string().min(3, \"Title must be at least 3 characters\"),\n  description: z.string().min(10, \"Description must be at least 10 characters\"),\n  category: z.enum([\"prompts\", \"books\", \"videos\"], {\n    errorMap: () => ({ message: \"Category must be prompts, books, or videos\" }),\n  }),\n  type: z.enum([\"pdf\", \"doc\", \"video\", \"link\"], {\n    errorMap: () => ({ message: \"Type must be pdf, doc, video, or link\" }),\n  }),\n}).omit({\n  id: true,\n  uploadedDate: true,\n  updatedAt: true,\n  isActive: true,\n});\n\nexport const insertDownloadLogSchema = createInsertSchema(downloadLogs).omit({\n  id: true,\n  downloadedAt: true,\n});\n\nexport type ResourcesUser = typeof resourcesUsers.$inferSelect;\nexport type InsertResourcesUser = z.infer<typeof insertResourcesUserSchema>;\n\nexport type Resource = typeof resources.$inferSelect;\nexport type InsertResource = z.infer<typeof insertResourceSchema>;\n\nexport type DownloadLog = typeof downloadLogs.$inferSelect;\nexport type InsertDownloadLog = z.infer<typeof insertDownloadLogSchema>;\n","path":null,"size_bytes":2896,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"server/routes/resources.ts":{"content":"import { Router, Response } from \"express\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport { storage } from \"../storage\";\nimport { authenticateToken, requireAdmin, generateToken, type AuthRequest } from \"../middleware/auth\";\nimport { upload } from \"../middleware/upload\";\nimport { insertResourcesUserSchema, insertResourceSchema } from \"@shared/schema\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nconst router = Router();\n\nrouter.post(\"/auth/signup\", async (req, res) => {\n  try {\n    const validatedData = insertResourcesUserSchema.parse(req.body);\n    \n    const existingUser = await storage.getResourcesUserByEmail(validatedData.email);\n    if (existingUser) {\n      return res.status(400).json({ error: \"Email already registered\" });\n    }\n\n    const hashedPassword = await bcrypt.hash(validatedData.password, 10);\n    \n    const user = await storage.createResourcesUser({\n      ...validatedData,\n      password: hashedPassword,\n    });\n\n    const token = generateToken(user.id, user.email, user.isAdmin);\n\n    res.status(201).json({\n      token,\n      user: {\n        id: user.id,\n        email: user.email,\n        name: user.name,\n        isAdmin: user.isAdmin,\n      },\n    });\n  } catch (error) {\n    console.error(\"Signup error:\", error);\n    if (error instanceof Error && error.name === \"ZodError\") {\n      return res.status(400).json({ error: \"Validation error\", details: error });\n    }\n    res.status(500).json({ error: \"Failed to create user\" });\n  }\n});\n\nrouter.post(\"/auth/login\", async (req, res) => {\n  try {\n    const { email, password } = req.body;\n\n    if (!email || !password) {\n      return res.status(400).json({ error: \"Email and password are required\" });\n    }\n\n    const user = await storage.getResourcesUserByEmail(email);\n    if (!user) {\n      return res.status(401).json({ error: \"Invalid credentials\" });\n    }\n\n    const isPasswordValid = await bcrypt.compare(password, user.password);\n    if (!isPasswordValid) {\n      return res.status(401).json({ error: \"Invalid credentials\" });\n    }\n\n    const token = generateToken(user.id, user.email, user.isAdmin);\n\n    res.json({\n      token,\n      user: {\n        id: user.id,\n        email: user.email,\n        name: user.name,\n        isAdmin: user.isAdmin,\n      },\n    });\n  } catch (error) {\n    console.error(\"Login error:\", error);\n    res.status(500).json({ error: \"Failed to login\" });\n  }\n});\n\nrouter.post(\"/admin/login\", async (req, res) => {\n  try {\n    const { email, password } = req.body;\n\n    if (!email || !password) {\n      return res.status(400).json({ error: \"Email and password are required\" });\n    }\n\n    const user = await storage.getResourcesUserByEmail(email);\n    if (!user) {\n      return res.status(401).json({ error: \"Invalid credentials\" });\n    }\n\n    if (!user.isAdmin) {\n      return res.status(403).json({ error: \"Access denied. Admin privileges required.\" });\n    }\n\n    const isPasswordValid = await bcrypt.compare(password, user.password);\n    if (!isPasswordValid) {\n      return res.status(401).json({ error: \"Invalid credentials\" });\n    }\n\n    const token = generateToken(user.id, user.email, user.isAdmin);\n\n    res.json({\n      token,\n      user: {\n        id: user.id,\n        email: user.email,\n        name: user.name,\n        isAdmin: user.isAdmin,\n      },\n    });\n  } catch (error) {\n    console.error(\"Admin login error:\", error);\n    res.status(500).json({ error: \"Failed to login\" });\n  }\n});\n\nrouter.get(\"/\", async (req, res) => {\n  try {\n    const resources = await storage.getAllResources();\n    res.json(resources);\n  } catch (error) {\n    console.error(\"Get resources error:\", error);\n    res.status(500).json({ error: \"Failed to fetch resources\" });\n  }\n});\n\nrouter.get(\"/download/:resourceId\", async (req: AuthRequest, res: Response) => {\n  const authHeader = req.headers[\"authorization\"];\n  const headerToken = authHeader && authHeader.split(\" \")[1];\n  const queryToken = req.query.token as string;\n  const token = headerToken || queryToken;\n\n  if (!token) {\n    return res.status(401).json({ error: \"Access token required\" });\n  }\n\n  try {\n    const decoded = jwt.verify(token, process.env.JWT_SECRET || process.env.SESSION_SECRET || \"\") as {\n      userId: string;\n      email: string;\n      isAdmin: boolean;\n    };\n    req.user = decoded;\n  } catch (error) {\n    return res.status(403).json({ error: \"Invalid or expired token\" });\n  }\n  try {\n    const { resourceId } = req.params;\n    \n    const resource = await storage.getResourceById(resourceId);\n    if (!resource || !resource.isActive) {\n      return res.status(404).json({ error: \"Resource not found\" });\n    }\n\n    if (resource.type === \"link\") {\n      try {\n        await storage.logDownload({\n          userId: req.user!.userId,\n          resourceId: resource.id,\n        });\n      } catch (logError) {\n        console.error(\"Failed to log link download:\", logError);\n      }\n      return res.json({ url: resource.filePath });\n    }\n\n    if (!resource.filePath) {\n      return res.status(404).json({ error: \"File not found\" });\n    }\n\n    const filePath = path.join(process.cwd(), resource.filePath);\n    \n    if (!fs.existsSync(filePath)) {\n      console.error(\"File not found on disk:\", filePath);\n      return res.status(404).json({ error: \"File not found on server\" });\n    }\n\n    const stats = fs.statSync(filePath);\n    const filename = resource.originalFileName || path.basename(filePath);\n    const mimeType = resource.mimeType || \"application/octet-stream\";\n\n    res.setHeader(\"Content-Type\", mimeType);\n    res.setHeader(\"Content-Length\", stats.size);\n    res.setHeader(\"Content-Disposition\", `attachment; filename=\"${filename}\"`);\n\n    const fileStream = fs.createReadStream(filePath);\n    \n    fileStream.on(\"error\", (error) => {\n      console.error(\"File stream error:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Failed to stream file\" });\n      }\n    });\n\n    fileStream.on(\"end\", async () => {\n      try {\n        await storage.logDownload({\n          userId: req.user!.userId,\n          resourceId: resource.id,\n        });\n      } catch (logError) {\n        console.error(\"Failed to log download (file already sent):\", logError);\n      }\n    });\n\n    fileStream.pipe(res);\n  } catch (error) {\n    console.error(\"Download error:\", error);\n    if (!res.headersSent) {\n      res.status(500).json({ error: \"Failed to download resource\" });\n    }\n  }\n});\n\nrouter.post(\"/admin/upload\", authenticateToken, requireAdmin, upload.single(\"file\"), async (req: AuthRequest, res: Response) => {\n  try {\n    const { title, description, category, type } = req.body;\n\n    let filePath: string | null = null;\n    let fileSize: number | null = null;\n    let originalFileName: string | null = null;\n    let mimeType: string | null = null;\n\n    if (req.file) {\n      filePath = req.file.path;\n      fileSize = req.file.size;\n      originalFileName = req.file.originalname;\n      mimeType = req.file.mimetype;\n    } else if (type === \"link\" && req.body.filePath) {\n      filePath = req.body.filePath;\n    }\n\n    const resourceData = {\n      title,\n      description,\n      category,\n      type,\n      filePath,\n      fileSize,\n      originalFileName,\n      mimeType,\n    };\n\n    const validatedData = insertResourceSchema.parse(resourceData);\n    \n    const resource = await storage.createResource(validatedData);\n\n    res.status(201).json(resource);\n  } catch (error) {\n    console.error(\"Upload error:\", error);\n    if (req.file && req.file.path) {\n      fs.unlinkSync(req.file.path);\n    }\n    if (error instanceof Error && error.name === \"ZodError\") {\n      return res.status(400).json({ error: \"Validation error\", details: error });\n    }\n    res.status(500).json({ error: \"Failed to upload resource\" });\n  }\n});\n\nrouter.put(\"/admin/:resourceId\", authenticateToken, requireAdmin, upload.single(\"file\"), async (req: AuthRequest, res: Response) => {\n  try {\n    const { resourceId } = req.params;\n    const { title, description, category, type, filePath } = req.body;\n\n    const existingResource = await storage.getResourceById(resourceId);\n    if (!existingResource) {\n      if (req.file && req.file.path) {\n        fs.unlinkSync(req.file.path);\n      }\n      return res.status(404).json({ error: \"Resource not found\" });\n    }\n\n    const updateData: Partial<typeof insertResourceSchema._type> = {};\n    if (title) updateData.title = title;\n    if (description) updateData.description = description;\n    if (category) updateData.category = category;\n    if (type) updateData.type = type;\n\n    if (req.file) {\n      if (existingResource.filePath && existingResource.filePath.startsWith(\"uploads/\")) {\n        try {\n          fs.unlinkSync(existingResource.filePath);\n        } catch (err) {\n          console.error(\"Failed to delete old file:\", err);\n        }\n      }\n      updateData.filePath = req.file.path;\n      updateData.fileSize = req.file.size;\n      updateData.originalFileName = req.file.originalname;\n      updateData.mimeType = req.file.mimetype;\n    } else if (filePath && type === \"link\") {\n      updateData.filePath = filePath;\n    }\n\n    const updatedResource = await storage.updateResource(resourceId, updateData);\n\n    if (!updatedResource) {\n      return res.status(404).json({ error: \"Resource not found\" });\n    }\n\n    res.json(updatedResource);\n  } catch (error) {\n    console.error(\"Update error:\", error);\n    if (req.file && req.file.path) {\n      try {\n        fs.unlinkSync(req.file.path);\n      } catch (err) {\n        console.error(\"Failed to cleanup uploaded file:\", err);\n      }\n    }\n    res.status(500).json({ error: \"Failed to update resource\" });\n  }\n});\n\nrouter.delete(\"/admin/:resourceId\", authenticateToken, requireAdmin, async (req: AuthRequest, res: Response) => {\n  try {\n    const { resourceId } = req.params;\n    \n    const success = await storage.deleteResource(resourceId);\n    \n    if (!success) {\n      return res.status(404).json({ error: \"Resource not found\" });\n    }\n\n    res.json({ message: \"Resource deleted successfully\" });\n  } catch (error) {\n    console.error(\"Delete error:\", error);\n    res.status(500).json({ error: \"Failed to delete resource\" });\n  }\n});\n\nrouter.get(\"/admin/stats\", authenticateToken, requireAdmin, async (req: AuthRequest, res: Response) => {\n  try {\n    const stats = await storage.getDownloadStats();\n    res.json(stats);\n  } catch (error) {\n    console.error(\"Stats error:\", error);\n    res.status(500).json({ error: \"Failed to fetch stats\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":10524,"size_tokens":null},"client/src/components/HeroSection.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { ChevronRight, Sparkles } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport neuralBg from \"@assets/generated_images/AI_neural_network_hero_background_86a25de9.png\";\n\ninterface HeroSectionProps {\n  onOpenLeadModal: () => void;\n}\n\nexport default function HeroSection({ onOpenLeadModal }: HeroSectionProps) {\n  return (\n    <section \n      id=\"hero\"\n      className=\"relative min-h-screen overflow-hidden\" \n      style={{ paddingTop: '60px' }}\n    >\n      {/* Layer 1: Rich multi-stop gradient background */}\n      <div \n        className=\"absolute inset-0 z-0\"\n        style={{\n          background: 'linear-gradient(180deg, #0a0014 0%, #110022 25%, #1a0033 50%, #110022 75%, #0a0014 100%)',\n        }}\n      />\n      \n      {/* Layer 2: Neural network AI background - reduced opacity */}\n      <div \n        className=\"absolute inset-0 z-[1]\"\n        style={{\n          backgroundImage: `url(${neuralBg})`,\n          backgroundSize: 'cover',\n          backgroundPosition: 'center',\n          opacity: 0.08,\n          mixBlendMode: 'screen',\n        }}\n      />\n      \n      {/* Layer 3: Central spotlight glow - reduced by ~50% */}\n      <div className=\"absolute inset-0 z-[2] overflow-hidden pointer-events-none\">\n        <div \n          className=\"absolute top-1/4 left-1/2 -translate-x-1/2 w-[800px] h-[600px]\"\n          style={{\n            background: 'radial-gradient(ellipse at center, rgba(139, 92, 246, 0.12) 0%, rgba(124, 58, 237, 0.06) 30%, transparent 70%)',\n          }}\n        />\n        {/* Secondary glow - reduced */}\n        <div \n          className=\"absolute top-[40%] left-1/2 -translate-x-1/2 w-[500px] h-[400px]\"\n          style={{\n            background: 'radial-gradient(ellipse at center, rgba(167, 139, 250, 0.08) 0%, transparent 60%)',\n          }}\n        />\n      </div>\n      \n      {/* Layer 4: Edge vignette for depth */}\n      <div \n        className=\"absolute inset-0 z-[3] pointer-events-none\"\n        style={{\n          background: 'radial-gradient(ellipse at center, transparent 40%, rgba(10, 0, 20, 0.6) 100%)',\n        }}\n      />\n      \n      <div className=\"relative z-10 container mx-auto px-4 py-8 md:py-12 flex flex-col items-center justify-center min-h-[calc(100vh-60px)]\" style={{ maxWidth: '800px' }}>\n        <motion.div\n          initial={{ opacity: 0, y: 8 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3, ease: \"easeOut\" }}\n          className=\"text-center\"\n        >\n          {/* Hero Surface Panel */}\n          <div \n            className=\"px-6 py-6 md:px-8 md:py-7 rounded-[20px]\"\n            style={{\n              background: 'rgba(255, 255, 255, 0.04)',\n              border: '1px solid rgba(255, 255, 255, 0.08)',\n            }}\n          >\n            {/* Eyebrow Pill - smaller, tighter */}\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ duration: 0.3 }}\n              className=\"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full mb-4 md:mb-5\"\n              style={{\n                background: 'linear-gradient(135deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.1) 50%, rgba(217, 119, 6, 0.15) 100%)',\n                border: '1px solid rgba(251, 191, 36, 0.2)',\n              }}\n            >\n              <Sparkles className=\"w-3.5 h-3.5 text-amber-400\" />\n              <span \n                className=\"text-xs font-medium text-amber-200/90 tracking-wide\"\n                style={{ fontSize: '12px' }}\n              >\n                India's #1 AI Interview Prep Platform\n              </span>\n            </motion.div>\n            \n            {/* Main Headline - polished typography */}\n            <h1 className=\"hero-title mb-3 md:mb-4\">\n              Crack Your <span className=\"accent\">Dream Job</span><br />\n              in <span className=\"payoff\">30 Days</span>\n            </h1>\n            \n            {/* Subline */}\n            <p className=\"text-base md:text-lg text-white/70 mb-6 md:mb-7 font-medium\">\n              Free AI CV Score + 30-Day Personalized Plan\n            </p>\n            \n            {/* Primary CTA Button */}\n            <motion.div\n              id=\"hero-cta\"\n              initial={{ opacity: 0, y: 8 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.3, delay: 0.15 }}\n              className=\"flex flex-col items-center\"\n            >\n              <Button \n                onClick={onOpenLeadModal}\n                className=\"h-14 px-12 text-lg font-bold rounded-xl transition-all duration-[250ms] ease-out hover:scale-[1.02] active:scale-[0.98]\"\n                style={{\n                  background: 'linear-gradient(135deg, #A855F7 0%, #8B5CF6 25%, #7C3AED 50%, #6D28D9 75%, #5B21B6 100%)',\n                  border: '1px solid rgba(196, 181, 253, 0.4)',\n                  boxShadow: '0 4px 24px rgba(139, 92, 246, 0.35), 0 2px 8px rgba(139, 92, 246, 0.2)',\n                  textShadow: '0 1px 2px rgba(0,0,0,0.2)',\n                }}\n                data-testid=\"button-start-free\"\n              >\n                Start for Free\n                <ChevronRight className=\"ml-2 w-5 h-5\" />\n              </Button>\n            </motion.div>\n          </div>\n          \n          {/* Trust Section - with background strip */}\n          <motion.div\n            initial={{ opacity: 0, y: 8 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3, delay: 0.25 }}\n            className=\"mt-10 md:mt-12 -mx-6 md:-mx-8 px-6 md:px-8 py-5 md:py-6\"\n            style={{\n              background: 'rgba(255, 255, 255, 0.03)',\n            }}\n          >\n            <p \n              className=\"font-semibold text-white/90 mb-4\"\n              style={{ fontSize: '14px' }}\n            >\n              Trusted by Students from Top Institutions\n            </p>\n            \n            {/* College Chips - improved contrast with hover */}\n            <div className=\"flex flex-wrap justify-center gap-2.5 md:gap-3 mb-5\">\n              {[\"IIT\", \"BITS\", \"NIT\", \"IIM\"].map((college) => (\n                <span \n                  key={college}\n                  className=\"px-4 py-1.5 rounded-lg text-sm font-semibold transition-all duration-200 hover:-translate-y-[1px]\"\n                  style={{\n                    background: 'rgba(255, 255, 255, 0.06)',\n                    border: '1px solid rgba(255, 255, 255, 0.18)',\n                    color: 'rgba(255, 255, 255, 0.9)',\n                  }}\n                >\n                  {college}\n                </span>\n              ))}\n            </div>\n            \n            {/* Success Stories - larger text */}\n            <div className=\"flex items-center justify-center gap-3\">\n              <div className=\"flex -space-x-2.5\">\n                <div \n                  className=\"w-9 h-9 rounded-full border-2 border-[#110022] flex items-center justify-center text-xs font-bold text-white\"\n                  style={{\n                    background: 'linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)',\n                  }}\n                >\n                  A\n                </div>\n                <div \n                  className=\"w-9 h-9 rounded-full border-2 border-[#110022] flex items-center justify-center text-xs font-bold text-white\"\n                  style={{\n                    background: 'linear-gradient(135deg, #F59E0B 0%, #D97706 100%)',\n                  }}\n                >\n                  R\n                </div>\n                <div \n                  className=\"w-9 h-9 rounded-full border-2 border-[#110022] flex items-center justify-center text-xs font-bold text-white\"\n                  style={{\n                    background: 'linear-gradient(135deg, #10B981 0%, #059669 100%)',\n                  }}\n                >\n                  S\n                </div>\n                <div \n                  className=\"w-9 h-9 rounded-full border-2 border-[#110022] flex items-center justify-center text-xs font-bold text-white\"\n                  style={{\n                    background: 'linear-gradient(135deg, #EC4899 0%, #DB2777 100%)',\n                  }}\n                >\n                  P\n                </div>\n              </div>\n              <div className=\"text-left\">\n                <p \n                  className=\"font-semibold text-white\"\n                  style={{ fontSize: '17px' }}\n                >\n                  200+ Success Stories\n                </p>\n                <p className=\"text-sm text-white/60\">\n                  Students placed at top companies\n                </p>\n              </div>\n            </div>\n          </motion.div>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":8812,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2359,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/components/examples/CareerSupportSection.tsx":{"content":"import CareerSupportSection from '../CareerSupportSection';\n\nexport default function CareerSupportSectionExample() {\n  return <CareerSupportSection />;\n}\n","path":null,"size_bytes":154,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/components/ScheduleCallDialog.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Calendar, Loader2 } from \"lucide-react\";\n\n// TypeScript declaration for Calendly API\ndeclare global {\n  interface Window {\n    Calendly?: {\n      initPopupWidget: (options: { url: string }) => void;\n    };\n  }\n}\n\ninterface ScheduleCallDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport default function ScheduleCallDialog({ open, onOpenChange }: ScheduleCallDialogProps) {\n  const [isCalendlyReady, setIsCalendlyReady] = useState(false);\n\n  const openCalendly = () => {\n    if (window.Calendly) {\n      window.Calendly.initPopupWidget({\n        url: 'https://calendly.com/aditya-singh-bcalm/30min'\n      });\n    }\n  };\n\n  useEffect(() => {\n    // Load Calendly script\n    const script = document.createElement('script');\n    script.src = 'https://assets.calendly.com/assets/external/widget.js';\n    script.async = true;\n    script.onload = () => {\n      setIsCalendlyReady(true);\n    };\n    document.body.appendChild(script);\n\n    const link = document.createElement('link');\n    link.href = 'https://assets.calendly.com/assets/external/widget.css';\n    link.rel = 'stylesheet';\n    document.head.appendChild(link);\n\n    return () => {\n      // Defensive cleanup\n      if (document.body.contains(script)) {\n        document.body.removeChild(script);\n      }\n      if (document.head.contains(link)) {\n        document.head.removeChild(link);\n      }\n    };\n  }, []);\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Schedule a Call</DialogTitle>\n          <DialogDescription>\n            Book a 30-minute consultation with our team to learn how Bcalm can help you land your dream job.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-sm\">What to expect:</h4>\n            <ul className=\"text-sm text-muted-foreground space-y-1 list-disc list-inside\">\n              <li>Discuss your career goals and target roles</li>\n              <li>Review our 30-day interview prep roadmap</li>\n              <li>Q&A about your specific background</li>\n              <li>Next steps and enrollment process</li>\n            </ul>\n          </div>\n          \n          <Button\n            onClick={openCalendly}\n            className=\"w-full\"\n            disabled={!isCalendlyReady}\n            data-testid=\"button-open-calendly\"\n          >\n            {isCalendlyReady ? (\n              <>\n                <Calendar className=\"mr-2 h-4 w-4\" />\n                Select a Time Slot\n              </>\n            ) : (\n              <>\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                Loading booking...\n              </>\n            )}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":3120,"size_tokens":null},"client/src/components/TestimonialsSection.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { motion } from \"framer-motion\";\nimport priyaImage from \"@assets/generated_images/Female_IIT_student_testimonial_e0fb5fa7.png\";\nimport arjunImage from \"@assets/generated_images/Male_BITS_student_testimonial_a5817a1b.png\";\nimport rheaImage from \"@assets/generated_images/Female_NIT_student_testimonial_6481001f.png\";\nimport siddharthImage from \"@assets/generated_images/Male_IIT_Madras_student_testimonial_1724e208.png\";\nimport aditiImage from \"@assets/generated_images/Female_IIIT_Hyderabad_student_testimonial_a6c7c126.png\";\nimport karanImage from \"@assets/generated_images/Male_NIT_Surathkal_student_testimonial_50308592.png\";\n\nconst testimonials = [\n  {\n    quote: \"This program connected AI with real product thinking. The assignments and feedback made me truly interview-ready.\",\n    name: \"Priya S.\",\n    college: \"IIT Delhi\",\n    image: priyaImage,\n    initials: \"PS\"\n  },\n  {\n    quote: \"Resume + portfolio help was priceless. I landed my first PM internship because of the portfolio I built here.\",\n    name: \"Arjun R.\",\n    college: \"BITS Pilani\",\n    image: arjunImage,\n    initials: \"AR\"\n  },\n  {\n    quote: \"I built my first AI product case study as the capstone. Interviewers loved it.\",\n    name: \"Rhea M.\",\n    college: \"NIT Trichy\",\n    image: rheaImage,\n    initials: \"RM\"\n  },\n  {\n    quote: \"The community is incredible — the quality of peers pushes you to do better work.\",\n    name: \"Siddharth P.\",\n    college: \"IIT Madras\",\n    image: siddharthImage,\n    initials: \"SP\"\n  },\n  {\n    quote: \"Learning from working AI PMs gave me clarity you can't find in textbooks.\",\n    name: \"Aditi S.\",\n    college: \"IIIT Hyderabad\",\n    image: aditiImage,\n    initials: \"AS\"\n  },\n  {\n    quote: \"The opportunity board and referrals helped me get real interviews at AI startups.\",\n    name: \"Karan J.\",\n    college: \"NIT Surathkal\",\n    image: karanImage,\n    initials: \"KJ\"\n  }\n];\n\nexport default function TestimonialsSection() {\n  return (\n    <section id=\"reviews\" className=\"py-16 bg-muted/30\">\n      <div className=\"container mx-auto px-4 max-w-6xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-10\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            What Our Students Say\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            Hear from students who transformed their careers with our program\n          </p>\n        </motion.div>\n        \n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          {testimonials.map((testimonial, index) => (\n            <motion.div\n              key={index}\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              viewport={{ once: true }}\n              transition={{ duration: 0.6, delay: index * 0.1 }}\n            >\n              <Card className=\"h-full hover-elevate\" data-testid={`card-testimonial-${index}`}>\n                <CardContent className=\"pt-6\">\n                  <div className=\"flex flex-col items-center text-center\">\n                    <Avatar className=\"h-20 w-20 mb-4\">\n                      <AvatarImage src={testimonial.image} alt={testimonial.name} />\n                      <AvatarFallback>{testimonial.initials}</AvatarFallback>\n                    </Avatar>\n                    <blockquote className=\"text-muted-foreground mb-4 italic\">\n                      \"{testimonial.quote}\"\n                    </blockquote>\n                    <div>\n                      <p className=\"font-semibold text-foreground\">{testimonial.name}</p>\n                      <p className=\"text-sm text-muted-foreground\">{testimonial.college}</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </motion.div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":4185,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/Navbar.tsx":{"content":"import { useState } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { GraduationCap, LogOut, Loader2, Settings } from \"lucide-react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n} from \"@/components/ui/dropdown-menu\";\nimport AuthModal from \"@/components/AuthModal\";\nimport ChangeProfileModal from \"@/components/ChangeProfileModal\";\n\nexport default function Navbar() {\n  const [, navigate] = useLocation();\n  const { user, isLoading, isAuthenticated, logout } = useAuth();\n  const [authModalOpen, setAuthModalOpen] = useState(false);\n  const [changeProfileOpen, setChangeProfileOpen] = useState(false);\n\n  const handleLogout = async () => {\n    await logout();\n    navigate(\"/\");\n  };\n\n  const handleCVReview = () => {\n    const onboardingData = sessionStorage.getItem(\"cv_onboarding\");\n    if (onboardingData) {\n      navigate(\"/upload\");\n    } else {\n      navigate(\"/onboarding\");\n    }\n  };\n\n  const scrollToHeroCTA = () => {\n    const heroSection = document.getElementById('hero-cta');\n    if (heroSection) {\n      heroSection.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    } else {\n      navigate('/');\n    }\n  };\n\n  const getUserInitials = () => {\n    if (!user) return \"U\";\n    const first = user.firstName?.charAt(0) || \"\";\n    const last = user.lastName?.charAt(0) || \"\";\n    return (first + last) || user.email?.charAt(0)?.toUpperCase() || \"U\";\n  };\n\n  return (\n    <>\n      <nav\n        className=\"fixed top-0 left-0 right-0 z-50\"\n        style={{\n          height: '60px',\n          background: 'rgba(17, 0, 34, 0.95)',\n          backdropFilter: 'blur(10px)',\n          borderBottom: '1px solid rgba(255, 255, 255, 0.1)',\n        }}\n      >\n        <div className=\"container mx-auto max-w-6xl h-full\">\n          <div className=\"flex items-center justify-between px-4 md:px-6 gap-4 h-full\">\n            <Link href=\"/\" className=\"flex items-center gap-2\" data-testid=\"link-logo\">\n              <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-primary\">\n                <GraduationCap className=\"h-5 w-5 text-white\" />\n              </div>\n              <span className=\"text-white font-bold text-xl tracking-tight\">BCALM</span>\n            </Link>\n            \n            <div className=\"flex items-center gap-4\">\n              {isLoading ? (\n                <Loader2 className=\"h-4 w-4 animate-spin text-white/60\" />\n              ) : isAuthenticated && user ? (\n                <div className=\"flex items-center gap-4\">\n                  {/* CV Review - subtle text link */}\n                  <button\n                    onClick={handleCVReview}\n                    className=\"text-white/70 text-sm font-medium hover:text-white transition-colors\"\n                    data-testid=\"link-cv-review\"\n                  >\n                    CV Review\n                  </button>\n                  \n                  {/* Start for free - primary CTA */}\n                  <Button\n                    onClick={scrollToHeroCTA}\n                    size=\"sm\"\n                    className=\"font-semibold\"\n                    style={{\n                      background: 'linear-gradient(135deg, #A855F7 0%, #7C3AED 50%, #5B21B6 100%)',\n                      border: '1px solid rgba(196, 181, 253, 0.3)',\n                    }}\n                    data-testid=\"button-start-free-nav\"\n                  >\n                    Start for free\n                  </Button>\n                  \n                  <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                      <button className=\"flex items-center gap-2 hover:opacity-80 transition-opacity\" data-testid=\"button-user-menu\">\n                        <Avatar className=\"h-8 w-8 border border-white/20\">\n                          <AvatarImage src={user.profileImageUrl || undefined} alt={user.firstName || \"User\"} />\n                          <AvatarFallback className=\"bg-primary/50 text-white text-xs\">\n                            {getUserInitials()}\n                          </AvatarFallback>\n                        </Avatar>\n                        <span className=\"hidden sm:block text-white/80 text-sm font-medium\">\n                          {user.firstName || user.email?.split('@')[0]}\n                        </span>\n                      </button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent align=\"end\" className=\"w-48\">\n                      <DropdownMenuItem onClick={() => setChangeProfileOpen(true)} className=\"cursor-pointer\" data-testid=\"button-change-profile\">\n                        <Settings className=\"mr-2 h-4 w-4\" />\n                        Change Profile\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                      <DropdownMenuItem onClick={handleLogout} className=\"cursor-pointer\" data-testid=\"button-logout\">\n                        <LogOut className=\"mr-2 h-4 w-4\" />\n                        Logout\n                      </DropdownMenuItem>\n                    </DropdownMenuContent>\n                  </DropdownMenu>\n                </div>\n              ) : (\n                <div className=\"flex items-center gap-4\">\n                  {/* CV Review - subtle text link */}\n                  <button\n                    onClick={handleCVReview}\n                    className=\"text-white/70 text-sm font-medium hover:text-white transition-colors\"\n                    data-testid=\"link-cv-review\"\n                  >\n                    CV Review\n                  </button>\n                  \n                  {/* Start for free - primary CTA */}\n                  <Button\n                    onClick={scrollToHeroCTA}\n                    size=\"sm\"\n                    className=\"font-semibold\"\n                    style={{\n                      background: 'linear-gradient(135deg, #A855F7 0%, #7C3AED 50%, #5B21B6 100%)',\n                      border: '1px solid rgba(196, 181, 253, 0.3)',\n                    }}\n                    data-testid=\"button-start-free-nav\"\n                  >\n                    Start for free\n                  </Button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </nav>\n      \n      <AuthModal open={authModalOpen} onOpenChange={setAuthModalOpen} />\n      \n      <ChangeProfileModal \n        open={changeProfileOpen} \n        onOpenChange={setChangeProfileOpen}\n        profile={user ? {\n          current_status: (user as any).current_status,\n          target_role: (user as any).target_role,\n          years_experience: (user as any).years_experience\n        } : null}\n      />\n    </>\n  );\n}\n","path":null,"size_bytes":6877,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/components/examples/InstructorsSection.tsx":{"content":"import InstructorsSection from '../InstructorsSection';\n\nexport default function InstructorsSectionExample() {\n  return <InstructorsSection />;\n}\n","path":null,"size_bytes":146,"size_tokens":null},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":2263,"size_tokens":null},"client/src/pages/LandingPage.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport Navbar from \"@/components/Navbar\";\nimport HeroSection from \"@/components/HeroSection\";\nimport WhyBcalmWorksSection from \"@/components/WhyBcalmWorksSection\";\nimport StickyQuicklinks from \"@/components/StickyQuicklinks\";\nimport CareerSupportSection from \"@/components/CareerSupportSection\";\nimport AboutSection from \"@/components/AboutSection\";\nimport CurriculumSection from \"@/components/CurriculumSection\";\nimport WhyBcalmSection from \"@/components/WhyBcalmSection\";\nimport TestimonialsSection from \"@/components/TestimonialsSection\";\nimport InstructorsSection from \"@/components/InstructorsSection\";\nimport PricingSection from \"@/components/PricingSection\";\nimport CTASection from \"@/components/CTASection\";\nimport Footer from \"@/components/Footer\";\nimport WaitlistDialog from \"@/components/WaitlistDialog\";\nimport ScheduleCallDialog from \"@/components/ScheduleCallDialog\";\nimport LeadModal from \"@/components/LeadModal\";\nimport { trackPageView } from \"@/lib/analytics\";\n\nexport default function LandingPage() {\n  const [waitlistOpen, setWaitlistOpen] = useState(false);\n  const [scheduleOpen, setScheduleOpen] = useState(false);\n  const [leadModalOpen, setLeadModalOpen] = useState(false);\n\n  useEffect(() => {\n    document.documentElement.style.scrollBehavior = 'smooth';\n    trackPageView();\n    return () => {\n      document.documentElement.style.scrollBehavior = 'auto';\n    };\n  }, []);\n\n  const handleDownloadCurriculum = () => {\n    // Curriculum download handler\n  };\n\n  const handleEnroll = () => {\n    setWaitlistOpen(true);\n  };\n\n  return (\n    <div className=\"min-h-screen\">\n      <Navbar />\n      \n      {/* Fold 1 - Hero with lead capture CTA */}\n      <HeroSection onOpenLeadModal={() => setLeadModalOpen(true)} />\n      \n      {/* Instructors Section - Above Why Bcalm Works */}\n      <InstructorsSection />\n      \n      {/* Fold 2 - Why Bcalm Works (Proof) */}\n      <WhyBcalmWorksSection />\n      \n      {/* Fold 3 - Sticky Quicklinks */}\n      <StickyQuicklinks />\n      \n      <CareerSupportSection />\n      \n      <AboutSection />\n      \n      <CurriculumSection onDownloadCurriculum={handleDownloadCurriculum} />\n      \n      <WhyBcalmSection />\n      \n      <TestimonialsSection />\n      \n      <PricingSection \n        onEnroll={handleEnroll}\n        onJoinWaitlist={() => setWaitlistOpen(true)} \n      />\n      \n      <CTASection \n        onEnroll={handleEnroll}\n        onScheduleCall={() => setScheduleOpen(true)} \n      />\n      \n      <Footer />\n      \n      {/* Dialogs */}\n      <WaitlistDialog open={waitlistOpen} onOpenChange={setWaitlistOpen} />\n      <ScheduleCallDialog open={scheduleOpen} onOpenChange={setScheduleOpen} />\n      <LeadModal open={leadModalOpen} onOpenChange={setLeadModalOpen} />\n    </div>\n  );\n}\n","path":null,"size_bytes":2805,"size_tokens":null},"client/src/components/WaitlistDialog.tsx":{"content":"import { useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface WaitlistDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport default function WaitlistDialog({ open, onOpenChange }: WaitlistDialogProps) {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    college: \"\",\n    phone: \"\"\n  });\n  const { toast } = useToast();\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    toast({\n      title: \"Welcome to the waitlist!\",\n      description: \"We'll be in touch soon with next steps.\",\n    });\n    onOpenChange(false);\n    setFormData({ name: \"\", email: \"\", college: \"\", phone: \"\" });\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Join the Waitlist</DialogTitle>\n          <DialogDescription>\n            Be among the first to join our next cohort. Limited seats available.\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"name\">Full Name</Label>\n            <Input\n              id=\"name\"\n              placeholder=\"Enter your name\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              required\n              data-testid=\"input-name\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              placeholder=\"your.email@example.com\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              required\n              data-testid=\"input-email\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"college\">College/University</Label>\n            <Input\n              id=\"college\"\n              placeholder=\"e.g., IIT Delhi, BITS Pilani\"\n              value={formData.college}\n              onChange={(e) => setFormData({ ...formData, college: e.target.value })}\n              required\n              data-testid=\"input-college\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"phone\">Phone Number</Label>\n            <Input\n              id=\"phone\"\n              type=\"tel\"\n              placeholder=\"+91 XXXXX XXXXX\"\n              value={formData.phone}\n              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n              required\n              data-testid=\"input-phone\"\n            />\n          </div>\n          <Button type=\"submit\" className=\"w-full\" data-testid=\"button-submit-waitlist\">\n            Join Waitlist\n          </Button>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":3148,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"design_guidelines.md":{"content":"# AI Product Manager Launchpad - Design Guidelines\n\n## Design Approach\n**Reference-Based Approach**: Draw inspiration from premium educational platforms Reforge, Maven, and Product School - clean, minimal, aspirational layouts that convey credibility and exclusivity.\n\n## Visual Identity\n\n**Color Palette:**\n- Primary background: White (#FFFFFF)\n- Primary accent: Dark Navy (#0b132b)\n- Secondary accent: Bright Violet (#6a3df0)\n- Use violet for CTAs, highlights, and interactive elements\n- Use navy for headings and primary text\n\n**Typography:**\n- Font Family: Inter or Poppins from Google Fonts\n- Heading hierarchy: Bold weights (600-700) for impact\n- Body text: Regular (400) and Medium (500) weights\n- Generous line-height for readability (1.6-1.8)\n\n## Layout System\n\n**Spacing:**\n- Use Tailwind units: 4, 8, 12, 16, 20, 24, 32 for consistent rhythm\n- Section padding: py-20 to py-32 on desktop, py-12 to py-16 on mobile\n- Container max-width: max-w-7xl with mx-auto\n- Content sections: max-w-6xl for optimal reading\n\n**Responsive Strategy:**\n- Desktop-first approach with mobile optimizations\n- Breakpoints: sm (640px), md (768px), lg (1024px), xl (1280px)\n\n## Component Library\n\n### Navigation\n- Sticky header with transparent-to-solid transition on scroll\n- Logo left, navigation links center, dual CTAs right\n- Mobile: Hamburger menu with slide-in drawer\n\n### Hero Section\n- Full viewport height (90vh) with AI-themed background illustration (neural network pattern or product UI overlay)\n- Centered content with bold headline, compelling subheadline\n- Dual gradient buttons: \"Join the Waitlist\" (primary violet) and \"Schedule a Call\" (outlined navy)\n- Metrics badges displaying \"200+ students registered\" and \"Next Cohort: December 2, 2025\"\n- Subtle background: Abstract AI neural network visualization or geometric patterns in light gradients\n\n### Cards & Grid Layouts\n- 4-column grid for \"Why This Program\" highlights (2 columns on tablet, 1 on mobile)\n- 3-column layout for testimonials and instructor profiles\n- Elevated cards with subtle shadows, hover lift animations\n- Icons/emojis for visual hierarchy in feature cards\n\n### Testimonials\n- Student quote cards with profile placeholder images (circular avatars)\n- Name, college, and degree displayed below quotes\n- Soft background tints for card differentiation\n\n### Instructor Profiles\n- Professional headshot placeholders (square or circular)\n- Name, title, company clearly displayed\n- Brief bio or expertise areas\n- LinkedIn icon links\n\n### CTAs & Forms\n- Gradient buttons (violet to lighter violet) with white text\n- Modal popup for \"Schedule a Call\" form with fields: Name, Email, College, Phone\n- WhatsApp and email contact icons with hover states\n- Newsletter signup in footer\n\n### Footer\n- Multi-column layout: Brand/description, Quick Links, Social Media, Contact\n- Social icons: LinkedIn, Twitter, Instagram\n- Legal links: Terms, Privacy Policy, Contact\n- Copyright notice: © 2025 AI Product Manager Launchpad\n\n## Animations & Interactions\n\n**Framer Motion Effects:**\n- Smooth scroll behavior throughout\n- Fade-in-up animations for section entries (stagger children)\n- Hover lift on cards (translateY -4px)\n- Button hover: slight scale (1.02) and glow effect\n- Gradient button transitions\n\n**Scroll Interactions:**\n- Sticky navigation with background opacity change\n- Parallax effect on hero background (subtle)\n- Progressive reveal of sections as user scrolls\n\n## Content Strategy\n\n### Tone & Voice\n- Aspirational and elite positioning\n- Credibility through instructor credentials and student testimonials\n- FOMO elements: \"Limited seats\", \"Hand-picked students\", cohort deadlines\n- Professional yet approachable language\n\n### Section Flow\n1. Hero with immediate value proposition and social proof\n2. About Program (2-3 paragraphs establishing credibility)\n3. Curriculum Overview (4-week breakdown with downloadable CTA)\n4. Why This Program (4 key differentiators)\n5. Student Testimonials (3 authentic quotes)\n6. Instructor Showcase (3 AI Product Leaders)\n7. Final CTA (dual action: waitlist + call scheduling)\n8. Footer (comprehensive links and contact)\n\n## Images\n\n**Hero Background:**\n- Large, full-width AI-themed illustration (neural network patterns, geometric AI visualization, or abstract product interface mockups)\n- Semi-transparent overlay to ensure text readability\n- Gradient from transparent to white at bottom for seamless transition\n\n**Instructor Photos:**\n- Professional headshots (300x300px minimum)\n- Circular or rounded square frames\n- Placeholder: Professional silhouettes with initials\n\n**Testimonial Avatars:**\n- Student profile photos (150x150px)\n- Circular frames\n- Placeholder: Colorful avatar backgrounds with initials\n\n**Buttons on Images:**\n- Blurred glass-morphism backgrounds (backdrop-blur-md)\n- Semi-transparent white/dark backgrounds for readability\n- No additional hover blur effects (rely on button's native states)\n\n## Accessibility & Performance\n- Semantic HTML5 structure\n- ARIA labels for interactive elements\n- Keyboard navigation support\n- Optimized images with lazy loading\n- Fast page load with minimal dependencies","path":null,"size_bytes":5135,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, boolean, integer, uuid, index, jsonb } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Session storage table for Replit Auth\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// Onboarding status enum values\nexport const CURRENT_STATUS_OPTIONS = [\"student_fresher\", \"working_professional\", \"switching_careers\"] as const;\nexport const ONBOARDING_STATUS_OPTIONS = [\"not_started\", \"complete\"] as const;\nexport const PERSONALIZATION_QUALITY_OPTIONS = [\"full\", \"partial\"] as const;\n\n// User storage table for Replit Auth with onboarding fields\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique(),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  // Onboarding fields\n  currentStatus: varchar(\"current_status\"),\n  targetRole: varchar(\"target_role\"),\n  yearsExperience: integer(\"years_experience\"),\n  onboardingStatus: varchar(\"onboarding_status\").default(\"not_started\"),\n  personalizationQuality: varchar(\"personalization_quality\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\n\n// Analysis Jobs table for CV processing\nexport const analysisJobs = pgTable(\"analysis_jobs\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  status: varchar(\"status\").notNull().default(\"processing\"),\n  cvFilePath: text(\"cv_file_path\"),\n  cvFileName: text(\"cv_file_name\"),\n  cvText: text(\"cv_text\"),\n  jdText: text(\"jd_text\"),\n  score: integer(\"score\"),\n  strengths: jsonb(\"strengths\"),\n  gaps: jsonb(\"gaps\"),\n  quickWins: jsonb(\"quick_wins\"),\n  notes: text(\"notes\"),\n  needsJd: boolean(\"needs_jd\").default(false),\n  needsTargetRole: boolean(\"needs_target_role\").default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  completedAt: timestamp(\"completed_at\"),\n});\n\nexport const insertAnalysisJobSchema = createInsertSchema(analysisJobs).omit({\n  id: true,\n  createdAt: true,\n  completedAt: true,\n});\n\nexport type AnalysisJob = typeof analysisJobs.$inferSelect;\nexport type InsertAnalysisJob = z.infer<typeof insertAnalysisJobSchema>;\n\nexport const resourcesUsers = pgTable(\"resources_users\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  email: text(\"email\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  name: text(\"name\").notNull(),\n  year: text(\"year\"),\n  background: text(\"background\"),\n  isAdmin: boolean(\"is_admin\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const resources = pgTable(\"resources\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  category: text(\"category\").notNull(),\n  type: text(\"type\").notNull(),\n  filePath: text(\"file_path\"),\n  fileSize: integer(\"file_size\"),\n  originalFileName: text(\"original_file_name\"),\n  mimeType: text(\"mime_type\"),\n  isActive: boolean(\"is_active\").notNull().default(true),\n  uploadedDate: timestamp(\"uploaded_date\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const downloadLogs = pgTable(\"download_logs\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  userId: uuid(\"user_id\").notNull().references(() => resourcesUsers.id),\n  resourceId: uuid(\"resource_id\").notNull().references(() => resources.id),\n  downloadedAt: timestamp(\"downloaded_at\").notNull().defaultNow(),\n});\n\nexport const insertResourcesUserSchema = createInsertSchema(resourcesUsers, {\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n}).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertResourceSchema = createInsertSchema(resources, {\n  title: z.string().min(3, \"Title must be at least 3 characters\"),\n  description: z.string().min(10, \"Description must be at least 10 characters\"),\n  category: z.enum([\"prompts\", \"books\", \"videos\"], {\n    errorMap: () => ({ message: \"Category must be prompts, books, or videos\" }),\n  }),\n  type: z.enum([\"pdf\", \"doc\", \"video\", \"link\"], {\n    errorMap: () => ({ message: \"Type must be pdf, doc, video, or link\" }),\n  }),\n}).omit({\n  id: true,\n  uploadedDate: true,\n  updatedAt: true,\n  isActive: true,\n});\n\nexport const insertDownloadLogSchema = createInsertSchema(downloadLogs).omit({\n  id: true,\n  downloadedAt: true,\n});\n\nexport type ResourcesUser = typeof resourcesUsers.$inferSelect;\nexport type InsertResourcesUser = z.infer<typeof insertResourcesUserSchema>;\n\nexport type Resource = typeof resources.$inferSelect;\nexport type InsertResource = z.infer<typeof insertResourceSchema>;\n\nexport type DownloadLog = typeof downloadLogs.$inferSelect;\nexport type InsertDownloadLog = z.infer<typeof insertDownloadLogSchema>;\n\nexport const assessmentQuestions = pgTable(\"assessment_questions\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  dimension: text(\"dimension\").notNull(),\n  questionText: text(\"question_text\").notNull(),\n  orderIndex: integer(\"order_index\").notNull(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const assessmentAttempts = pgTable(\"assessment_attempts\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  userId: uuid(\"user_id\").notNull().references(() => resourcesUsers.id),\n  totalScore: integer(\"total_score\"),\n  readinessBand: text(\"readiness_band\"),\n  scoresJson: text(\"scores_json\"),\n  isCompleted: boolean(\"is_completed\").notNull().default(false),\n  shareToken: varchar(\"share_token\", { length: 32 }).unique(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  completedAt: timestamp(\"completed_at\"),\n});\n\nexport const assessmentAnswers = pgTable(\"assessment_answers\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  attemptId: uuid(\"attempt_id\").notNull().references(() => assessmentAttempts.id),\n  questionId: uuid(\"question_id\").notNull().references(() => assessmentQuestions.id),\n  answerValue: integer(\"answer_value\").notNull(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertAssessmentQuestionSchema = createInsertSchema(assessmentQuestions).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertAssessmentAttemptSchema = createInsertSchema(assessmentAttempts).omit({\n  id: true,\n  createdAt: true,\n  completedAt: true,\n});\n\nexport const insertAssessmentAnswerSchema = createInsertSchema(assessmentAnswers).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type AssessmentQuestion = typeof assessmentQuestions.$inferSelect;\nexport type InsertAssessmentQuestion = z.infer<typeof insertAssessmentQuestionSchema>;\n\nexport type AssessmentAttempt = typeof assessmentAttempts.$inferSelect;\nexport type InsertAssessmentAttempt = z.infer<typeof insertAssessmentAttemptSchema>;\n\nexport type AssessmentAnswer = typeof assessmentAnswers.$inferSelect;\nexport type InsertAssessmentAnswer = z.infer<typeof insertAssessmentAnswerSchema>;\n\n// Hackathon Registration Schema\nexport const hackathonRegistrations = pgTable(\"hackathon_registrations\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  fullName: text(\"full_name\").notNull(),\n  phone: text(\"phone\").notNull(),\n  email: text(\"email\").notNull(),\n  companyOrCollege: text(\"company_or_college\").notNull(),\n  otpCode: text(\"otp_code\"),\n  otpExpiresAt: timestamp(\"otp_expires_at\"),\n  isVerified: boolean(\"is_verified\").notNull().default(false),\n  utmSource: text(\"utm_source\"),\n  utmMedium: text(\"utm_medium\"),\n  utmCampaign: text(\"utm_campaign\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertHackathonRegistrationSchema = createInsertSchema(hackathonRegistrations, {\n  fullName: z.string().min(3, \"Name must be at least 3 characters\"),\n  phone: z.string().regex(/^[6-9]\\d{9}$/, \"Please enter a valid 10-digit Indian phone number\"),\n  email: z.string().email(\"Invalid email address\").refine(\n    (email) => email.endsWith(\"@gmail.com\"),\n    \"Please use a Gmail address\"\n  ),\n  companyOrCollege: z.string().min(2, \"Company/College name is required\"),\n}).omit({\n  id: true,\n  otpCode: true,\n  otpExpiresAt: true,\n  isVerified: true,\n  createdAt: true,\n});\n\nexport type HackathonRegistration = typeof hackathonRegistrations.$inferSelect;\nexport type InsertHackathonRegistration = z.infer<typeof insertHackathonRegistrationSchema>;\n\n// CV Submissions Schema\nexport const cvSubmissions = pgTable(\"cv_submissions\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  email: text(\"email\").notNull(),\n  targetRole: text(\"target_role\").notNull(),\n  cvFilePath: text(\"cv_file_path\"),\n  cvFileName: text(\"cv_file_name\"),\n  cvFileSize: integer(\"cv_file_size\"),\n  cvMimeType: text(\"cv_mime_type\"),\n  utmSource: text(\"utm_source\"),\n  utmMedium: text(\"utm_medium\"),\n  utmCampaign: text(\"utm_campaign\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertCvSubmissionSchema = createInsertSchema(cvSubmissions, {\n  email: z.string().email(\"Invalid email address\"),\n  targetRole: z.string().min(1, \"Target role is required\"),\n}).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type CvSubmission = typeof cvSubmissions.$inferSelect;\nexport type InsertCvSubmission = z.infer<typeof insertCvSubmissionSchema>;\n\n// Leads Schema for Hero form submissions\nexport const leads = pgTable(\"leads\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  name: text(\"name\").notNull(),\n  phone: text(\"phone\").notNull(),\n  source: text(\"source\"),\n  utmSource: text(\"utm_source\"),\n  utmMedium: text(\"utm_medium\"),\n  utmCampaign: text(\"utm_campaign\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertLeadSchema = createInsertSchema(leads, {\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n  phone: z.string().regex(/^[6-9]\\d{9}$/, \"Please enter a valid 10-digit Indian phone number\"),\n  source: z.string().optional(),\n  utmSource: z.string().optional(),\n  utmMedium: z.string().optional(),\n  utmCampaign: z.string().optional(),\n}).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type Lead = typeof leads.$inferSelect;\nexport type InsertLead = z.infer<typeof insertLeadSchema>;\n","path":null,"size_bytes":10750,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"client/src/components/examples/Footer.tsx":{"content":"import Footer from '../Footer';\n\nexport default function FooterExample() {\n  return <Footer />;\n}\n","path":null,"size_bytes":98,"size_tokens":null},"replit.md":{"content":"# Bcalm - AI Product Manager Launchpad\n\n## Overview\n\nThis project develops a landing page for \"Bcalm's AI Product Manager Launchpad,\" a 30-day educational program for students and recent graduates aspiring to AI Product Management roles from top Indian colleges. The platform offers comprehensive program details, including curriculum, career support, testimonials, instructor profiles, pricing, and enrollment. It also features an **AI PM Readiness Check** assessment for lead generation, providing personalized skill assessments and gap analysis. The project aims to equip emerging talent with essential AI Product Management skills, addressing a high-growth educational market.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend\n\nThe frontend is built with React 18, TypeScript, and Vite. It uses Wouter for routing, React Query for server state, and React hooks for local state. UI components are developed with Shadcn UI (New York style) based on Radix UI primitives, styled using Tailwind CSS with a custom design system, violet/navy palette, and Inter/Poppins fonts. Framer Motion is used for animations. The landing page includes sections like Hero, Career Support, Curriculum, and Pricing, designed with a mobile-first, responsive approach. Branding includes the Bcalm logo prominently in the navbar and footer.\n\n### Backend\n\nThe backend uses Express.js with TypeScript on Node.js, integrating Vite middleware for development. It follows a RESTful API pattern. Data is stored in PostgreSQL, abstracted via an `IStorage` interface and implemented using `DatabaseStorage`. Authentication for the Free Resources system uses JWT tokens with bcrypt for password hashing.\n\n### Data Storage\n\n**Production Database:** PostgreSQL (Neon serverless) with Drizzle ORM is used for persistent data. Key tables include `users`, `resources_users`, `resources`, `download_logs`, `assessment_questions`, `assessment_attempts`, and `assessment_answers`.\n**File Storage:** Uploaded files are stored on disk in `uploads/resources/`, with metadata in PostgreSQL.\n**Database Operations:** All CRUD operations are managed via Drizzle ORM through `DatabaseStorage`. Migrations are handled by `npm run db:push`. An admin user is auto-initialized.\n\n### Form Handling & Validation\n\nReact Hook Form manages forms, with Zod for schema-based validation. Current forms, like waitlist signup and call scheduling, log data to the console, awaiting backend integration.\n\n### Feature Specifications\n\n#### AI PM Readiness Check\n\nA comprehensive assessment system evaluating student preparedness across 8 skill dimensions, acting as a lead generation tool.\n- **Questions**: 24 questions across 8 skill dimensions using a 5-point Likert scale.\n- **Scoring**: Total score out of 120, mapped to 4 readiness bands (Internship Ready, On Track, Building Foundation, Early Explorer).\n- **Functionality**: Autosave, resume incomplete attempts, personalized results with dimension breakdowns, and shareable results.\n- **Authentication**: Integrates with `resources_users` system using JWT.\n- **Shareable Results**: Unique share links for completed assessments with a privacy-first design (first name + initial, readiness band, score range), and viral sharing options (LinkedIn, WhatsApp, copy link).\n\n#### Landing Page Redesign - Three-Fold Structure\n\nThe landing page hero features a redesigned three-fold structure for improved conversion.\n- **Fold 1 - Hero Section**: Includes a gradient glow, updated copy (\"Become interview-ready for AI Product roles in 30 days\"), primary (\"Contact on WhatsApp\") and secondary (\"Download Free Resources\") CTAs, social proof, cohort info, and secondary links.\n- **Fold 2 - Why Bcalm Works**: A new section highlighting instructor expertise (\"Learn from a Product Leader\") and career advantages (\"10x Your Shortlist Chances\").\n- **Instructors Section**: Features profiles of three AI Product Leaders (Rakesh Malloju, Aditya Singh, Akhil Joy) with their credentials.\n- **Fold 3 - Sticky Quicklinks**: A `StickyQuicklinks` component provides navigation to key sections (Overview, Curriculum, Instructor, Outcomes, Reviews, Pricing, FAQ) via anchor links, with horizontal scroll on mobile.\n\n#### Hackathon Landing Page\n\nA dedicated landing page at `/hackathon` for \"Think Beyond Data and Analysis\" hackathon targeting Business Analysts, Data Analysts, and college students.\n- **URL**: bcalm.org/hackathon\n- **Sections**: Hero, Features (3 cards), How It Works (4-step timeline), Why Join (3 reasons), Testimonials (3 cards), Registration Form, FAQ Accordion, Footer\n- **Registration Flow**: Form with Full Name, Phone, Gmail, Company/College → OTP verification modal → Success screen with countdown timer\n- **Database**: `hackathon_registrations` table stores registrations with OTP verification\n- **API Endpoints**:\n  - `POST /api/hackathon/register` - Creates registration, generates OTP\n  - `POST /api/hackathon/verify` - Verifies OTP and completes registration\n  - `POST /api/hackathon/resend-otp` - Resends OTP\n- **OTP System**: Currently uses generated codes stored in database. For production SMS delivery, Twilio integration is required (see setup instructions below).\n- **UTM Tracking**: Captures utm_source, utm_medium, utm_campaign from URL parameters\n\n#### Supabase Auth Integration (CV Score Feature)\n\nThe CV Score feature uses Supabase Auth for authentication with Google OAuth and Email/Password.\n- **Session Storage**: Express session with memorystore for session management\n- **User Profiles**: Stored in Supabase `profiles` table (not local PostgreSQL)\n- **Auth Routes**:\n  - `POST /api/auth/session` - Syncs Supabase session with backend\n  - `GET /api/auth/user` - Returns current user profile\n  - `GET /api/me` - Returns user ID and profile for routing decisions\n  - `POST /api/auth/logout` - Ends session\n- **Frontend Hook**: `useAuth()` hook provides `user`, `isLoading`, `isAuthenticated`, `logout`\n- **Auth Flow**: Landing CTA → AuthModal → Google/Email login → Supabase callback → /auth/callback → /start → onboarding or upload\n\n**IMPORTANT: Supabase Database Setup Required**\n\nBefore auth will work, you must run the SQL in `supabase/complete_setup.sql` in your Supabase SQL Editor. This creates:\n1. `profiles` table with all required columns (email, first_name, last_name, avatar_url, onboarding_status, etc.)\n2. `cv_submissions` table for storing uploaded CVs\n3. `analysis_jobs` table for n8n analysis results\n4. Row Level Security (RLS) policies for user and service_role access\n\n**Google OAuth Setup:**\n1. In Supabase Dashboard → Authentication → Providers → Enable Google\n2. In Google Cloud Console: Create OAuth 2.0 credentials\n3. Add Redirect URI: `https://[your-project-ref].supabase.co/auth/v1/callback`\n4. If in \"Testing\" mode, add test users to OAuth consent screen\n\n#### Auth Page & Modal\n\nA unified authentication system with shared AuthCard component used on both `/auth` route and in modal.\n\n**Layout (exact order):**\n1. Logo (GraduationCap icon in purple gradient box)\n2. Headline: \"Welcome to BCALM\"\n3. Subtext: \"Sign in to continue\"\n4. \"Continue with Google\" button (purple gradient, triggers Supabase OAuth)\n5. \"or\" separator\n6. Email field (label: \"Email\", placeholder: \"you@example.com\")\n7. Password field (label: \"Password\", placeholder: \"Enter password\")\n8. \"Continue\" button (purple gradient)\n9. Helper links: \"New here? Create account\" | \"Forgot password?\"\n10. Footer: \"By continuing you agree to Terms & Privacy\"\n\n**Styling:**\n- Card background: `rgba(20, 12, 40, 0.96)`\n- Borders: `rgba(255,255,255,0.10)`\n- Inputs: solid dark (#1a0033) with clear borders\n- Primary buttons: purple gradient\n- Page background: dark purple gradient\n\n**Behaviors:**\n- **Email/password auto-create**: Attempts sign-in first; if user doesn't exist, automatically creates account\n- **\"New here?\" link**: Focuses email field, shows hint \"We'll create your account if you're new.\"\n- **\"Forgot password?\" link**: Switches to inline reset state with email-only field and \"Send reset link\" CTA; shows \"Reset link sent\" on success\n\n**Files:**\n- `client/src/components/AuthCard.tsx` - Shared component\n- `client/src/pages/AuthPage.tsx` - Renders AuthCard on `/auth` route\n- `client/src/components/AuthModal.tsx` - Wraps AuthCard in dialog\n\n#### CTA Components\n\nThree CTA systems are implemented for lead conversion:\n\n**Navbar CTAs:**\n- Logged OUT: \"Start for free\" (primary button) + \"Sign in\" (text link)\n- Logged IN: \"Start for Free\" (primary button) + User avatar/name dropdown with \"Change Profile\" and \"Logout\"\n- \"Start for free\" scrolls to the hero lead form\n\n**StickyMobileCTA (mobile only, lg:hidden):**\n- Fixed bottom bar with \"Get your free CV score\" text\n- \"Check my CV\" button navigates to /start (anonymous) or /upload (authenticated)\n- Safe area padding for iOS devices\n\n**DesktopFloatingCTA (desktop only, hidden lg:block):**\n- Fixed position right side (right: 24px, top: 58%)\n- Shows \"Get a clear CV review\" + \"Check my CV\" button\n- Appears after 18% page scroll with fade/slide animation\n- Dismissible with × icon, persists for 7 days via localStorage key `bcalm_cta_dismissed_until`\n- Hidden on /onboarding, /upload, /app, /start routes\n\n#### GTM Attribution Tracking\n\nA comprehensive analytics tracking system for multi-channel campaigns with UTM parameter support.\n- **Core Events**: `first_page_launch`, various `_page_view` events, `user_signup`, `user_login`, `assessment_started`, `assessment_completed`, `assessment_dropped`.\n- **Data Captured**: Page details, UTM parameters, referrer, user info, assessment scores.\n- **Session Management**: `first_page_launch` tracks once per session using `sessionStorage`.\n- **UTM Behavior**: UTMs are page-specific and not carried over during internal navigation. `navigationSource` tracks internal page flow.\n- **Database Storage**: All events are stored in a Supabase `events` table with schema:\n  ```sql\n  CREATE TABLE events (\n    id BIGSERIAL PRIMARY KEY,\n    created_at TIMESTAMPTZ DEFAULT NOW(),\n    user_id TEXT NOT NULL,\n    event_name TEXT NOT NULL,\n    event_data JSONB DEFAULT '{}'::jsonb\n  );\n  ```\n- **Supabase Configuration**: Client configured in `client/src/lib/supabase.ts` using environment variables `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY`.\n- **Production Deployment**: Before publishing to Replit, run this command to embed Supabase variables into the production build:\n  ```bash\n  VITE_SUPABASE_URL=\"https://rhwvwvvwjwvtlxzqooii.supabase.co\" \\\n  VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJod3Z3dnZ3and2dGx4enFvb2lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1ODQzOTEsImV4cCI6MjA3ODE2MDM5MX0.tvv9lDe_4PACmq4s1j1jkwAPiTEYATjLZUaDtW_e4Ms\" \\\n  npm run build && mkdir -p server/public && cp -r dist/public/* server/public/\n  ```\n  This ensures Supabase analytics tracking works in production. Immediately after running this, click Publish in Replit.\n\n## External Dependencies\n\n### UI & Styling\n\n- **Radix UI**: Accessible UI primitives.\n- **Tailwind CSS**: Utility-first CSS framework.\n- **Class Variance Authority (CVA)**: For component variant APIs.\n- **Framer Motion**: Animation library.\n- **Embla Carousel**: Carousel functionality.\n- **React Icons & Lucide React**: Icon libraries.\n\n### Form & Data Management\n\n- **React Hook Form**: Form state management.\n- **Zod**: Schema validation.\n- **TanStack React Query**: Server state management.\n- **Date-fns**: Date manipulation.\n\n### Backend & Database\n\n- **Express**: Web application framework.\n- **Drizzle ORM**: TypeScript ORM for SQL.\n- **@neondatabase/serverless**: Neon PostgreSQL driver.\n- **Connect-pg-simple**: PostgreSQL session store.\n\n### Development Tools\n\n- **Vite**: Build tool and dev server.\n- **TypeScript**: Type-safe JavaScript.\n- **TSX**: TypeScript executor for Node.js.\n- **ESBuild**: JavaScript bundler.","path":null,"size_bytes":11924,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":4050,"size_tokens":null},"client/src/components/examples/PricingSection.tsx":{"content":"import PricingSection from '../PricingSection';\n\nexport default function PricingSectionExample() {\n  return (\n    <PricingSection \n      onEnroll={() => console.log('Enroll clicked')} \n      onJoinWaitlist={() => console.log('Pricing waitlist clicked')} \n    />\n  );\n}\n","path":null,"size_bytes":269,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1202,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/WhyBcalmSection.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Check, X } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nconst comparisonData = [\n  {\n    benefit: \"Resume Feedback\",\n    traditional: \"No expert review, guesswork\",\n    bcalm: \"AI-powered CV scoring + expert review from hiring managers at top companies\",\n    bcalmWins: true\n  },\n  {\n    benefit: \"Interview Practice\",\n    traditional: \"Watching YouTube videos alone\",\n    bcalm: \"Simulated mock interviews with real-time, actionable feedback\",\n    bcalmWins: true\n  },\n  {\n    benefit: \"Job Discovery\",\n    traditional: \"Spray-and-pray applications\",\n    bcalm: \"Curated job board with insider hiring signals & referral opportunities\",\n    bcalmWins: true\n  },\n  {\n    benefit: \"Expert Guidance\",\n    traditional: \"Generic career advice online\",\n    bcalm: \"Direct mentorship from IIT/IIM alumni working at Zepto, Google, Amazon\",\n    bcalmWins: true\n  },\n  {\n    benefit: \"Personalized Feedback\",\n    traditional: \"No feedback loop\",\n    bcalm: \"Detailed feedback on every session — know exactly where to improve\",\n    bcalmWins: true\n  },\n  {\n    benefit: \"Community\",\n    traditional: \"Prep alone in isolation\",\n    bcalm: \"Join 1000+ ambitious peers from IITs, NITs, BITS + lifelong network\",\n    bcalmWins: true\n  },\n  {\n    benefit: \"Timeline\",\n    traditional: \"Months of scattered, unstructured prep\",\n    bcalm: \"Structured 30-day roadmap designed to get you interview-ready fast\",\n    bcalmWins: true\n  },\n  {\n    benefit: \"Success Rate\",\n    traditional: \"Low callback rates, wasted effort\",\n    bcalm: \"3x higher interview callback rate with optimized applications\",\n    bcalmWins: true\n  }\n];\n\nexport default function WhyBcalmSection() {\n  return (\n    <section id=\"why-bcalm\" className=\"py-16 bg-background\">\n      <div className=\"container mx-auto px-4 max-w-6xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-10\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Why Choose Bcalm?\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            See how Bcalm compares to preparing on your own\n          </p>\n        </motion.div>\n        \n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n        >\n          <Card className=\"overflow-hidden\">\n            <CardContent className=\"p-0\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b\">\n                      <th className=\"text-left p-4 font-semibold bg-muted/30\">Benefit</th>\n                      <th className=\"text-left p-4 font-semibold bg-muted/30 hidden md:table-cell\">Self-Prep / Traditional</th>\n                      <th className=\"text-left p-4 font-semibold bg-primary/10\">Bcalm Interview Platform</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {comparisonData.map((row, index) => (\n                      <tr key={index} className=\"border-b last:border-b-0\">\n                        <td className=\"p-4 font-medium text-foreground\">{row.benefit}</td>\n                        <td className=\"p-4 text-muted-foreground hidden md:table-cell\">\n                          <div className=\"flex items-start gap-2\">\n                            <X className=\"h-4 w-4 text-muted-foreground/50 mt-0.5 flex-shrink-0\" />\n                            <span>{row.traditional}</span>\n                          </div>\n                        </td>\n                        <td className=\"p-4 bg-primary/5\">\n                          <div className=\"flex items-start gap-2\">\n                            <Check className=\"h-4 w-4 text-primary mt-0.5 flex-shrink-0\" />\n                            <span className=\"text-foreground\">{row.bcalm}</span>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n        \n        <motion.div\n          initial={{ opacity: 0 }}\n          whileInView={{ opacity: 1 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6, delay: 0.4 }}\n          className=\"text-center mt-8\"\n        >\n          <p className=\"text-lg font-medium text-foreground\">\n            Bcalm isn't just prep — it's your launchpad to landing your dream role.\n          </p>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":4886,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/WhyProgramSection.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Building2, Compass, MessageCircle, Award } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nconst highlights = [\n  {\n    icon: Building2,\n    title: \"Designed & Delivered by AI Product Leaders\",\n    description: \"Learn from experienced PMs at Google, Microsoft, and innovative AI startups.\"\n  },\n  {\n    icon: Compass,\n    title: \"Hands-On Product Simulations & AI Tools\",\n    description: \"Work with real AI tools and frameworks through practical case studies.\"\n  },\n  {\n    icon: MessageCircle,\n    title: \"1:1 Mentorship and Career Guidance\",\n    description: \"Get personalized feedback and career advice from industry experts.\"\n  },\n  {\n    icon: Award,\n    title: \"Certificate + Industry Network Access\",\n    description: \"Earn recognition and connect with a community of AI product professionals.\"\n  }\n];\n\nexport default function WhyProgramSection() {\n  return (\n    <section className=\"py-24 bg-background\">\n      <div className=\"container mx-auto px-4 max-w-6xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-16\"\n        >\n          <h2 className=\"text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Why This Program\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            Everything you need to launch your AI Product Manager career\n          </p>\n        </motion.div>\n        \n        <div className=\"grid md:grid-cols-2 gap-8\">\n          {highlights.map((item, index) => {\n            const Icon = item.icon;\n            return (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                viewport={{ once: true }}\n                transition={{ duration: 0.6, delay: index * 0.1 }}\n              >\n                <Card className=\"h-full hover-elevate\">\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex gap-4\">\n                      <div className=\"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                        <Icon className=\"h-6 w-6 text-primary\" />\n                      </div>\n                      <div>\n                        <h3 className=\"text-lg font-semibold mb-2\">{item.title}</h3>\n                        <p className=\"text-muted-foreground\">{item.description}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":2823,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"client/src/components/examples/WhyBcalmSection.tsx":{"content":"import WhyBcalmSection from '../WhyBcalmSection';\n\nexport default function WhyBcalmSectionExample() {\n  return <WhyBcalmSection />;\n}\n","path":null,"size_bytes":134,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/examples/CTASection.tsx":{"content":"import CTASection from '../CTASection';\n\nexport default function CTASectionExample() {\n  return (\n    <CTASection \n      onEnroll={() => console.log('CTA Enroll clicked')} \n      onScheduleCall={() => console.log('CTA Schedule call clicked')} \n    />\n  );\n}\n","path":null,"size_bytes":258,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":844,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","path":null,"size_bytes":483,"size_tokens":null},"server/data/assessmentQuestions.ts":{"content":"export const ASSESSMENT_QUESTIONS = [\n  // Dimension 1: Product & Problem Thinking (Questions 1-3)\n  {\n    dimension: \"Product & Problem Thinking\",\n    questionText: \"I can take a vague problem (e.g., 'students struggle to find internships') and turn it into a clear, specific problem statement with user context and measurable outcomes.\",\n    orderIndex: 1,\n  },\n  {\n    dimension: \"Product & Problem Thinking\",\n    questionText: \"When someone describes a product idea, I can identify the core user problem it's solving and whether the solution actually addresses that problem.\",\n    orderIndex: 2,\n  },\n  {\n    dimension: \"Product & Problem Thinking\",\n    questionText: \"I can explain how to prioritize features based on user value and business impact, not just what sounds cool or what I personally like.\",\n    orderIndex: 3,\n  },\n\n  // Dimension 2: AI/ML Fundamentals (Questions 4-6)\n  {\n    dimension: \"AI/ML Fundamentals\",\n    questionText: \"I understand the difference between supervised learning, unsupervised learning, and reinforcement learning, and can give real-world examples of each.\",\n    orderIndex: 4,\n  },\n  {\n    dimension: \"AI/ML Fundamentals\",\n    questionText: \"I know when to use classification vs. regression, and can explain what a recommendation system or NLP (Natural Language Processing) does in simple terms.\",\n    orderIndex: 5,\n  },\n  {\n    dimension: \"AI/ML Fundamentals\",\n    questionText: \"I can discuss common AI challenges like bias, overfitting, data quality issues, and explain why these matter for product decisions.\",\n    orderIndex: 6,\n  },\n\n  // Dimension 3: Data & Metrics (Questions 7-9)\n  {\n    dimension: \"Data & Metrics\",\n    questionText: \"I can define 2-3 key metrics to measure whether an AI product feature is successful (e.g., accuracy, user engagement, conversion rate).\",\n    orderIndex: 7,\n  },\n  {\n    dimension: \"Data & Metrics\",\n    questionText: \"I understand the difference between correlation and causation, and can spot when data might be misleading or incomplete.\",\n    orderIndex: 8,\n  },\n  {\n    dimension: \"Data & Metrics\",\n    questionText: \"I know how to evaluate an AI model's performance using metrics like precision, recall, F1 score, or explain why accuracy alone isn't enough.\",\n    orderIndex: 9,\n  },\n\n  // Dimension 4: User Research & Empathy (Questions 10-12)\n  {\n    dimension: \"User Research & Empathy\",\n    questionText: \"I can conduct basic user interviews or surveys to understand pain points, and synthesize insights into actionable product ideas.\",\n    orderIndex: 10,\n  },\n  {\n    dimension: \"User Research & Empathy\",\n    questionText: \"I think about different user personas (e.g., tech-savvy vs. non-tech, beginners vs. experts) when designing features or flows.\",\n    orderIndex: 11,\n  },\n  {\n    dimension: \"User Research & Empathy\",\n    questionText: \"I can create simple user journey maps or wireframes to visualize how someone would interact with a product feature.\",\n    orderIndex: 12,\n  },\n\n  // Dimension 5: Product Strategy & Roadmapping (Questions 13-15)\n  {\n    dimension: \"Product Strategy & Roadmapping\",\n    questionText: \"I understand what a product roadmap is, and can break down a big vision into smaller, shippable milestones or MVPs.\",\n    orderIndex: 13,\n  },\n  {\n    dimension: \"Product Strategy & Roadmapping\",\n    questionText: \"I can explain trade-offs between speed, quality, and scope when planning what to build first.\",\n    orderIndex: 14,\n  },\n  {\n    dimension: \"Product Strategy & Roadmapping\",\n    questionText: \"I know how to use frameworks like RICE (Reach, Impact, Confidence, Effort) or MoSCoW to prioritize feature development.\",\n    orderIndex: 15,\n  },\n\n  // Dimension 6: Communication & Stakeholder Management (Questions 16-18)\n  {\n    dimension: \"Communication & Stakeholder Management\",\n    questionText: \"I can explain technical AI concepts (like model accuracy or training data) to non-technical people in simple, clear language.\",\n    orderIndex: 16,\n  },\n  {\n    dimension: \"Communication & Stakeholder Management\",\n    questionText: \"I'm comfortable presenting ideas or findings in front of a group, and can handle questions or pushback constructively.\",\n    orderIndex: 17,\n  },\n  {\n    dimension: \"Communication & Stakeholder Management\",\n    questionText: \"I know how to align different stakeholders (engineers, designers, business teams) around a shared product goal.\",\n    orderIndex: 18,\n  },\n\n  // Dimension 7: Technical Collaboration (Questions 19-21)\n  {\n    dimension: \"Technical Collaboration\",\n    questionText: \"I can read basic Python code snippets or understand simple API documentation to grasp how an AI feature works under the hood.\",\n    orderIndex: 19,\n  },\n  {\n    dimension: \"Technical Collaboration\",\n    questionText: \"I know what an API is, how data flows between systems, and can discuss integration challenges with engineers.\",\n    orderIndex: 20,\n  },\n  {\n    dimension: \"Technical Collaboration\",\n    questionText: \"I understand enough about model training, deployment, and monitoring to ask smart questions about feasibility and timelines.\",\n    orderIndex: 21,\n  },\n\n  // Dimension 8: AI Ethics & Responsible Design (Questions 22-24)\n  {\n    dimension: \"AI Ethics & Responsible Design\",\n    questionText: \"I can identify potential biases in training data or model outputs, and explain why fairness and transparency matter in AI products.\",\n    orderIndex: 22,\n  },\n  {\n    dimension: \"AI Ethics & Responsible Design\",\n    questionText: \"I think about privacy, security, and user consent when designing features that collect or use personal data.\",\n    orderIndex: 23,\n  },\n  {\n    dimension: \"AI Ethics & Responsible Design\",\n    questionText: \"I can discuss real-world examples of AI gone wrong (e.g., biased hiring tools, misinformation) and how to avoid similar pitfalls.\",\n    orderIndex: 24,\n  },\n];\n","path":null,"size_bytes":5871,"size_tokens":null},"server/routes/assessment.ts":{"content":"import express, { Router } from \"express\";\nimport { storage } from \"../storage\";\nimport { authenticateToken, type AuthRequest } from \"../middleware/auth\";\nimport { insertAssessmentAttemptSchema, insertAssessmentAnswerSchema } from \"@shared/schema\";\n\nconst router: Router = express.Router();\n\nrouter.get(\"/questions\", authenticateToken, async (req: AuthRequest, res) => {\n  try {\n    const questions = await storage.getAllAssessmentQuestions();\n    res.json(questions);\n  } catch (error) {\n    console.error(\"Error fetching assessment questions:\", error);\n    res.status(500).json({ error: \"Failed to fetch questions\" });\n  }\n});\n\nrouter.post(\"/attempts\", authenticateToken, async (req: AuthRequest, res) => {\n  try {\n    if (!req.user) {\n      return res.status(401).json({ error: \"Authentication required\" });\n    }\n\n    const forceNew = req.body?.forceNew === true;\n\n    if (!forceNew) {\n      const existingIncomplete = await storage.getLatestIncompleteAttempt(req.user.userId);\n      \n      if (existingIncomplete) {\n        return res.json(existingIncomplete);\n      }\n    }\n\n    const attempt = await storage.createAssessmentAttempt({\n      userId: req.user.userId,\n      isCompleted: false,\n    });\n\n    res.status(201).json(attempt);\n  } catch (error) {\n    console.error(\"Error creating assessment attempt:\", error);\n    res.status(500).json({ error: \"Failed to create attempt\" });\n  }\n});\n\nrouter.delete(\"/attempts/incomplete\", authenticateToken, async (req: AuthRequest, res) => {\n  try {\n    if (!req.user) {\n      return res.status(401).json({ error: \"Authentication required\" });\n    }\n\n    const existingIncomplete = await storage.getLatestIncompleteAttempt(req.user.userId);\n    \n    if (existingIncomplete) {\n      await storage.deleteAssessmentAttempt(existingIncomplete.id);\n    }\n\n    res.json({ success: true });\n  } catch (error) {\n    console.error(\"Error clearing incomplete attempt:\", error);\n    res.status(500).json({ error: \"Failed to clear attempt\" });\n  }\n});\n\nrouter.post(\"/answers/:attemptId\", authenticateToken, async (req: AuthRequest, res) => {\n  try {\n    if (!req.user) {\n      return res.status(401).json({ error: \"Authentication required\" });\n    }\n\n    const { attemptId } = req.params;\n    const attempt = await storage.getAssessmentAttempt(attemptId);\n\n    if (!attempt) {\n      return res.status(404).json({ error: \"Attempt not found\" });\n    }\n\n    if (attempt.userId !== req.user.userId) {\n      return res.status(403).json({ error: \"Not authorized to update this attempt\" });\n    }\n\n    if (attempt.isCompleted) {\n      return res.status(400).json({ error: \"Attempt already completed\" });\n    }\n\n    const validatedAnswer = insertAssessmentAnswerSchema.parse({\n      attemptId,\n      questionId: req.body.questionId,\n      answerValue: req.body.answerValue,\n    });\n\n    const answer = await storage.saveAssessmentAnswer(validatedAnswer);\n    res.json(answer);\n  } catch (error) {\n    console.error(\"Error saving answer:\", error);\n    res.status(500).json({ error: \"Failed to save answer\" });\n  }\n});\n\nrouter.post(\"/complete/:attemptId\", authenticateToken, async (req: AuthRequest, res) => {\n  try {\n    if (!req.user) {\n      return res.status(401).json({ error: \"Authentication required\" });\n    }\n\n    const { attemptId } = req.params;\n    const attempt = await storage.getAssessmentAttempt(attemptId);\n\n    if (!attempt) {\n      return res.status(404).json({ error: \"Attempt not found\" });\n    }\n\n    if (attempt.userId !== req.user.userId) {\n      return res.status(403).json({ error: \"Not authorized to complete this attempt\" });\n    }\n\n    if (attempt.isCompleted) {\n      return res.status(400).json({ error: \"Attempt already completed\" });\n    }\n\n    const answers = await storage.getAttemptAnswers(attemptId);\n    const questions = await storage.getAllAssessmentQuestions();\n\n    if (answers.length !== questions.length) {\n      return res.status(400).json({ \n        error: \"All questions must be answered before completing\",\n        answered: answers.length,\n        total: questions.length,\n      });\n    }\n\n    const dimensionScores: Record<string, { total: number; count: number }> = {};\n    \n    for (const answer of answers) {\n      const question = questions.find((q) => q.id === answer.questionId);\n      if (question) {\n        if (!dimensionScores[question.dimension]) {\n          dimensionScores[question.dimension] = { total: 0, count: 0 };\n        }\n        dimensionScores[question.dimension].total += answer.answerValue;\n        dimensionScores[question.dimension].count += 1;\n      }\n    }\n\n    const dimensionResults: Record<string, number> = {};\n    for (const [dimension, data] of Object.entries(dimensionScores)) {\n      dimensionResults[dimension] = data.total;\n    }\n\n    const totalScore = answers.reduce((sum, answer) => sum + answer.answerValue, 0);\n    \n    const readinessBand = \n      totalScore >= 96 ? \"Internship Ready\" :\n      totalScore >= 72 ? \"On Track\" :\n      totalScore >= 48 ? \"Building Foundation\" :\n      \"Early Explorer\";\n\n    const scoresJson = JSON.stringify(dimensionResults);\n\n    const completedAttempt = await storage.completeAssessmentAttempt(\n      attemptId,\n      totalScore,\n      readinessBand,\n      scoresJson\n    );\n\n    res.json(completedAttempt);\n  } catch (error) {\n    console.error(\"Error completing assessment:\", error);\n    res.status(500).json({ error: \"Failed to complete assessment\" });\n  }\n});\n\nrouter.get(\"/results/:attemptId\", authenticateToken, async (req: AuthRequest, res) => {\n  try {\n    if (!req.user) {\n      return res.status(401).json({ error: \"Authentication required\" });\n    }\n\n    const { attemptId } = req.params;\n    const attempt = await storage.getAssessmentAttempt(attemptId);\n\n    if (!attempt) {\n      return res.status(404).json({ error: \"Attempt not found\" });\n    }\n\n    if (attempt.userId !== req.user.userId) {\n      return res.status(403).json({ error: \"Not authorized to view this result\" });\n    }\n\n    if (!attempt.isCompleted) {\n      return res.status(400).json({ error: \"Assessment not yet completed\" });\n    }\n\n    const user = await storage.getResourcesUserById(attempt.userId);\n    const answers = await storage.getAttemptAnswers(attemptId);\n\n    res.json({\n      attempt,\n      user: user ? { name: user.name, email: user.email } : null,\n      answerCount: answers.length,\n    });\n  } catch (error) {\n    console.error(\"Error fetching results:\", error);\n    res.status(500).json({ error: \"Failed to fetch results\" });\n  }\n});\n\nrouter.get(\"/resume\", authenticateToken, async (req: AuthRequest, res) => {\n  try {\n    if (!req.user) {\n      return res.status(401).json({ error: \"Authentication required\" });\n    }\n\n    const incompleteAttempt = await storage.getLatestIncompleteAttempt(req.user.userId);\n    \n    if (incompleteAttempt) {\n      const answers = await storage.getAttemptAnswers(incompleteAttempt.id);\n      return res.json({\n        hasIncomplete: true,\n        attempt: incompleteAttempt,\n        answeredCount: answers.length,\n      });\n    }\n\n    res.json({ hasIncomplete: false });\n  } catch (error) {\n    console.error(\"Error checking for resume:\", error);\n    res.status(500).json({ error: \"Failed to check for incomplete attempts\" });\n  }\n});\n\nrouter.get(\"/share/:shareToken\", async (req, res) => {\n  try {\n    const { shareToken } = req.params;\n    \n    const attempt = await storage.getAssessmentAttemptByShareToken(shareToken);\n    \n    if (!attempt) {\n      return res.status(404).json({ error: \"Share link not found\" });\n    }\n\n    if (!attempt.isCompleted) {\n      return res.status(400).json({ error: \"Assessment not yet completed\" });\n    }\n\n    const user = await storage.getResourcesUserById(attempt.userId);\n    \n    if (!user) {\n      return res.status(404).json({ error: \"User not found\" });\n    }\n\n    const firstName = user.name.split(' ')[0];\n    const lastInitial = user.name.split(' ')[1]?.[0] || '';\n    const displayName = lastInitial ? `${firstName} ${lastInitial}.` : firstName;\n\n    const scoreRange = \n      attempt.readinessBand === \"Internship Ready\" ? \"96-120\" :\n      attempt.readinessBand === \"On Track\" ? \"72-95\" :\n      attempt.readinessBand === \"Building Foundation\" ? \"48-71\" :\n      \"0-47\";\n\n    res.json({\n      displayName,\n      readinessBand: attempt.readinessBand,\n      scoreRange,\n      totalScore: attempt.totalScore,\n    });\n  } catch (error) {\n    console.error(\"Error fetching share data:\", error);\n    res.status(500).json({ error: \"Failed to fetch share data\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":8524,"size_tokens":null},"client/src/hooks/use-auth.ts":{"content":"import { useState, useEffect } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\n\ninterface AuthUser {\n  id: string;\n  name: string;\n  email: string;\n}\n\nexport function useAuth() {\n  const [token, setToken] = useState<string | null>(localStorage.getItem(\"resources_token\"));\n  const [user, setUser] = useState<AuthUser | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"resources_token\");\n    const storedUser = localStorage.getItem(\"resources_user\");\n    \n    if (storedToken) {\n      setToken(storedToken);\n      if (storedUser) {\n        try {\n          setUser(JSON.parse(storedUser));\n        } catch {\n          setUser(null);\n        }\n      }\n    }\n    \n    setIsLoading(false);\n  }, []);\n\n  useEffect(() => {\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(async (event, session) => {\n      if (event === 'SIGNED_IN' && session) {\n        setToken(session.access_token);\n        localStorage.setItem(\"resources_token\", session.access_token);\n        \n        const { data: profile } = await supabase\n          .from(\"profiles\")\n          .select(\"*\")\n          .eq(\"id\", session.user.id)\n          .maybeSingle();\n\n        if (profile) {\n          const userData = {\n            id: session.user.id,\n            email: session.user.email || \"\",\n            name: profile.full_name || \"\",\n          };\n          setUser(userData);\n          localStorage.setItem(\"resources_user\", JSON.stringify(userData));\n        }\n      } else if (event === 'SIGNED_OUT') {\n        setToken(null);\n        setUser(null);\n        localStorage.removeItem(\"resources_token\");\n        localStorage.removeItem(\"resources_user\");\n      }\n    });\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, []);\n\n  const logout = async () => {\n    await supabase.auth.signOut();\n    localStorage.removeItem(\"resources_token\");\n    localStorage.removeItem(\"resources_user\");\n    setToken(null);\n    setUser(null);\n  };\n\n  const refreshUser = () => {\n    const storedUser = localStorage.getItem(\"resources_user\");\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser));\n      } catch {\n        setUser(null);\n      }\n    }\n    const storedToken = localStorage.getItem(\"resources_token\");\n    setToken(storedToken);\n  };\n\n  return {\n    token,\n    user,\n    isAuthenticated: !!token,\n    isLoading,\n    logout,\n    refreshUser,\n  };\n}\n","path":null,"size_bytes":2457,"size_tokens":null},"client/src/pages/ResourcesAdminDashboard.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { Upload, Edit, Trash2, FileText, Video, ExternalLink, TrendingUp, FolderOpen, Download, LogIn, LogOut } from \"lucide-react\";\nimport type { Resource } from \"@shared/resourcesSchema\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\n\nconst loginSchema = z.object({\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n});\n\ntype LoginFormData = z.infer<typeof loginSchema>;\n\nconst uploadSchema = z.object({\n  title: z.string().min(3, \"Title must be at least 3 characters\"),\n  description: z.string().min(10, \"Description must be at least 10 characters\"),\n  category: z.enum([\"prompts\", \"books\", \"videos\"]),\n  type: z.enum([\"pdf\", \"doc\", \"video\", \"link\"]),\n  filePath: z.string().optional(),\n});\n\ntype UploadFormData = z.infer<typeof uploadSchema>;\n\nconst editSchema = z.object({\n  title: z.string().min(3, \"Title must be at least 3 characters\").optional(),\n  description: z.string().min(10, \"Description must be at least 10 characters\").optional(),\n  category: z.enum([\"prompts\", \"books\", \"videos\"]).optional(),\n  type: z.enum([\"pdf\", \"doc\", \"video\", \"link\"]).optional(),\n  filePath: z.string().optional(),\n});\n\ntype EditFormData = z.infer<typeof editSchema>;\n\nexport default function ResourcesAdminDashboard() {\n  const [showUploadDialog, setShowUploadDialog] = useState(false);\n  const [showEditDialog, setShowEditDialog] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [selectedResource, setSelectedResource] = useState<Resource | null>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [selectedEditFile, setSelectedEditFile] = useState<File | null>(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const { toast } = useToast();\n  \n  const getToken = () => localStorage.getItem(\"resources_token\");\n\n  const loginForm = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const loginMutation = useMutation({\n    mutationFn: async (data: LoginFormData) => {\n      const response = await fetch(\"/api/resources/admin/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Login failed\");\n      }\n\n      return response.json();\n    },\n    onSuccess: (data) => {\n      localStorage.setItem(\"resources_token\", data.token);\n      setIsLoggedIn(true);\n      toast({\n        title: \"Login Successful\",\n        description: \"Welcome to the admin dashboard\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Login Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleLogin = (data: LoginFormData) => {\n    loginMutation.mutate(data);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"resources_token\");\n    setIsLoggedIn(false);\n    queryClient.clear();\n    toast({\n      title: \"Logged Out\",\n      description: \"You have been logged out successfully\",\n    });\n  };\n\n  const { data: resources, isLoading } = useQuery<Resource[]>({\n    queryKey: [\"/api/resources\"],\n  });\n\n  const { data: stats } = useQuery<{\n    totalResources: number;\n    totalDownloads: number;\n    mostDownloaded: { resourceId: string; title: string; downloads: number } | null;\n  }>({\n    queryKey: [\"/api/resources/admin/stats\"],\n    queryFn: async () => {\n      const token = getToken();\n      if (!token) throw new Error(\"Not authenticated\");\n      const response = await fetch(\"/api/resources/admin/stats\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch stats\");\n      return response.json();\n    },\n    enabled: !!getToken(),\n  });\n\n  const uploadForm = useForm<UploadFormData>({\n    resolver: zodResolver(uploadSchema),\n    defaultValues: {\n      title: \"\",\n      description: \"\",\n      category: \"prompts\",\n      type: \"pdf\",\n      filePath: \"\",\n    },\n  });\n\n  const editForm = useForm<EditFormData>({\n    resolver: zodResolver(editSchema),\n    defaultValues: {},\n  });\n\n  const uploadMutation = useMutation({\n    mutationFn: async (data: UploadFormData & { file?: File }) => {\n      const token = getToken();\n      if (!token) throw new Error(\"Not authenticated\");\n      \n      const formData = new FormData();\n      formData.append(\"title\", data.title);\n      formData.append(\"description\", data.description);\n      formData.append(\"category\", data.category);\n      formData.append(\"type\", data.type);\n      \n      if (data.file) {\n        formData.append(\"file\", data.file);\n      } else if (data.filePath) {\n        formData.append(\"filePath\", data.filePath);\n      }\n\n      const response = await fetch(\"/api/resources/admin/upload\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Upload failed\");\n      }\n\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/resources\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/resources/admin/stats\"] });\n      setShowUploadDialog(false);\n      uploadForm.reset();\n      setSelectedFile(null);\n      toast({\n        title: \"Success\",\n        description: \"Resource uploaded successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const editMutation = useMutation({\n    mutationFn: async ({ id, data, file }: { id: string; data: EditFormData; file?: File }) => {\n      const token = getToken();\n      if (!token) throw new Error(\"Not authenticated\");\n      \n      if (file) {\n        const formData = new FormData();\n        if (data.title) formData.append(\"title\", data.title);\n        if (data.description) formData.append(\"description\", data.description);\n        if (data.category) formData.append(\"category\", data.category);\n        if (data.type) formData.append(\"type\", data.type);\n        formData.append(\"file\", file);\n\n        const response = await fetch(`/api/resources/admin/${id}`, {\n          method: \"PUT\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          body: formData,\n        });\n\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.error || \"Update failed\");\n        }\n\n        return response.json();\n      } else {\n        const response = await fetch(`/api/resources/admin/${id}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify(data),\n        });\n\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.error || \"Update failed\");\n        }\n\n        return response.json();\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/resources\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/resources/admin/stats\"] });\n      setShowEditDialog(false);\n      setSelectedResource(null);\n      setSelectedEditFile(null);\n      editForm.reset();\n      toast({\n        title: \"Success\",\n        description: \"Resource updated successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const token = getToken();\n      if (!token) throw new Error(\"Not authenticated\");\n      \n      const response = await fetch(`/api/resources/admin/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Delete failed\");\n      }\n\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/resources\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/resources/admin/stats\"] });\n      setShowDeleteDialog(false);\n      setSelectedResource(null);\n      toast({\n        title: \"Success\",\n        description: \"Resource deleted successfully\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleUpload = (data: UploadFormData) => {\n    uploadMutation.mutate({ ...data, file: selectedFile || undefined });\n  };\n\n  const handleEdit = (data: EditFormData) => {\n    if (selectedResource) {\n      editMutation.mutate({ id: selectedResource.id, data, file: selectedEditFile || undefined });\n    }\n  };\n\n  const handleDelete = () => {\n    if (selectedResource) {\n      deleteMutation.mutate(selectedResource.id);\n    }\n  };\n\n  const openEditDialog = (resource: Resource) => {\n    setSelectedResource(resource);\n    setSelectedEditFile(null);\n    editForm.reset({\n      title: resource.title,\n      description: resource.description,\n      category: resource.category as \"prompts\" | \"books\" | \"videos\",\n      type: resource.type as \"pdf\" | \"doc\" | \"video\" | \"link\",\n      filePath: resource.filePath || \"\",\n    });\n    setShowEditDialog(true);\n  };\n\n  const openDeleteDialog = (resource: Resource) => {\n    setSelectedResource(resource);\n    setShowDeleteDialog(true);\n  };\n\n  const formatFileSize = (bytes: number | null) => {\n    if (!bytes) return \"N/A\";\n    const mb = bytes / (1024 * 1024);\n    return `${mb.toFixed(2)} MB`;\n  };\n\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  };\n\n  if (!getToken() && !isLoggedIn) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\n        <Card className=\"w-full max-w-md\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <LogIn className=\"h-5 w-5\" />\n              Admin Login\n            </CardTitle>\n            <CardDescription>Access the resources dashboard with your admin credentials</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Form {...loginForm}>\n              <form onSubmit={loginForm.handleSubmit(handleLogin)} className=\"space-y-4\">\n                <FormField\n                  control={loginForm.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Email</FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          type=\"email\"\n                          placeholder=\"admin@bcalm.org\"\n                          data-testid=\"input-email\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={loginForm.control}\n                  name=\"password\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Password</FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          type=\"password\"\n                          placeholder=\"Enter your password\"\n                          data-testid=\"input-password\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <Button\n                  type=\"submit\"\n                  className=\"w-full\"\n                  disabled={loginMutation.isPending}\n                  data-testid=\"button-admin-login\"\n                >\n                  {loginMutation.isPending ? \"Logging in...\" : \"Login\"}\n                </Button>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex justify-between items-center mb-8\">\n            <h1 className=\"text-4xl font-bold\">Resources Admin Dashboard</h1>\n            <div className=\"flex gap-2\">\n              <Button onClick={() => setShowUploadDialog(true)} data-testid=\"button-upload-resource\">\n                <Upload className=\"h-4 w-4 mr-2\" />\n                Upload Resource\n              </Button>\n              <Button variant=\"outline\" onClick={handleLogout} data-testid=\"button-logout\">\n                <LogOut className=\"h-4 w-4 mr-2\" />\n                Logout\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">Total Resources</CardTitle>\n                <FolderOpen className=\"h-4 w-4 text-muted-foreground\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold\" data-testid=\"stat-total-resources\">\n                  {stats?.totalResources || 0}\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">Total Downloads</CardTitle>\n                <Download className=\"h-4 w-4 text-muted-foreground\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold\" data-testid=\"stat-total-downloads\">\n                  {stats?.totalDownloads || 0}\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">Most Downloaded</CardTitle>\n                <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-sm font-medium truncate\" data-testid=\"stat-most-downloaded\">\n                  {stats?.mostDownloaded?.title || \"N/A\"}\n                </div>\n                {stats?.mostDownloaded && (\n                  <p className=\"text-xs text-muted-foreground\">\n                    {stats.mostDownloaded.downloads} downloads\n                  </p>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>All Resources</CardTitle>\n              <CardDescription>Manage all uploaded resources</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {isLoading ? (\n                <p>Loading resources...</p>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Title</TableHead>\n                      <TableHead>Category</TableHead>\n                      <TableHead>Type</TableHead>\n                      <TableHead>File Size</TableHead>\n                      <TableHead>Uploaded</TableHead>\n                      <TableHead className=\"text-right\">Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {resources?.map((resource) => (\n                      <TableRow key={resource.id}>\n                        <TableCell className=\"font-medium\">{resource.title}</TableCell>\n                        <TableCell className=\"capitalize\">{resource.category}</TableCell>\n                        <TableCell className=\"uppercase\">{resource.type}</TableCell>\n                        <TableCell>{formatFileSize(resource.fileSize)}</TableCell>\n                        <TableCell>{formatDate(resource.uploadedDate)}</TableCell>\n                        <TableCell className=\"text-right\">\n                          <div className=\"flex justify-end gap-2\">\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              onClick={() => openEditDialog(resource)}\n                              data-testid={`button-edit-${resource.id}`}\n                            >\n                              <Edit className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              onClick={() => openDeleteDialog(resource)}\n                              data-testid={`button-delete-${resource.id}`}\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n\n              {!isLoading && resources?.length === 0 && (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  No resources uploaded yet\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      <Dialog open={showUploadDialog} onOpenChange={setShowUploadDialog}>\n        <DialogContent className=\"max-w-2xl\" data-testid=\"dialog-upload\">\n          <DialogHeader>\n            <DialogTitle>Upload New Resource</DialogTitle>\n            <DialogDescription>Add a new resource for users to download</DialogDescription>\n          </DialogHeader>\n\n          <form onSubmit={uploadForm.handleSubmit(handleUpload)} className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"title\">Title</Label>\n              <Input\n                id=\"title\"\n                {...uploadForm.register(\"title\")}\n                placeholder=\"Resource title\"\n                data-testid=\"input-title\"\n              />\n              {uploadForm.formState.errors.title && (\n                <p className=\"text-sm text-destructive mt-1\">{uploadForm.formState.errors.title.message}</p>\n              )}\n            </div>\n\n            <div>\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                {...uploadForm.register(\"description\")}\n                placeholder=\"Resource description\"\n                rows={3}\n                data-testid=\"textarea-description\"\n              />\n              {uploadForm.formState.errors.description && (\n                <p className=\"text-sm text-destructive mt-1\">{uploadForm.formState.errors.description.message}</p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"category\">Category</Label>\n                <Select\n                  value={uploadForm.watch(\"category\")}\n                  onValueChange={(value) => uploadForm.setValue(\"category\", value as \"prompts\" | \"books\" | \"videos\")}\n                >\n                  <SelectTrigger data-testid=\"select-category\">\n                    <SelectValue placeholder=\"Select category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"prompts\">Prompts</SelectItem>\n                    <SelectItem value=\"books\">Books</SelectItem>\n                    <SelectItem value=\"videos\">Videos</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label htmlFor=\"type\">Type</Label>\n                <Select\n                  value={uploadForm.watch(\"type\")}\n                  onValueChange={(value) => uploadForm.setValue(\"type\", value as \"pdf\" | \"doc\" | \"video\" | \"link\")}\n                >\n                  <SelectTrigger data-testid=\"select-type\">\n                    <SelectValue placeholder=\"Select type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"pdf\">PDF</SelectItem>\n                    <SelectItem value=\"doc\">DOC</SelectItem>\n                    <SelectItem value=\"video\">Video</SelectItem>\n                    <SelectItem value=\"link\">Link</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {uploadForm.watch(\"type\") === \"link\" ? (\n              <div>\n                <Label htmlFor=\"filePath\">Link URL</Label>\n                <Input\n                  id=\"filePath\"\n                  {...uploadForm.register(\"filePath\")}\n                  placeholder=\"https://...\"\n                  data-testid=\"input-file-path\"\n                />\n              </div>\n            ) : (\n              <div>\n                <Label htmlFor=\"file\">File</Label>\n                <Input\n                  id=\"file\"\n                  type=\"file\"\n                  accept=\".pdf,.doc,.docx,.mp4,.mov,.mpeg\"\n                  onChange={(e) => setSelectedFile(e.target.files?.[0] || null)}\n                  data-testid=\"input-file\"\n                />\n                {selectedFile && (\n                  <p className=\"text-sm text-muted-foreground mt-1\">\n                    Selected: {selectedFile.name} ({(selectedFile.size / (1024 * 1024)).toFixed(2)} MB)\n                  </p>\n                )}\n              </div>\n            )}\n\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setShowUploadDialog(false);\n                  uploadForm.reset();\n                  setSelectedFile(null);\n                }}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={uploadMutation.isPending} data-testid=\"button-submit-upload\">\n                {uploadMutation.isPending ? \"Uploading...\" : \"Upload Resource\"}\n              </Button>\n            </DialogFooter>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={showEditDialog} onOpenChange={setShowEditDialog}>\n        <DialogContent className=\"max-w-2xl\" data-testid=\"dialog-edit\">\n          <DialogHeader>\n            <DialogTitle>Edit Resource</DialogTitle>\n            <DialogDescription>Update resource details</DialogDescription>\n          </DialogHeader>\n\n          <form onSubmit={editForm.handleSubmit(handleEdit)} className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"edit-title\">Title</Label>\n              <Input\n                id=\"edit-title\"\n                {...editForm.register(\"title\")}\n                placeholder=\"Resource title\"\n                data-testid=\"input-edit-title\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"edit-description\">Description</Label>\n              <Textarea\n                id=\"edit-description\"\n                {...editForm.register(\"description\")}\n                placeholder=\"Resource description\"\n                rows={3}\n                data-testid=\"textarea-edit-description\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"edit-category\">Category</Label>\n                <Select\n                  value={editForm.watch(\"category\")}\n                  onValueChange={(value) => editForm.setValue(\"category\", value as \"prompts\" | \"books\" | \"videos\")}\n                >\n                  <SelectTrigger data-testid=\"select-edit-category\">\n                    <SelectValue placeholder=\"Select category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"prompts\">Prompts</SelectItem>\n                    <SelectItem value=\"books\">Books</SelectItem>\n                    <SelectItem value=\"videos\">Videos</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label htmlFor=\"edit-type\">Type</Label>\n                <Select\n                  value={editForm.watch(\"type\")}\n                  onValueChange={(value) => editForm.setValue(\"type\", value as \"pdf\" | \"doc\" | \"video\" | \"link\")}\n                >\n                  <SelectTrigger data-testid=\"select-edit-type\">\n                    <SelectValue placeholder=\"Select type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"pdf\">PDF</SelectItem>\n                    <SelectItem value=\"doc\">DOC</SelectItem>\n                    <SelectItem value=\"video\">Video</SelectItem>\n                    <SelectItem value=\"link\">Link</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {editForm.watch(\"type\") !== \"link\" && (\n              <div>\n                <Label htmlFor=\"edit-file\">Replace File (Optional)</Label>\n                <Input\n                  id=\"edit-file\"\n                  type=\"file\"\n                  onChange={(e) => setSelectedEditFile(e.target.files?.[0] || null)}\n                  accept=\".pdf,.doc,.docx,.mp4,.mov,.avi\"\n                  data-testid=\"input-edit-file\"\n                />\n                {selectedEditFile && (\n                  <p className=\"text-sm text-muted-foreground mt-1\">\n                    Selected: {selectedEditFile.name}\n                  </p>\n                )}\n                {!selectedEditFile && selectedResource?.filePath && (\n                  <p className=\"text-sm text-muted-foreground mt-1\">\n                    Current file: {selectedResource.filePath.split('/').pop()}\n                  </p>\n                )}\n              </div>\n            )}\n\n            {editForm.watch(\"type\") === \"link\" && (\n              <div>\n                <Label htmlFor=\"edit-filePath\">Link URL</Label>\n                <Input\n                  id=\"edit-filePath\"\n                  {...editForm.register(\"filePath\")}\n                  placeholder=\"https://...\"\n                  data-testid=\"input-edit-file-path\"\n                />\n              </div>\n            )}\n\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setShowEditDialog(false);\n                  setSelectedResource(null);\n                  editForm.reset();\n                }}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={editMutation.isPending} data-testid=\"button-submit-edit\">\n                {editMutation.isPending ? \"Updating...\" : \"Update Resource\"}\n              </Button>\n            </DialogFooter>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <AlertDialogContent data-testid=\"dialog-delete\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This will delete \"{selectedResource?.title}\". This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setSelectedResource(null)}>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              disabled={deleteMutation.isPending}\n              data-testid=\"button-confirm-delete\"\n            >\n              {deleteMutation.isPending ? \"Deleting...\" : \"Delete\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","path":null,"size_bytes":29760,"size_tokens":null},"client/src/pages/AssessmentQuestionsPage.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { useLocation } from \"wouter\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { trackEvent, getUtmParams, getPagePath } from \"@/lib/analytics\";\nimport { ChevronLeft } from \"lucide-react\";\nimport type { AssessmentQuestion } from \"@shared/schema\";\n\nconst ANSWER_OPTIONS = [\n  { value: 1, label: \"Not yet, this is new to me\" },\n  { value: 2, label: \"I've heard of this but can't really use it\" },\n  { value: 3, label: \"I understand basics but need guidance to apply it\" },\n  { value: 4, label: \"I can apply this in projects with some help\" },\n  { value: 5, label: \"I can do this confidently and explain it to others\" },\n];\n\nexport default function AssessmentQuestionsPage() {\n  const { isAuthenticated } = useAuth();\n  const [, setLocation] = useLocation();\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [attemptId, setAttemptId] = useState<string | null>(null);\n  const [answers, setAnswers] = useState<Record<string, number>>({});\n  const assessmentCompletedRef = useRef(false);\n  \n  // Refs to track latest state for cleanup function\n  const attemptIdRef = useRef<string | null>(null);\n  const answersRef = useRef<Record<string, number>>({});\n  const currentQuestionIndexRef = useRef(0);\n  const questionsRef = useRef<AssessmentQuestion[] | null>(null);\n  const hasTrackedDropRef = useRef(false); // Prevent duplicate tracking\n\n  const { data: questions, isLoading: loadingQuestions } = useQuery<AssessmentQuestion[]>({\n    queryKey: [\"/api/assessment/questions\"],\n    enabled: isAuthenticated,\n  });\n\n  // Fetch resume data to check if resuming incomplete attempt\n  const { data: resumeData } = useQuery<{ hasIncomplete: boolean; attempt?: any; answeredCount?: number }>({\n    queryKey: [\"/api/assessment/resume\"],\n    enabled: isAuthenticated,\n  });\n\n  const createAttemptMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", \"/api/assessment/attempts\", {});\n      return await response.json();\n    },\n    onSuccess: (data: any) => {\n      setAttemptId(data.id);\n      \n      // If resuming, restore answers and current question index\n      if (data.answers && Object.keys(data.answers).length > 0) {\n        const restoredAnswers: Record<string, number> = {};\n        for (const ans of data.answers) {\n          restoredAnswers[ans.questionId] = ans.answerValue;\n        }\n        setAnswers(restoredAnswers);\n        // Synchronously update answers ref\n        answersRef.current = restoredAnswers;\n        \n        // Set current index to the next unanswered question, or last if all answered\n        if (questions) {\n          const nextIndex = questions.findIndex(q => !restoredAnswers[q.id]);\n          const finalIndex = nextIndex === -1 ? questions.length - 1 : nextIndex;\n          setCurrentQuestionIndex(finalIndex);\n          // Synchronously update index ref\n          currentQuestionIndexRef.current = finalIndex;\n        }\n      }\n      \n      const utmParams = getUtmParams();\n      const pagePath = getPagePath();\n      trackEvent(\"assessment_started\", { \n        pagePath: pagePath, \n        utm: utmParams \n      });\n    },\n  });\n\n  const saveAnswerMutation = useMutation({\n    mutationFn: async ({ questionId, answerValue }: { questionId: string; answerValue: number }) => {\n      return await apiRequest(\"POST\", `/api/assessment/answers/${attemptId}`, {\n        questionId,\n        answerValue,\n      });\n    },\n  });\n\n  const completeAssessmentMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", `/api/assessment/complete/${attemptId}`, {});\n      return await response.json();\n    },\n    onSuccess: (data: any) => {\n      assessmentCompletedRef.current = true;\n      \n      const getScoreBand = (score: number) => {\n        if (score >= 96) return \"96-120\";\n        if (score >= 72) return \"72-95\";\n        if (score >= 48) return \"48-71\";\n        return \"0-47\";\n      };\n      \n      const pagePath = getPagePath();\n      \n      trackEvent(\"assessment_completed\", {\n        score: data.totalScore,\n        readinessBand: data.readinessBand,\n        scoreBand: getScoreBand(data.totalScore),\n        pagePath: pagePath\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/assessment/resume\"] });\n      setLocation(`/ai-pm-readiness/results/${data.id}`);\n    },\n  });\n\n  // Keep refs in sync with state\n  useEffect(() => {\n    attemptIdRef.current = attemptId;\n    answersRef.current = answers;\n    currentQuestionIndexRef.current = currentQuestionIndex;\n    questionsRef.current = questions || null;\n  }, [attemptId, answers, currentQuestionIndex, questions]);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      setLocation(\"/resources?redirect=/ai-pm-readiness/questions\");\n      return;\n    }\n\n    // Only create attempt if we're not already loading resume data\n    if (questions && !attemptId && !createAttemptMutation.isPending && resumeData !== undefined) {\n      createAttemptMutation.mutate();\n    }\n  }, [isAuthenticated, questions, attemptId, createAttemptMutation.isPending, resumeData]);\n\n  // Track assessment_dropped when user leaves without completing\n  useEffect(() => {\n    const handleAssessmentDrop = () => {\n      // Prevent duplicate tracking\n      if (hasTrackedDropRef.current) {\n        return;\n      }\n      \n      const currentQuestions = questionsRef.current;\n      \n      if (currentQuestions && !assessmentCompletedRef.current && attemptIdRef.current) {\n        const totalQuestions = currentQuestions.length;\n        const currentQuestionIndex = currentQuestionIndexRef.current;\n        const currentQuestion = currentQuestions[currentQuestionIndex];\n        \n        // Count all answered questions (simply the number of saved answers)\n        const allAnswers = answersRef.current;\n        const answeredQuestions = Object.keys(allAnswers).length;\n        \n        trackEvent(\"assessment_dropped\", {\n          totalQuestions: totalQuestions,\n          answeredQuestions: answeredQuestions,\n          currentQuestion: currentQuestion?.questionText || \"Unknown question\"\n        });\n        \n        hasTrackedDropRef.current = true;\n      }\n    };\n\n    // Only track on beforeunload (page close/refresh) and component unmount (React navigation)\n    // Removed visibilitychange to avoid duplicate events when user switches tabs\n    window.addEventListener(\"beforeunload\", handleAssessmentDrop);\n\n    // Cleanup event listeners and track on component unmount (React navigation)\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleAssessmentDrop);\n      handleAssessmentDrop();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Empty deps - cleanup only on unmount, reads from refs\n\n  if (!isAuthenticated || loadingQuestions || !questions || (!attemptId && createAttemptMutation.isPending)) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <p style={{ color: \"#9ca3af\" }} data-testid=\"text-loading\">Loading...</p>\n      </div>\n    );\n  }\n\n  if (!attemptId) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <p style={{ color: \"#ef4444\" }} data-testid=\"text-error\">Failed to create assessment attempt. Please try again.</p>\n      </div>\n    );\n  }\n\n  const currentQuestion = questions[currentQuestionIndex];\n  const progress = ((currentQuestionIndex + 1) / questions.length) * 100;\n  const totalQuestions = questions.length;\n\n  const handleAnswer = (value: number) => {\n    const newAnswers = { ...answers, [currentQuestion.id]: value };\n    setAnswers(newAnswers);\n    \n    // Synchronously update refs to avoid race condition with unmount\n    answersRef.current = newAnswers;\n\n    saveAnswerMutation.mutate({\n      questionId: currentQuestion.id,\n      answerValue: value,\n    });\n\n    setTimeout(() => {\n      if (currentQuestionIndex < questions.length - 1) {\n        const nextIndex = currentQuestionIndex + 1;\n        setCurrentQuestionIndex(nextIndex);\n        // Synchronously update index ref\n        currentQuestionIndexRef.current = nextIndex;\n      } else {\n        completeAssessmentMutation.mutate();\n      }\n    }, 300);\n  };\n\n  const handleBack = () => {\n    if (currentQuestionIndex > 0) {\n      const prevIndex = currentQuestionIndex - 1;\n      setCurrentQuestionIndex(prevIndex);\n      // Synchronously update index ref\n      currentQuestionIndexRef.current = prevIndex;\n    }\n  };\n\n  const getDimensionLabel = (dimension: string) => {\n    const parts = dimension.split(\"&\");\n    return parts[0].trim();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-8 max-w-3xl\">\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <p className=\"text-sm\" style={{ color: \"#9ca3af\" }}>\n              Section: {getDimensionLabel(currentQuestion.dimension)}\n            </p>\n            <p className=\"text-sm\" style={{ color: \"#9ca3af\" }}>\n              Question {currentQuestionIndex + 1} of {totalQuestions}\n            </p>\n          </div>\n          <Progress value={progress} className=\"h-2\" />\n        </div>\n\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={currentQuestion.id}\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -20 }}\n            transition={{ duration: 0.3 }}\n          >\n            <div className=\"mb-8\">\n              <h2 className=\"text-xl md:text-2xl font-medium mb-6\" style={{ color: \"#111111\" }}>\n                {currentQuestion.questionText}\n              </h2>\n\n              <div className=\"space-y-3\">\n                {ANSWER_OPTIONS.map((option) => (\n                  <Button\n                    key={option.value}\n                    variant={answers[currentQuestion.id] === option.value ? \"default\" : \"outline\"}\n                    className=\"w-full text-left justify-start h-auto py-4 px-6\"\n                    onClick={() => handleAnswer(option.value)}\n                    data-testid={`button-answer-${option.value}`}\n                  >\n                    <div className=\"flex items-start gap-3\">\n                      <span className=\"flex-shrink-0 font-semibold\">{option.value}</span>\n                      <span className=\"text-sm\">{option.label}</span>\n                    </div>\n                  </Button>\n                ))}\n              </div>\n            </div>\n\n            {currentQuestionIndex > 0 && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleBack}\n                className=\"mt-4\"\n                data-testid=\"button-back\"\n              >\n                <ChevronLeft className=\"h-4 w-4 mr-1\" />\n                Back\n              </Button>\n            )}\n          </motion.div>\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":11310,"size_tokens":null},"client/src/pages/AssessmentLandingPage.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Check, GraduationCap, BarChart3, BookOpen } from \"lucide-react\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { useLocation } from \"wouter\";\nimport { motion } from \"framer-motion\";\nimport { trackPageView } from \"@/lib/analytics\";\nimport { AuthModal } from \"@/components/AuthModal\";\n\nexport default function AssessmentLandingPage() {\n  const { user, refreshUser } = useAuth();\n  const [, setLocation] = useLocation();\n  const [showAuthDialog, setShowAuthDialog] = useState(false);\n\n  useEffect(() => {\n    trackPageView();\n  }, []);\n\n  const handleStart = () => {\n    if (user) {\n      setLocation(\"/ai-pm-readiness/start\");\n    } else {\n      setShowAuthDialog(true);\n    }\n  };\n\n  const handleAuthSuccess = () => {\n    refreshUser();\n    setLocation(\"/ai-pm-readiness/start\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-16 max-w-4xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-12\"\n        >\n          <h1 className=\"text-4xl md:text-5xl font-semibold mb-4\" style={{ color: \"#111111\" }}>\n            AI PM Readiness Check\n          </h1>\n          <p className=\"text-lg md:text-xl mb-2\" style={{ color: \"#4a5568\" }}>\n            Are you ready for AI Product roles? Find your strengths, gaps, and a clear learning path.\n          </p>\n          <p className=\"text-sm md:text-base\" style={{ color: \"#9ca3af\" }}>\n            Designed for 3rd–4th year students and recent graduates · 24 questions · 10 minutes · instant personalized report\n          </p>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n          className=\"mb-12 text-center\"\n        >\n          <Button\n            size=\"lg\"\n            className=\"text-base px-8\"\n            onClick={handleStart}\n            data-testid=\"button-start-readiness\"\n          >\n            Start My Readiness Check\n          </Button>\n          \n          {!user && (\n            <p className=\"mt-4 text-sm\" style={{ color: \"#9ca3af\" }}>\n              Already have an account?{\" \"}\n              <button\n                onClick={() => setShowAuthDialog(true)}\n                className=\"text-primary hover:underline\"\n                data-testid=\"link-login\"\n              >\n                Log in →\n              </button>\n            </p>\n          )}\n        </motion.div>\n\n        <AuthModal\n          open={showAuthDialog}\n          onOpenChange={setShowAuthDialog}\n          onSuccess={handleAuthSuccess}\n        />\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.4 }}\n          className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\"\n        >\n          <div className=\"text-center p-6 rounded-lg\" style={{ background: \"#f8f7ff\" }}>\n            <BarChart3 className=\"mx-auto mb-3\" style={{ width: \"32px\", height: \"32px\", color: \"#6c47ff\" }} />\n            <p className=\"text-sm\" style={{ color: \"#111111\" }}>\n              See where you stand across 8 AI PM skills\n            </p>\n          </div>\n          \n          <div className=\"text-center p-6 rounded-lg\" style={{ background: \"#f8f7ff\" }}>\n            <GraduationCap className=\"mx-auto mb-3\" style={{ width: \"32px\", height: \"32px\", color: \"#6c47ff\" }} />\n            <p className=\"text-sm\" style={{ color: \"#111111\" }}>\n              Get a personalized gap report + learning recommendations\n            </p>\n          </div>\n          \n          <div className=\"text-center p-6 rounded-lg\" style={{ background: \"#f8f7ff\" }}>\n            <BookOpen className=\"mx-auto mb-3\" style={{ width: \"32px\", height: \"32px\", color: \"#6c47ff\" }} />\n            <p className=\"text-sm\" style={{ color: \"#111111\" }}>\n              Understand how top students move from 'curious' to 'role-ready'\n            </p>\n          </div>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.6 }}\n          className=\"text-center\"\n        >\n          <p className=\"text-xs\" style={{ color: \"#9ca3af\" }}>\n            You'll need a free Bcalm account so we can save your report and email it to you.\n          </p>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":4629,"size_tokens":null},"client/src/pages/AssessmentResultsPage.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useParams, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { trackPageView } from \"@/lib/analytics\";\nimport { motion } from \"framer-motion\";\nimport { TrendingUp, BookOpen, Target, Share2, Copy, Check } from \"lucide-react\";\nimport { SiLinkedin, SiWhatsapp } from \"react-icons/si\";\n\nconst DIMENSION_INFO: Record<string, { description: string; how_bcalm_helps: string }> = {\n  \"Product & Problem Thinking\": {\n    description: \"You struggle to define clear problem statements, jump to solutions without measurable outcomes, or find it hard to prioritize features.\",\n    how_bcalm_helps: \"In Module 1: Product & Problem Thinking for AI, you will practice writing problem statements from vague prompts, learn how to define success metrics, and work on structured case prompts similar to AI PM interviews.\",\n  },\n  \"AI/ML Fundamentals\": {\n    description: \"You lack clarity on AI/ML concepts like supervised learning, classification vs. regression, or struggle to explain how recommendation systems and NLP work.\",\n    how_bcalm_helps: \"In Module 2: AI/ML Foundations, you will learn core concepts through real product examples, understand when to use different ML approaches, and build confidence discussing AI systems with engineers.\",\n  },\n  \"Data & Metrics\": {\n    description: \"You find it challenging to define the right metrics, struggle with understanding model performance indicators, or confuse correlation with causation.\",\n    how_bcalm_helps: \"In Module 3: Metrics & Data Analysis, you will practice defining success metrics for AI features, learn to evaluate model performance using precision, recall, and F1 scores, and develop data-driven decision-making skills.\",\n  },\n  \"User Research & Empathy\": {\n    description: \"You're unsure how to conduct user interviews, struggle to create personas or user journeys, or find it difficult to translate user insights into product ideas.\",\n    how_bcalm_helps: \"In Module 4: User Research for AI Products, you will learn frameworks for conducting effective interviews, practice creating user personas and journey maps, and develop empathy-driven product thinking.\",\n  },\n  \"Product Strategy & Roadmapping\": {\n    description: \"You don't know how to break down a big vision into shippable milestones, struggle with prioritization frameworks, or find trade-offs between speed, quality, and scope challenging.\",\n    how_bcalm_helps: \"In Module 5: Product Strategy, you will master prioritization frameworks like RICE and MoSCoW, learn to create realistic roadmaps, and practice making strategic trade-off decisions.\",\n  },\n  \"Communication & Stakeholder Management\": {\n    description: \"You find it hard to explain technical AI concepts to non-technical people, feel uncomfortable presenting to groups, or struggle to align different stakeholders.\",\n    how_bcalm_helps: \"In Module 6: Communication Skills, you will practice translating technical jargon into simple language, develop presentation skills through mock scenarios, and learn stakeholder alignment techniques.\",\n  },\n  \"Technical Collaboration\": {\n    description: \"You can't read basic code snippets, don't understand APIs or data flows, or struggle to ask smart questions about feasibility and timelines with engineers.\",\n    how_bcalm_helps: \"In Module 7: Technical Fluency for PMs, you will learn to read basic Python code, understand API documentation, discuss integration challenges, and ask informed questions about model deployment.\",\n  },\n  \"AI Ethics & Responsible Design\": {\n    description: \"You're unfamiliar with bias in AI systems, don't think about privacy and user consent, or can't discuss examples of AI failures and how to avoid them.\",\n    how_bcalm_helps: \"In Module 8: AI Ethics & Responsible Design, you will study real-world AI failures, learn to identify and mitigate bias, and develop frameworks for building ethical AI products.\",\n  },\n};\n\nexport default function AssessmentResultsPage() {\n  const { attemptId } = useParams<{ attemptId: string }>();\n  const { isAuthenticated } = useAuth();\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [copied, setCopied] = useState(false);\n\n  const { data: result, isLoading } = useQuery<{ attempt: any; user: any; answerCount: number }>({\n    queryKey: [\"/api/assessment/results\", attemptId],\n    enabled: isAuthenticated && !!attemptId,\n  });\n\n  useEffect(() => {\n    trackPageView();\n  }, []);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      setLocation(\"/resources?redirect=/ai-pm-readiness\");\n    }\n  }, [isAuthenticated, setLocation]);\n\n  const shareUrl = result?.attempt?.shareToken\n    ? `${window.location.origin}/ai-pm-readiness/share/${result.attempt.shareToken}`\n    : \"\";\n\n  const shareText = result\n    ? `I just completed the Bcalm AI PM Readiness Check and scored ${result.attempt.readinessBand}!\\n\\nWant to see where you stand across 8 AI PM skills?\\nTake the free assessment:`\n    : \"\";\n\n  const handleCopyLink = async () => {\n    if (!shareUrl) return;\n    \n    try {\n      await navigator.clipboard.writeText(shareUrl);\n      setCopied(true);\n      toast({\n        title: \"Link copied!\",\n        description: \"Share link copied to clipboard\",\n      });\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to copy link\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleLinkedInShare = () => {\n    if (!shareUrl) return;\n    const text = encodeURIComponent(shareText);\n    const url = encodeURIComponent(shareUrl);\n    window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, \"_blank\");\n  };\n\n  const handleWhatsAppShare = () => {\n    if (!shareUrl) return;\n    const text = encodeURIComponent(`${shareText}\\n${shareUrl}`);\n    window.open(`https://wa.me/?text=${text}`, \"_blank\");\n  };\n\n  if (!isAuthenticated || isLoading || !result) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <p style={{ color: \"#9ca3af\" }}>Loading your results...</p>\n      </div>\n    );\n  }\n\n  const { attempt } = result;\n  const dimensionScores = attempt.scoresJson ? JSON.parse(attempt.scoresJson) : {};\n  const totalScore = attempt.totalScore || 0;\n  const maxScore = 120;\n  const readinessBand = attempt.readinessBand || \"Early Explorer\";\n\n  const getBandColor = (band: string) => {\n    if (band === \"Internship Ready\") return \"#10b981\";\n    if (band === \"On Track\") return \"#3b82f6\";\n    if (band === \"Building Foundation\") return \"#f59e0b\";\n    return \"#8b5cf6\";\n  };\n\n  const getBandMessage = (band: string) => {\n    if (band === \"Internship Ready\") {\n      return \"You're close to interview-ready. Bcalm helps you turn this into a standout portfolio and interview success.\";\n    }\n    if (band === \"On Track\") {\n      return \"You're making good progress. You have strong foundations in several areas and need targeted improvements in others.\";\n    }\n    if (band === \"Building Foundation\") {\n      return \"You're early in your AI PM journey. You already show strength in some areas, but need to build foundations to become internship-ready.\";\n    }\n    return \"You're exactly who Bcalm was designed for. This program will give you the foundations you need to excel in AI PM roles.\";\n  };\n\n  const getScoreColor = (score: number) => {\n    if (score >= 12) return \"#10b981\";\n    if (score >= 9) return \"#f59e0b\";\n    return \"#ef4444\";\n  };\n\n  const getScoreLabel = (score: number) => {\n    if (score >= 12) return \"Strong\";\n    if (score >= 9) return \"Developing\";\n    return \"Needs Work\";\n  };\n\n  const weakDimensions = Object.entries(dimensionScores)\n    .filter(([, score]) => (score as number) < 10)\n    .sort(([, a], [, b]) => (a as number) - (b as number));\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-12 max-w-5xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <div className=\"text-center mb-12\">\n            <div className=\"inline-block px-4 py-2 rounded-full mb-4\" style={{ background: \"#f5f3ff\" }}>\n              <p className=\"text-sm font-medium\" style={{ color: \"#6c47ff\" }}>Your AI PM Readiness Score</p>\n            </div>\n            <h1 className=\"text-5xl md:text-6xl font-bold mb-2\" style={{ color: getBandColor(readinessBand) }}>\n              {totalScore} / {maxScore}\n            </h1>\n            <p className=\"text-2xl md:text-3xl font-semibold mb-4\" style={{ color: \"#111111\" }}>\n              {readinessBand}\n            </p>\n            <p className=\"text-lg max-w-2xl mx-auto\" style={{ color: \"#4a5568\" }}>\n              {getBandMessage(readinessBand)}\n            </p>\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center mb-8\">\n            <Button size=\"lg\" onClick={() => setLocation(\"/#curriculum\")} data-testid=\"button-view-curriculum\">\n              <BookOpen className=\"h-4 w-4 mr-2\" />\n              See How Bcalm Helps\n            </Button>\n            <Button size=\"lg\" variant=\"outline\" onClick={() => setLocation(\"/#pricing\")} data-testid=\"button-join-waitlist\">\n              Join the Waitlist\n            </Button>\n          </div>\n\n          {shareUrl && (\n            <Card className=\"mb-12\" style={{ background: \"#f8f7ff\", borderColor: \"#e5e5e5\" }}>\n              <CardContent className=\"p-6\">\n                <div className=\"text-center mb-4\">\n                  <div className=\"flex items-center justify-center gap-2 mb-2\">\n                    <Share2 className=\"h-5 w-5\" style={{ color: \"#6c47ff\" }} />\n                    <h3 className=\"text-lg font-semibold\" style={{ color: \"#111111\" }}>\n                      Share Your Readiness Profile\n                    </h3>\n                  </div>\n                  <p className=\"text-sm\" style={{ color: \"#9ca3af\" }}>\n                    Inspire your peers to discover their AI PM strengths\n                  </p>\n                </div>\n                <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleLinkedInShare}\n                    className=\"gap-2\"\n                    data-testid=\"button-share-linkedin\"\n                  >\n                    <SiLinkedin className=\"h-4 w-4\" />\n                    Share to LinkedIn\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleWhatsAppShare}\n                    className=\"gap-2\"\n                    data-testid=\"button-share-whatsapp\"\n                  >\n                    <SiWhatsapp className=\"h-4 w-4\" />\n                    Share to WhatsApp\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleCopyLink}\n                    className=\"gap-2\"\n                    data-testid=\"button-copy-link\"\n                  >\n                    {copied ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                    {copied ? \"Copied!\" : \"Copy Link\"}\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          <Card className=\"mb-8\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <TrendingUp className=\"h-5 w-5\" />\n                Your Scores by Dimension\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {Object.entries(dimensionScores).map(([dimension, score]) => {\n                  const scoreNum = score as number;\n                  return (\n                    <div key={dimension}>\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-sm font-medium\" style={{ color: \"#111111\" }}>\n                          {dimension}\n                        </span>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-sm font-semibold\" style={{ color: getScoreColor(scoreNum) }}>\n                            {scoreNum} / 15\n                          </span>\n                          <span className=\"text-xs px-2 py-1 rounded\" style={{ background: \"#f5f3ff\", color: \"#6c47ff\" }}>\n                            {getScoreLabel(scoreNum)}\n                          </span>\n                        </div>\n                      </div>\n                      <Progress value={(scoreNum / 15) * 100} className=\"h-2\" />\n                    </div>\n                  );\n                })}\n              </div>\n            </CardContent>\n          </Card>\n\n          {weakDimensions.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Target className=\"h-5 w-5\" />\n                  Your Growth Areas\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  {weakDimensions.map(([dimension]) => {\n                    const info = DIMENSION_INFO[dimension];\n                    if (!info) return null;\n\n                    return (\n                      <div key={dimension} className=\"border-l-4 pl-4\" style={{ borderColor: \"#6c47ff\" }}>\n                        <h3 className=\"text-lg font-semibold mb-2\" style={{ color: \"#111111\" }}>\n                          {dimension}\n                        </h3>\n                        <p className=\"text-sm mb-3\" style={{ color: \"#4a5568\" }}>\n                          {info.description}\n                        </p>\n                        <div className=\"bg-muted p-4 rounded-lg\">\n                          <p className=\"text-xs font-semibold mb-1\" style={{ color: \"#6c47ff\" }}>\n                            How Bcalm helps:\n                          </p>\n                          <p className=\"text-sm\" style={{ color: \"#4a5568\" }}>\n                            {info.how_bcalm_helps}\n                          </p>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          <div className=\"text-center mt-12 p-6 rounded-lg\" style={{ background: \"#f8f7ff\" }}>\n            <h3 className=\"text-xl font-semibold mb-2\" style={{ color: \"#111111\" }}>\n              {readinessBand === \"Internship Ready\" || readinessBand === \"On Track\"\n                ? \"You're close to being interview-ready\"\n                : \"Ready to bridge your gaps?\"}\n            </h3>\n            <p className=\"text-sm mb-4\" style={{ color: \"#4a5568\" }}>\n              Join our next cohort and move from {totalScore} to 100+ with personalized mentorship and hands-on projects.\n            </p>\n            <Button onClick={() => setLocation(\"/#pricing\")} data-testid=\"button-join-cohort\">\n              Join the Next Cohort\n            </Button>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":15583,"size_tokens":null},"client/src/pages/ResourcesPage.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { trackPageView } from \"@/lib/analytics\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { motion } from \"framer-motion\";\nimport { Download, FileText, Video, ExternalLink, Book, Lightbulb } from \"lucide-react\";\nimport type { Resource } from \"@shared/resourcesSchema\";\nimport { AuthModal } from \"@/components/AuthModal\";\n\nfunction ResourceCard({ resource, onDownload }: { resource: Resource; onDownload: (id: string) => void }) {\n  const getIcon = () => {\n    switch (resource.type) {\n      case \"pdf\":\n      case \"doc\":\n        return <FileText className=\"h-6 w-6\" />;\n      case \"video\":\n        return <Video className=\"h-6 w-6\" />;\n      case \"link\":\n        return <ExternalLink className=\"h-6 w-6\" />;\n      default:\n        return <FileText className=\"h-6 w-6\" />;\n    }\n  };\n\n  const getCategoryIcon = () => {\n    switch (resource.category) {\n      case \"prompts\":\n        return <Lightbulb className=\"h-5 w-5\" />;\n      case \"books\":\n        return <Book className=\"h-5 w-5\" />;\n      case \"videos\":\n        return <Video className=\"h-5 w-5\" />;\n      default:\n        return <FileText className=\"h-5 w-5\" />;\n    }\n  };\n\n  const formatFileSize = (bytes: number | null) => {\n    if (!bytes) return \"N/A\";\n    const mb = bytes / (1024 * 1024);\n    return `${mb.toFixed(2)} MB`;\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <Card className=\"h-full flex flex-col\">\n        <CardHeader>\n          <div className=\"flex items-start justify-between gap-2\">\n            <div className=\"flex items-center gap-2\">\n              {getCategoryIcon()}\n              <CardTitle className=\"text-lg\">{resource.title}</CardTitle>\n            </div>\n            <div className=\"flex-shrink-0\">\n              {getIcon()}\n            </div>\n          </div>\n          <CardDescription className=\"line-clamp-2\">{resource.description}</CardDescription>\n        </CardHeader>\n        <CardContent className=\"flex-1\">\n          <div className=\"space-y-2 text-sm text-muted-foreground\">\n            <div className=\"flex justify-between\">\n              <span>Type:</span>\n              <span className=\"font-medium uppercase\">{resource.type}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span>Category:</span>\n              <span className=\"font-medium capitalize\">{resource.category}</span>\n            </div>\n            {resource.fileSize && (\n              <div className=\"flex justify-between\">\n                <span>Size:</span>\n                <span className=\"font-medium\">{formatFileSize(resource.fileSize)}</span>\n              </div>\n            )}\n          </div>\n        </CardContent>\n        <CardFooter>\n          <Button \n            className=\"w-full\" \n            onClick={() => onDownload(resource.id)}\n            data-testid={`button-download-${resource.id}`}\n          >\n            <Download className=\"h-4 w-4 mr-2\" />\n            Download\n          </Button>\n        </CardFooter>\n      </Card>\n    </motion.div>\n  );\n}\n\nexport default function ResourcesPage() {\n  const [showAuthDialog, setShowAuthDialog] = useState(false);\n  const { toast } = useToast();\n  const { token, logout, refreshUser } = useAuth();\n\n  useEffect(() => {\n    trackPageView();\n  }, []);\n\n  const { data: resources, isLoading } = useQuery<Resource[]>({\n    queryKey: [\"/api/resources\"],\n  });\n\n  const handleAuthSuccess = () => {\n    refreshUser();\n    toast({\n      title: \"Welcome!\",\n      description: \"You can now download resources\",\n    });\n  };\n\n  const handleDownload = (resourceId: string) => {\n    if (!token) {\n      setShowAuthDialog(true);\n      toast({\n        title: \"Authentication required\",\n        description: \"Please sign in to download resources\",\n      });\n      return;\n    }\n\n    window.location.href = `/api/resources/download/${resourceId}?token=${encodeURIComponent(token)}`;\n    \n    toast({\n      title: \"Download started\",\n      description: \"Your file is being downloaded\",\n    });\n  };\n\n  const handleLogout = async () => {\n    await logout();\n    toast({\n      title: \"Logged out\",\n      description: \"You have been logged out successfully\",\n    });\n  };\n\n  const groupedResources = resources?.reduce((acc, resource) => {\n    if (!acc[resource.category]) {\n      acc[resource.category] = [];\n    }\n    acc[resource.category].push(resource);\n    return acc;\n  }, {} as Record<string, Resource[]>) || {};\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-16\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex justify-between items-center mb-12\">\n            <motion.div\n              initial={{ opacity: 0, y: -20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5 }}\n            >\n              <h1 className=\"text-4xl font-bold mb-4\">Free Resources for Product Managers</h1>\n              <p className=\"text-xl text-muted-foreground\">\n                Download curated resources to accelerate your PM career\n              </p>\n            </motion.div>\n            {token ? (\n              <Button variant=\"outline\" onClick={handleLogout} data-testid=\"button-logout\">\n                Logout\n              </Button>\n            ) : (\n              <Button onClick={() => setShowAuthDialog(true)} data-testid=\"button-signin\">\n                Sign In\n              </Button>\n            )}\n          </div>\n\n          {isLoading ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-lg text-muted-foreground\">Loading resources...</p>\n            </div>\n          ) : (\n            <div className=\"space-y-16\">\n              {Object.entries(groupedResources).map(([category, categoryResources]) => (\n                <section key={category}>\n                  <h2 className=\"text-3xl font-semibold mb-6 capitalize\">\n                    {category === \"prompts\" && \"Free Prompt Library for PMs\"}\n                    {category === \"books\" && \"Top 20 Books for PMs\"}\n                    {category === \"videos\" && \"Top PM Videos and Articles\"}\n                  </h2>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {categoryResources.map((resource) => (\n                      <ResourceCard\n                        key={resource.id}\n                        resource={resource}\n                        onDownload={handleDownload}\n                      />\n                    ))}\n                  </div>\n                </section>\n              ))}\n\n              {Object.keys(groupedResources).length === 0 && (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-lg text-muted-foreground\">No resources available yet. Check back soon!</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <AuthModal\n        open={showAuthDialog}\n        onOpenChange={setShowAuthDialog}\n        onSuccess={handleAuthSuccess}\n      />\n    </div>\n  );\n}\n","path":null,"size_bytes":7420,"size_tokens":null},"client/src/pages/AssessmentStartPage.tsx":{"content":"import { useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { useLocation } from \"wouter\";\nimport { motion } from \"framer-motion\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\n\nexport default function AssessmentStartPage() {\n  const { token, isAuthenticated } = useAuth();\n  const [, setLocation] = useLocation();\n\n  const { data: resumeData } = useQuery<{ hasIncomplete: boolean; attempt?: any; answeredCount?: number }>({\n    queryKey: [\"/api/assessment/resume\"],\n    enabled: isAuthenticated,\n  });\n\n  const clearIncompleteMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"DELETE\", \"/api/assessment/attempts/incomplete\", {});\n      return await response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/assessment/resume\"] });\n      setLocation(\"/ai-pm-readiness/questions\");\n    },\n  });\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      setLocation(\"/resources?redirect=/ai-pm-readiness/start\");\n    }\n  }, [isAuthenticated, setLocation]);\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  const handleBegin = () => {\n    setLocation(\"/ai-pm-readiness/questions\");\n  };\n\n  const handleResume = () => {\n    setLocation(\"/ai-pm-readiness/questions\");\n  };\n\n  const handleStartFresh = () => {\n    clearIncompleteMutation.mutate();\n  };\n\n  if (resumeData?.hasIncomplete) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"container mx-auto px-4 py-16 max-w-2xl\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            className=\"text-center\"\n          >\n            <h1 className=\"text-3xl md:text-4xl font-semibold mb-4\" style={{ color: \"#111111\" }}>\n              Resume Your Assessment?\n            </h1>\n            <p className=\"text-lg mb-8\" style={{ color: \"#4a5568\" }}>\n              You have an incomplete assessment with {resumeData.answeredCount} questions answered.\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <Button\n                size=\"lg\"\n                onClick={handleResume}\n                data-testid=\"button-resume-assessment\"\n              >\n                Resume Assessment\n              </Button>\n              <Button\n                size=\"lg\"\n                variant=\"outline\"\n                onClick={handleStartFresh}\n                disabled={clearIncompleteMutation.isPending}\n                data-testid=\"button-start-fresh\"\n              >\n                {clearIncompleteMutation.isPending ? \"Clearing...\" : \"Start Fresh\"}\n              </Button>\n            </div>\n          </motion.div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center\">\n      <div className=\"container mx-auto px-4 py-16 max-w-2xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center\"\n        >\n          <h1 className=\"text-3xl md:text-4xl font-semibold mb-4\" style={{ color: \"#111111\" }}>\n            You're about to start your AI PM Readiness Check\n          </h1>\n          <p className=\"text-lg mb-6\" style={{ color: \"#4a5568\" }}>\n            24 questions · 8 skill areas · ~10 minutes\n          </p>\n          <p className=\"text-base mb-8\" style={{ color: \"#9ca3af\" }}>\n            Answer honestly. This is for you, not a test. Your responses stay private.\n          </p>\n          \n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <Button\n              size=\"lg\"\n              onClick={handleBegin}\n              data-testid=\"button-begin-assessment\"\n            >\n              Begin Assessment\n            </Button>\n            <Button\n              size=\"lg\"\n              variant=\"outline\"\n              onClick={() => setLocation(\"/ai-pm-readiness\")}\n              data-testid=\"button-cancel\"\n            >\n              I'll do this later\n            </Button>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":4408,"size_tokens":null},"client/src/pages/ShareResultsPage.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useParams, useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { motion } from \"framer-motion\";\nimport { Trophy, TrendingUp, BookOpen, Sparkles } from \"lucide-react\";\n\ninterface ShareData {\n  displayName: string;\n  readinessBand: string;\n  scoreRange: string;\n  totalScore: number;\n}\n\nexport default function ShareResultsPage() {\n  const { shareToken } = useParams<{ shareToken: string }>();\n  const [, setLocation] = useLocation();\n\n  const { data: shareData, isLoading, error } = useQuery<ShareData>({\n    queryKey: [\"/api/assessment/share\", shareToken],\n    queryFn: async () => {\n      const response = await fetch(`/api/assessment/share/${shareToken}`);\n      if (!response.ok) {\n        throw new Error(\"Share link not found\");\n      }\n      return response.json();\n    },\n  });\n\n  const getBandIcon = (band: string) => {\n    switch (band) {\n      case \"Internship Ready\":\n        return <Trophy className=\"h-12 w-12\" style={{ color: \"#6c47ff\" }} />;\n      case \"On Track\":\n        return <TrendingUp className=\"h-12 w-12\" style={{ color: \"#6c47ff\" }} />;\n      case \"Building Foundation\":\n        return <BookOpen className=\"h-12 w-12\" style={{ color: \"#6c47ff\" }} />;\n      default:\n        return <Sparkles className=\"h-12 w-12\" style={{ color: \"#6c47ff\" }} />;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <p className=\"text-lg\">Loading shared results...</p>\n      </div>\n    );\n  }\n\n  if (error || !shareData) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center max-w-md mx-auto px-4\">\n          <h1 className=\"text-2xl font-semibold mb-4\">Share Link Not Found</h1>\n          <p className=\"text-muted-foreground mb-6\">\n            This share link may be invalid or the assessment results may not be available.\n          </p>\n          <Button onClick={() => setLocation(\"/ai-pm-readiness\")} data-testid=\"button-take-assessment\">\n            Take the AI PM Readiness Check\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container mx-auto px-4 py-16 max-w-3xl\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-12\"\n        >\n          <h1 className=\"text-3xl md:text-4xl font-semibold mb-4\" style={{ color: \"#111111\" }}>\n            {shareData.displayName}'s AI PM Readiness Check Results\n          </h1>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n        >\n          <Card className=\"overflow-hidden\" style={{ borderColor: \"#e5e5e5\" }}>\n            <div\n              className=\"p-8 text-center\"\n              style={{\n                background: \"linear-gradient(135deg, #6c47ff 0%, #5a3dd9 100%)\",\n              }}\n            >\n              <div className=\"flex justify-center mb-4\">\n                {getBandIcon(shareData.readinessBand)}\n              </div>\n              <h2 className=\"text-2xl md:text-3xl font-semibold text-white mb-2\">\n                {shareData.readinessBand}\n              </h2>\n              <p className=\"text-white/90 text-sm md:text-base\">\n                Score Range: {shareData.scoreRange} / 120\n              </p>\n            </div>\n            <CardContent className=\"p-8\">\n              <div className=\"space-y-6\">\n                <div className=\"text-center\">\n                  <p className=\"text-base md:text-lg\" style={{ color: \"#4a5568\" }}>\n                    \"I just completed the <span className=\"font-semibold\">Bcalm AI PM Readiness Check</span> and\n                    scored <span className=\"font-semibold\">{shareData.readinessBand}</span>.\n                  </p>\n                  <p className=\"text-base md:text-lg mt-4\" style={{ color: \"#4a5568\" }}>\n                    Want to see where you stand across 8 AI PM skills?\"\n                  </p>\n                </div>\n\n                <div\n                  className=\"p-4 rounded-lg text-center\"\n                  style={{ background: \"#f8f7ff\" }}\n                >\n                  <p className=\"text-sm font-medium mb-2\" style={{ color: \"#6c47ff\" }}>\n                    Take the Free Assessment\n                  </p>\n                  <p className=\"text-xs\" style={{ color: \"#9ca3af\" }}>\n                    24 questions • 10 minutes • Instant personalized report\n                  </p>\n                </div>\n\n                <div className=\"text-center\">\n                  <Button\n                    size=\"lg\"\n                    className=\"w-full md:w-auto px-8\"\n                    onClick={() => setLocation(\"/ai-pm-readiness\")}\n                    data-testid=\"button-take-my-assessment\"\n                  >\n                    Take the AI PM Readiness Check\n                  </Button>\n                  <p className=\"text-xs mt-4\" style={{ color: \"#9ca3af\" }}>\n                    Powered by Bcalm • Free forever\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.4 }}\n          className=\"mt-12 text-center\"\n        >\n          <h3 className=\"text-lg font-semibold mb-4\" style={{ color: \"#111111\" }}>\n            What You'll Discover\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"p-4 rounded-lg\" style={{ background: \"#f8f7ff\" }}>\n              <p className=\"text-sm font-medium mb-1\" style={{ color: \"#111111\" }}>\n                8 Skill Dimensions\n              </p>\n              <p className=\"text-xs\" style={{ color: \"#9ca3af\" }}>\n                Product Thinking, AI/ML, Data & Metrics, and more\n              </p>\n            </div>\n            <div className=\"p-4 rounded-lg\" style={{ background: \"#f8f7ff\" }}>\n              <p className=\"text-sm font-medium mb-1\" style={{ color: \"#111111\" }}>\n                Personalized Gap Analysis\n              </p>\n              <p className=\"text-xs\" style={{ color: \"#9ca3af\" }}>\n                See exactly where to focus your learning\n              </p>\n            </div>\n            <div className=\"p-4 rounded-lg\" style={{ background: \"#f8f7ff\" }}>\n              <p className=\"text-sm font-medium mb-1\" style={{ color: \"#111111\" }}>\n                Readiness Band\n              </p>\n              <p className=\"text-xs\" style={{ color: \"#9ca3af\" }}>\n                From Early Explorer to Internship Ready\n              </p>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":7143,"size_tokens":null},"client/src/components/StickyQuicklinks.tsx":{"content":"import { useState, useEffect } from \"react\";\n\nconst quickLinks = [\n  { name: \"Overview\", href: \"#about\" },\n  { name: \"Curriculum\", href: \"#curriculum\" },\n  { name: \"Instructor\", href: \"#instructors\" },\n  { name: \"Outcomes\", href: \"#career-support\" },\n  { name: \"Reviews\", href: \"#reviews\" },\n  { name: \"Pricing\", href: \"#pricing\" },\n  { name: \"FAQ\", href: \"#why-bcalm\" },\n];\n\nexport default function StickyQuicklinks() {\n  const [isSticky, setIsSticky] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const quicklinksEl = document.getElementById('quicklinks-section');\n      if (quicklinksEl) {\n        const rect = quicklinksEl.getBoundingClientRect();\n        setIsSticky(rect.top <= 64);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return (\n    <div id=\"quicklinks-section\" className=\"relative\">\n      <nav \n        className={`\n          ${isSticky ? 'fixed top-16 left-0 right-0 z-40 shadow-sm' : 'relative'}\n          bg-background border-b border-border transition-all duration-200\n        `}\n        data-testid=\"nav-quicklinks\"\n      >\n        <div className=\"container mx-auto px-4\" style={{ maxWidth: '1080px' }}>\n          <div className=\"flex items-center gap-1 overflow-x-auto scrollbar-hide py-3\">\n            {quickLinks.map((link, index) => (\n              <a\n                key={index}\n                href={link.href}\n                className=\"\n                  text-sm text-muted-foreground hover:text-foreground \n                  transition-colors px-3 py-1.5 rounded-md \n                  hover:bg-muted whitespace-nowrap\n                \"\n                data-testid={`link-quick-${link.name.toLowerCase()}`}\n              >\n                {link.name}\n              </a>\n            ))}\n          </div>\n        </div>\n      </nav>\n      {/* Spacer when sticky to prevent layout shift */}\n      {isSticky && <div style={{ height: '48px' }} />}\n    </div>\n  );\n}\n","path":null,"size_bytes":2028,"size_tokens":null},"client/src/components/WhyBcalmWorksSection.tsx":{"content":"import { User, Target } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nexport default function WhyBcalmWorksSection() {\n  return (\n    <section \n      className=\"py-16 md:py-20\"\n      style={{ backgroundColor: '#fbfaff' }}\n    >\n      <div className=\"container mx-auto px-4\" style={{ maxWidth: '1080px' }}>\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          viewport={{ once: true }}\n          transition={{ duration: 0.6 }}\n        >\n          {/* Section Heading & Subtitle */}\n          <div className=\"text-center mb-10 md:mb-12\">\n            <h2 className=\"text-3xl md:text-4xl lg:text-[40px] font-bold text-foreground mb-4\">\n              Why Bcalm Works\n            </h2>\n            <p className=\"text-base md:text-lg text-muted-foreground max-w-2xl mx-auto\">\n              Built from real hiring experience, real product journeys, and real outcomes.\n            </p>\n          </div>\n          \n          {/* Cards Container */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8\">\n            {/* Card 1: Learn From Top 1% Leadership */}\n            <motion.div\n              initial={{ opacity: 0, y: 15 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              viewport={{ once: true }}\n              transition={{ duration: 0.5, delay: 0.1 }}\n              className=\"group cursor-pointer\"\n              data-testid=\"card-instructor\"\n            >\n              <div \n                className=\"h-full p-7 md:p-8 transition-all duration-300 group-hover:-translate-y-[5px]\"\n                style={{\n                  backgroundColor: '#FFFFFF',\n                  borderRadius: '12px',\n                  boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n                  borderTop: '4px solid #6A0DFF',\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.boxShadow = '0 8px 30px rgba(0,0,0,0.12)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n                }}\n              >\n                {/* Icon */}\n                <div className=\"mb-4\">\n                  <div \n                    className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\n                    style={{ backgroundColor: 'rgba(106, 13, 255, 0.1)' }}\n                  >\n                    <User className=\"w-6 h-6 text-primary\" />\n                  </div>\n                </div>\n                \n                {/* Title */}\n                <h3 className=\"text-xl md:text-2xl font-bold mb-5 text-foreground\">\n                  Learn from Top 1% Leadership\n                </h3>\n                \n                {/* Bullets */}\n                <div className=\"space-y-4\">\n                  <p className=\"text-[15px] md:text-base text-muted-foreground leading-relaxed\">\n                    • Built large-scale systems at <strong className=\"text-foreground\">Zepto, Apollo 247, Toppr & Housing.com</strong>.\n                  </p>\n                  <p className=\"text-[15px] md:text-base text-muted-foreground leading-relaxed\">\n                    • Grew his career from <strong className=\"text-foreground\">₹3.2 LPA → ₹2.4 Cr PA</strong>.\n                  </p>\n                  <p className=\"text-[15px] md:text-base text-muted-foreground leading-relaxed\">\n                    • Senior Leadership experience at a <strong className=\"text-foreground\">$7B YC-backed company</strong>.\n                  </p>\n                </div>\n              </div>\n            </motion.div>\n\n            {/* Card 2: 10x Your Shortlist Chances */}\n            <motion.div\n              initial={{ opacity: 0, y: 15 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              viewport={{ once: true }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n              className=\"group cursor-pointer\"\n              data-testid=\"card-shortlist\"\n            >\n              <div \n                className=\"h-full p-7 md:p-8 transition-all duration-300 group-hover:-translate-y-[5px]\"\n                style={{\n                  backgroundColor: '#FFFFFF',\n                  borderRadius: '12px',\n                  boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n                  borderTop: '4px solid #FF9F43',\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.boxShadow = '0 8px 30px rgba(0,0,0,0.12)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n                }}\n              >\n                {/* Icon */}\n                <div className=\"mb-4\">\n                  <div \n                    className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\n                    style={{ backgroundColor: 'rgba(255, 159, 67, 0.1)' }}\n                  >\n                    <Target className=\"w-6 h-6\" style={{ color: '#FF9F43' }} />\n                  </div>\n                </div>\n                \n                {/* Title */}\n                <h3 className=\"text-xl md:text-2xl font-bold mb-5 text-foreground\">\n                  10x Your Shortlist Chances\n                </h3>\n                \n                {/* Bullets */}\n                <div className=\"space-y-4\">\n                  <p className=\"text-[15px] md:text-base text-muted-foreground leading-relaxed\">\n                    • Craft a resume tailored for <strong className=\"text-foreground\">high-growth roles</strong>, not generic applications.\n                  </p>\n                  <p className=\"text-[15px] md:text-base text-muted-foreground leading-relaxed\">\n                    • Build a portfolio that proves you can solve <strong className=\"text-foreground\">real business problems</strong>.\n                  </p>\n                  <p className=\"text-[15px] md:text-base text-muted-foreground leading-relaxed\">\n                    • Use <strong className=\"text-foreground\">insider hiring signals</strong> most candidates never see to stand out in shortlisting.\n                  </p>\n                </div>\n              </div>\n            </motion.div>\n          </div>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":6290,"size_tokens":null},"client/src/lib/analytics.ts":{"content":"function getUserId(): string {\n  let uid = localStorage.getItem(\"uid\");\n  if (!uid) {\n    uid = crypto.randomUUID();\n    localStorage.setItem(\"uid\", uid);\n  }\n  return uid;\n}\n\nexport async function trackEvent(eventName: string, data: Record<string, any> = {}) {\n  try {\n    const userId = getUserId();\n    \n    // Send to backend analytics endpoint\n    const response = await fetch('/api/analytics/track', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        userId,\n        eventName,\n        eventData: data\n      })\n    });\n\n    if (!response.ok) {\n      console.error(\"Analytics tracking error:\", response.statusText);\n      return;\n    }\n  } catch (error) {\n    console.error(\"Error tracking event:\", error);\n  }\n}\n\n// Get UTM parameters from URL\nexport function getUtmParams() {\n  return Object.fromEntries(new URLSearchParams(window.location.search));\n}\n\n// Get page path from current URL\nexport function getPagePath() {\n  return window.location.pathname;\n}\n\n// Get page name from URL path\nexport function getPageName() {\n  const path = getPagePath();\n  if (path === '/') return 'landing_page';\n  if (path === '/resources') return 'resources_page';\n  if (path === '/ai-pm-readiness') return 'assessment_landing_page';\n  if (path === '/ai-pm-readiness/start') return 'assessment_start_page';\n  if (path === '/ai-pm-readiness/questions') return 'assessment_questions_page';\n  if (path.includes('/ai-pm-readiness/results')) return 'assessment_results_page';\n  if (path.includes('/ai-pm-readiness/share')) return 'assessment_share_page';\n  return 'unknown_page';\n}\n\n// Get referrer (external URL from where user came from)\nexport function getReferrer() {\n  return document.referrer || null;\n}\n\n// Track initial landing (fires once per session on first page load)\nexport function trackInitialLanding() {\n  // Check if we've already tracked the initial landing in this session\n  const sessionId = sessionStorage.getItem(\"__bcalm_session_tracked\");\n  if (sessionId) return;\n  \n  // Mark this session as tracked\n  sessionStorage.setItem(\"__bcalm_session_tracked\", \"true\");\n  \n  const utmParams = getUtmParams();\n  const referrer = getReferrer();\n  \n  trackEvent(\"first_page_launch\", {\n    pageName: getPageName(),\n    pageUrl: window.location.href,\n    pagePath: getPagePath(),\n    utm: utmParams,\n    referrer: referrer\n  });\n}\n\n// Track page-specific view with navigation source\nexport function trackPageView(navigationSource?: string) {\n  const utmParams = getUtmParams();\n  const pageName = getPageName();\n  const pageSpecificEventName = pageName + \"_view\";\n  \n  trackEvent(pageSpecificEventName, {\n    pagePath: getPagePath(),\n    utm: utmParams,\n    navigationSource: navigationSource || null\n  });\n}\n","path":null,"size_bytes":2784,"size_tokens":null},"client/src/lib/supabase.ts":{"content":"import { createClient, SupabaseClient } from '@supabase/supabase-js';\n\nlet supabaseInstance: SupabaseClient | null = null;\nlet configPromise: Promise<{ url: string; anonKey: string }> | null = null;\nlet initError: Error | null = null;\n\nasync function fetchSupabaseConfig(): Promise<{ url: string; anonKey: string }> {\n  const response = await fetch('/api/config/supabase');\n  if (!response.ok) {\n    throw new Error('Failed to fetch Supabase config from server');\n  }\n  return response.json();\n}\n\nexport async function getSupabaseClient(): Promise<SupabaseClient> {\n  if (supabaseInstance) {\n    return supabaseInstance;\n  }\n  \n  if (initError) {\n    throw initError;\n  }\n  \n  if (!configPromise) {\n    configPromise = fetchSupabaseConfig();\n  }\n  \n  try {\n    const config = await configPromise;\n    supabaseInstance = createClient(config.url, config.anonKey, {\n      auth: {\n        autoRefreshToken: true,\n        persistSession: true,\n        detectSessionInUrl: true\n      }\n    });\n    return supabaseInstance;\n  } catch (error) {\n    initError = error as Error;\n    configPromise = null;\n    throw error;\n  }\n}\n\nexport function getSupabaseSync(): SupabaseClient | null {\n  return supabaseInstance;\n}\n\nexport async function initializeSupabase(): Promise<void> {\n  await getSupabaseClient();\n}\n\nexport async function signInWithGoogle() {\n  const client = await getSupabaseClient();\n  const { data, error } = await client.auth.signInWithOAuth({\n    provider: 'google',\n    options: {\n      redirectTo: `${window.location.origin}/auth/callback`\n    }\n  });\n  \n  if (error) {\n    console.error('Google sign in error:', error);\n    throw error;\n  }\n  \n  return data;\n}\n\nexport async function signInWithEmail(email: string, password: string) {\n  const client = await getSupabaseClient();\n  const { data, error } = await client.auth.signInWithPassword({\n    email,\n    password\n  });\n  \n  if (error) {\n    throw error;\n  }\n  \n  return data;\n}\n\nexport async function signUpWithEmail(email: string, password: string) {\n  const client = await getSupabaseClient();\n  const { data, error } = await client.auth.signUp({\n    email,\n    password,\n    options: {\n      emailRedirectTo: `${window.location.origin}/auth/callback`\n    }\n  });\n  \n  if (error) {\n    throw error;\n  }\n  \n  return data;\n}\n\nexport async function signOut() {\n  const client = await getSupabaseClient();\n  const { error } = await client.auth.signOut();\n  if (error) {\n    console.error('Sign out error:', error);\n    throw error;\n  }\n}\n\nexport async function resetPassword(email: string) {\n  const client = await getSupabaseClient();\n  const { data, error } = await client.auth.resetPasswordForEmail(email, {\n    redirectTo: `${window.location.origin}/auth/callback`\n  });\n  \n  if (error) {\n    console.error('Password reset error:', error);\n    throw error;\n  }\n  \n  return data;\n}\n\nexport async function getSession() {\n  try {\n    const client = await getSupabaseClient();\n    const { data: { session }, error } = await client.auth.getSession();\n    if (error) {\n      console.error('Get session error:', error);\n      return null;\n    }\n    return session;\n  } catch (error) {\n    console.error('Failed to get Supabase client:', error);\n    return null;\n  }\n}\n\nexport async function syncSessionWithBackend() {\n  const session = await getSession();\n  if (!session) return null;\n  \n  try {\n    const response = await fetch('/api/auth/session', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      credentials: 'include',\n      body: JSON.stringify({\n        access_token: session.access_token,\n        refresh_token: session.refresh_token\n      })\n    });\n    \n    if (!response.ok) {\n      throw new Error('Failed to sync session');\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('Session sync error:', error);\n    return null;\n  }\n}\n","path":null,"size_bytes":3868,"size_tokens":null},"postinstall.js":{"content":"#!/usr/bin/env node\n// This ensures build files are always in the right place for production\nconst fs = require('fs');\nconst path = require('path');\n\n// When running in production and dist/public exists, copy to server/public\nif (process.env.NODE_ENV === 'production' || process.argv.includes('--production')) {\n  const distPath = path.join(__dirname, 'dist', 'public');\n  const serverPath = path.join(__dirname, 'server', 'public');\n  \n  if (fs.existsSync(distPath)) {\n    if (!fs.existsSync(serverPath)) {\n      fs.mkdirSync(serverPath, { recursive: true });\n    }\n    // Copy files\n    const files = fs.readdirSync(distPath);\n    files.forEach(file => {\n      const src = path.join(distPath, file);\n      const dest = path.join(serverPath, file);\n      if (fs.statSync(src).isDirectory()) {\n        if (fs.existsSync(dest)) fs.rmSync(dest, { recursive: true });\n        fs.cpSync(src, dest, { recursive: true });\n      } else {\n        fs.copyFileSync(src, dest);\n      }\n    });\n  }\n}\n","path":null,"size_bytes":989,"size_tokens":null},"server/routes/analytics.ts":{"content":"import { Router } from \"express\";\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst router = Router();\n\n// Create Supabase client using runtime env vars\nconst supabaseUrl = process.env.VITE_SUPABASE_URL;\nconst supabaseAnonKey = process.env.VITE_SUPABASE_ANON_KEY;\n\nconst supabase = (supabaseUrl && supabaseAnonKey) \n  ? createClient(supabaseUrl, supabaseAnonKey)\n  : null;\n\nrouter.post(\"/track\", async (req, res) => {\n  try {\n    if (!supabase) {\n      return res.status(503).json({ error: \"Analytics service unavailable\" });\n    }\n\n    const { userId, eventName, eventData } = req.body;\n\n    if (!userId || !eventName) {\n      return res.status(400).json({ error: \"Missing required fields\" });\n    }\n\n    const { error } = await supabase.from(\"events\").insert([\n      {\n        user_id: userId,\n        event_name: eventName,\n        event_data: eventData || {}\n      }\n    ]);\n\n    if (error) {\n      console.error(\"❌ Supabase tracking error:\", error);\n      return res.status(500).json({ error: \"Failed to track event\" });\n    }\n\n    res.json({ success: true });\n  } catch (error) {\n    console.error(\"❌ Error in analytics endpoint:\", error);\n    res.status(500).json({ error: \"Internal server error\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":1255,"size_tokens":null},"build.sh":{"content":"#!/bin/bash\n# Production build wrapper - ensures files end up in the right place\nnpm run build\nmkdir -p server/public\ncp -r dist/public/* server/public/\necho \"✓ Build complete and files copied to server/public\"\n","path":null,"size_bytes":213,"size_tokens":null},"server/routes/hackathon.ts":{"content":"import { Router, Request, Response } from \"express\";\nimport { storage } from \"../storage\";\nimport { insertHackathonRegistrationSchema } from \"@shared/schema\";\nimport { sendOtpSms, isTwilioConfigured } from \"../services/twilio\";\n\nconst router = Router();\n\nfunction generateOTP(): string {\n  return Math.floor(100000 + Math.random() * 900000).toString();\n}\n\nrouter.post(\"/register\", async (req: Request, res: Response) => {\n  try {\n    const validationResult = insertHackathonRegistrationSchema.safeParse(req.body);\n    \n    if (!validationResult.success) {\n      return res.status(400).json({ \n        error: \"Validation failed\", \n        details: validationResult.error.errors \n      });\n    }\n\n    const { fullName, phone, email, companyOrCollege, utmSource, utmMedium, utmCampaign } = req.body;\n\n    const existingByPhone = await storage.getHackathonRegistrationByPhone(phone);\n    if (existingByPhone && existingByPhone.isVerified) {\n      return res.status(400).json({ error: \"This phone number is already registered\" });\n    }\n\n    const existingByEmail = await storage.getHackathonRegistrationByEmail(email);\n    if (existingByEmail && existingByEmail.isVerified) {\n      return res.status(400).json({ error: \"This email is already registered\" });\n    }\n\n    let registration;\n    \n    if (existingByPhone && !existingByPhone.isVerified) {\n      registration = existingByPhone;\n    } else if (existingByEmail && !existingByEmail.isVerified) {\n      registration = existingByEmail;\n    } else {\n      registration = await storage.createHackathonRegistration({\n        fullName,\n        phone,\n        email,\n        companyOrCollege,\n        utmSource,\n        utmMedium,\n        utmCampaign,\n      });\n    }\n\n    const otp = generateOTP();\n    const expiresAt = new Date(Date.now() + 10 * 60 * 1000);\n    \n    await storage.updateHackathonOtp(registration.id, otp, expiresAt);\n\n    if (isTwilioConfigured()) {\n      const smsSent = await sendOtpSms(phone, otp);\n      if (!smsSent) {\n        console.warn(\"SMS failed to send, OTP still stored in database\");\n      }\n    }\n\n    res.json({ \n      id: registration.id, \n      message: \"OTP sent successfully\"\n    });\n  } catch (error) {\n    console.error(\"Registration error:\", error);\n    res.status(500).json({ error: \"Registration failed\" });\n  }\n});\n\nrouter.post(\"/verify\", async (req: Request, res: Response) => {\n  try {\n    const { registrationId, otp } = req.body;\n\n    if (!registrationId || !otp) {\n      return res.status(400).json({ error: \"Registration ID and OTP are required\" });\n    }\n\n    const registration = await storage.getHackathonRegistrationById(registrationId);\n\n    if (!registration) {\n      return res.status(404).json({ error: \"Registration not found\" });\n    }\n\n    if (!registration.otpCode || !registration.otpExpiresAt) {\n      return res.status(400).json({ error: \"No OTP found. Please request a new one.\" });\n    }\n\n    if (new Date() > registration.otpExpiresAt) {\n      return res.status(400).json({ error: \"OTP has expired. Please request a new one.\" });\n    }\n\n    if (registration.otpCode !== otp) {\n      return res.status(400).json({ error: \"Invalid OTP\" });\n    }\n\n    await storage.verifyHackathonRegistration(registrationId);\n\n    res.json({ success: true, message: \"Registration verified successfully\" });\n  } catch (error) {\n    console.error(\"Verification error:\", error);\n    res.status(500).json({ error: \"Verification failed\" });\n  }\n});\n\nrouter.post(\"/resend-otp\", async (req: Request, res: Response) => {\n  try {\n    const { registrationId } = req.body;\n\n    if (!registrationId) {\n      return res.status(400).json({ error: \"Registration ID is required\" });\n    }\n\n    const registration = await storage.getHackathonRegistrationById(registrationId);\n\n    if (!registration) {\n      return res.status(404).json({ error: \"Registration not found\" });\n    }\n\n    const otp = generateOTP();\n    const expiresAt = new Date(Date.now() + 10 * 60 * 1000);\n    \n    await storage.updateHackathonOtp(registrationId, otp, expiresAt);\n\n    if (isTwilioConfigured()) {\n      const smsSent = await sendOtpSms(registration.phone, otp);\n      if (!smsSent) {\n        console.warn(\"SMS failed to send on resend, OTP still stored in database\");\n      }\n    }\n\n    res.json({ \n      success: true, \n      message: \"OTP resent successfully\"\n    });\n  } catch (error) {\n    console.error(\"Resend OTP error:\", error);\n    res.status(500).json({ error: \"Failed to resend OTP\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":4495,"size_tokens":null},"server/services/twilio.ts":{"content":"// Twilio SMS Service for Hackathon OTP\n// Uses environment variables for Twilio credentials\n\nimport twilio from 'twilio';\n\nfunction getCredentials() {\n  const accountSid = process.env.TWILIO_ACCOUNT_SID;\n  const apiKey = process.env.TWILIO_API_KEY;\n  const apiKeySecret = process.env.TWILIO_API_KEY_SECRET;\n  const phoneNumber = process.env.TWILIO_PHONE_NUMBER;\n\n  if (!accountSid || !apiKey || !apiKeySecret) {\n    throw new Error('Twilio credentials not configured. Please set TWILIO_ACCOUNT_SID, TWILIO_API_KEY, and TWILIO_API_KEY_SECRET environment variables.');\n  }\n\n  return {\n    accountSid,\n    apiKey,\n    apiKeySecret,\n    phoneNumber\n  };\n}\n\nexport function getTwilioClient() {\n  const { accountSid, apiKey, apiKeySecret } = getCredentials();\n  return twilio(apiKey, apiKeySecret, { accountSid });\n}\n\nexport function getTwilioFromPhoneNumber() {\n  const { phoneNumber } = getCredentials();\n  return phoneNumber;\n}\n\nexport async function sendOtpSms(toPhoneNumber: string, otp: string): Promise<boolean> {\n  try {\n    const credentials = getCredentials();\n    \n    if (!credentials.accountSid?.startsWith('AC')) {\n      console.warn('Twilio Account SID must start with \"AC\". Current value appears incorrect.');\n      return false;\n    }\n    \n    if (!credentials.apiKey?.startsWith('SK')) {\n      console.warn('Twilio API Key must start with \"SK\". Current value appears incorrect.');\n      return false;\n    }\n    \n    const client = getTwilioClient();\n    const fromNumber = getTwilioFromPhoneNumber();\n    \n    if (!fromNumber) {\n      console.error('No Twilio phone number configured');\n      return false;\n    }\n    \n    const formattedPhone = toPhoneNumber.startsWith('+91') \n      ? toPhoneNumber \n      : `+91${toPhoneNumber}`;\n    \n    await client.messages.create({\n      body: `Your Bcalm Hackathon verification code is: ${otp}. Valid for 10 minutes.`,\n      from: fromNumber,\n      to: formattedPhone\n    });\n    \n    console.log(`SMS sent successfully to ${formattedPhone}`);\n    return true;\n  } catch (error) {\n    console.error('Failed to send SMS:', error);\n    return false;\n  }\n}\n\nexport function isTwilioConfigured(): boolean {\n  try {\n    getCredentials();\n    return true;\n  } catch {\n    return false;\n  }\n}\n","path":null,"size_bytes":2240,"size_tokens":null},"client/src/pages/HackathonPage.tsx":{"content":"import { useState, useEffect, useMemo } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { motion } from \"framer-motion\";\nimport { Lightbulb, Trophy, Rocket, CheckCircle, Send, Clock, Users, Briefcase, ArrowRight, MessageCircle, Linkedin, Twitter, Instagram, Mail, ChevronDown } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { InputOTP, InputOTPGroup, InputOTPSlot } from \"@/components/ui/input-otp\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Link } from \"wouter\";\nimport bcalmLogo from \"@assets/Bcalm-logo-Nobackground_1764679699958.png\";\n\nconst registrationSchema = z.object({\n  fullName: z.string().min(3, \"Name must be at least 3 characters\"),\n  phone: z.string().regex(/^[6-9]\\d{9}$/, \"Please enter a valid 10-digit Indian phone number\"),\n  email: z.string().email(\"Invalid email\").refine((e) => e.endsWith(\"@gmail.com\"), \"Please use a Gmail address\"),\n  companyOrCollege: z.string().min(2, \"Company/College name is required\"),\n  agreeToUpdates: z.boolean().default(true),\n});\n\ntype RegistrationFormData = z.infer<typeof registrationSchema>;\n\nconst features = [\n  {\n    icon: Lightbulb,\n    title: \"Solve Real Product Challenges\",\n    description: \"Apply AI and strategic thinking to real-world problems. No generic assignments—real scenarios from actual product teams.\",\n  },\n  {\n    icon: Trophy,\n    title: \"Winners Get Direct Referrals\",\n    description: \"Top performers get job referrals to companies actively hiring Product Managers, with interviews conducted by hiring managers who've hired 200+ PMs.\",\n  },\n  {\n    icon: Rocket,\n    title: \"Free Premium Course Access\",\n    description: \"Win and unlock lifetime access to Bcalm's premium AI Product Manager course (normally paid). Learn from someone who's been on both sides of the hiring table.\",\n  },\n];\n\nconst steps = [\n  { step: 1, title: \"Register\", description: \"Join via OTP verification (instant)\" },\n  { step: 2, title: \"Receive Challenge\", description: \"Saturday morning, you get the real product challenge\" },\n  { step: 3, title: \"Build & Solve\", description: \"4 hours to think, analyze, and present your solution\" },\n  { step: 4, title: \"Win & Connect\", description: \"Top 3 get direct referrals + free course access\" },\n];\n\nconst reasons = [\n  {\n    title: \"Direct Access to Hiring Managers\",\n    description: \"Not recruiters. Actual people making PM hiring decisions. They see your strategic thinking in real-time.\",\n  },\n  {\n    title: \"Prove PM Skills Without Experience\",\n    description: \"You don't need years in the role. Show product thinking, data analysis, and AI fluency. That's what matters.\",\n  },\n  {\n    title: \"Two Prizes That Actually Matter\",\n    description: \"A job referral is worth 10x more than a certificate. Free course access teaches you what hiring managers actually look for.\",\n  },\n];\n\nconst testimonials = [\n  {\n    background: \"Final Year Student, BITS Pilani\",\n    outcome: \"Got PM interview at Flipkart → Used Bcalm premium course to prep → Offer received\",\n  },\n  {\n    background: \"Data Analyst, 2 years exp, Tech Company\",\n    outcome: \"Placed Top 3 in hackathon → Job referral led to PM role at Amazon → Now taking Bcalm for deeper PM skills\",\n  },\n  {\n    background: \"Business Analyst, EdTech startup\",\n    outcome: \"Won hackathon → Direct referral to Myntra's PM team → Interview scheduled this month\",\n  },\n];\n\nconst faqs = [\n  {\n    question: \"Do I need PM experience to participate?\",\n    answer: \"No. We're looking for strategic thinking and creativity. You'll be surprised what data analysts and BAs can do.\",\n  },\n  {\n    question: \"How are winners judged?\",\n    answer: \"Framework clarity, AI application, business impact, and presentation. The person leading it has hired 200+ PMs—they know what matters.\",\n  },\n  {\n    question: \"What happens after I register?\",\n    answer: \"We'll send you the challenge details on Friday. Saturday 10 AM IST, the hackathon starts. 4 hours to submit your solution.\",\n  },\n  {\n    question: \"Is this online?\",\n    answer: \"Yes, completely online. Work from anywhere. Submission is a document (PDF/Google Doc) + 5-min video walkthrough.\",\n  },\n  {\n    question: \"How will I know if I won?\",\n    answer: \"Results announced within 48 hours. Winners contacted directly via email and phone.\",\n  },\n  {\n    question: \"Can I form a team?\",\n    answer: \"For now, individual submissions only.\",\n  },\n];\n\nfunction getNextSaturdayCountdown(): { days: number; hours: number; minutes: number; seconds: number } {\n  const now = new Date();\n  const dayOfWeek = now.getDay();\n  const daysUntilSaturday = (6 - dayOfWeek + 7) % 7 || 7;\n  \n  const nextSaturday = new Date(now);\n  nextSaturday.setDate(now.getDate() + daysUntilSaturday);\n  nextSaturday.setHours(10, 0, 0, 0);\n  \n  const diff = nextSaturday.getTime() - now.getTime();\n  \n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((diff % (1000 * 60)) / 1000);\n  \n  return { days, hours, minutes, seconds };\n}\n\nexport default function HackathonPage() {\n  const { toast } = useToast();\n  const [location] = useLocation();\n  const searchParams = useMemo(() => new URLSearchParams(window.location.search), [location]);\n  const [showOtpModal, setShowOtpModal] = useState(false);\n  const [registrationId, setRegistrationId] = useState<string | null>(null);\n  const [isVerified, setIsVerified] = useState(false);\n  const [otpValue, setOtpValue] = useState(\"\");\n  const [countdown, setCountdown] = useState(getNextSaturdayCountdown());\n  const [resendCooldown, setResendCooldown] = useState(0);\n\n  const form = useForm<RegistrationFormData>({\n    resolver: zodResolver(registrationSchema),\n    defaultValues: {\n      fullName: \"\",\n      phone: \"\",\n      email: \"\",\n      companyOrCollege: \"\",\n      agreeToUpdates: true,\n    },\n  });\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCountdown(getNextSaturdayCountdown());\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (resendCooldown > 0) {\n      const timer = setTimeout(() => setResendCooldown(resendCooldown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [resendCooldown]);\n\n  const registerMutation = useMutation({\n    mutationFn: async (data: RegistrationFormData) => {\n      const utmSource = searchParams.get(\"utm_source\") || undefined;\n      const utmMedium = searchParams.get(\"utm_medium\") || undefined;\n      const utmCampaign = searchParams.get(\"utm_campaign\") || undefined;\n      \n      const response = await apiRequest(\"POST\", \"/api/hackathon/register\", {\n        ...data,\n        utmSource,\n        utmMedium,\n        utmCampaign,\n      });\n      return response.json();\n    },\n    onSuccess: (data) => {\n      setRegistrationId(data.id);\n      setShowOtpModal(true);\n      setResendCooldown(30);\n      toast({\n        title: \"OTP Sent!\",\n        description: \"Check your phone for the verification code.\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Registration Failed\",\n        description: error.message || \"Something went wrong. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const verifyMutation = useMutation({\n    mutationFn: async (otp: string) => {\n      const response = await apiRequest(\"POST\", \"/api/hackathon/verify\", {\n        registrationId,\n        otp,\n      });\n      return response.json();\n    },\n    onSuccess: () => {\n      setIsVerified(true);\n      setShowOtpModal(false);\n      toast({\n        title: \"Registration Complete!\",\n        description: \"You're all set for the hackathon.\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Verification Failed\",\n        description: error.message || \"Invalid OTP. Please try again.\",\n        variant: \"destructive\",\n      });\n      setOtpValue(\"\");\n    },\n  });\n\n  const resendMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", \"/api/hackathon/resend-otp\", {\n        registrationId,\n      });\n      return response.json();\n    },\n    onSuccess: () => {\n      setResendCooldown(30);\n      toast({\n        title: \"OTP Resent\",\n        description: \"Check your phone for the new code.\",\n      });\n    },\n  });\n\n  const onSubmit = (data: RegistrationFormData) => {\n    registerMutation.mutate(data);\n  };\n\n  const handleVerifyOtp = () => {\n    if (otpValue.length === 6) {\n      verifyMutation.mutate(otpValue);\n    }\n  };\n\n  const scrollToRegistration = () => {\n    document.getElementById(\"registration\")?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const openWhatsApp = () => {\n    window.open(\"https://wa.me/919876543210?text=Hi, I have a question about the Bcalm Hackathon\", \"_blank\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Navigation */}\n      <nav className=\"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b\">\n        <div className=\"container mx-auto px-4 py-4 flex items-center justify-between\">\n          <Link href=\"/\">\n            <img src={bcalmLogo} alt=\"Bcalm\" className=\"h-10\" data-testid=\"img-logo\" />\n          </Link>\n          <div className=\"hidden md:flex items-center gap-6\">\n            <Link href=\"/\" className=\"text-muted-foreground hover:text-foreground transition-colors\" data-testid=\"link-home\">Home</Link>\n            <a href=\"#features\" className=\"text-muted-foreground hover:text-foreground transition-colors\" data-testid=\"link-hackathons\">Hackathons</a>\n            <a href=\"#why-join\" className=\"text-muted-foreground hover:text-foreground transition-colors\" data-testid=\"link-why-bcalm\">Why Bcalm?</a>\n            <a href=\"#faq\" className=\"text-muted-foreground hover:text-foreground transition-colors\" data-testid=\"link-contact\">Contact</a>\n          </div>\n          <Button onClick={scrollToRegistration} className=\"bg-violet-600 hover:bg-violet-700\" data-testid=\"button-register-nav\">\n            Register Now\n          </Button>\n        </div>\n      </nav>\n\n      {/* Hero Section */}\n      <section className=\"relative py-20 md:py-32 overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-violet-600/10 via-transparent to-pink-500/10\" />\n        <div className=\"container mx-auto px-4 relative z-10\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            className=\"text-center max-w-4xl mx-auto\"\n          >\n            <h1 className=\"text-4xl md:text-6xl font-bold text-foreground mb-6\" data-testid=\"text-hero-headline\">\n              Think Beyond Data and Analysis\n            </h1>\n            <p className=\"text-xl md:text-2xl text-violet-600 font-semibold mb-6\" data-testid=\"text-hero-subheadline\">\n              Turn Your 10x Ideas Into 10x Careers\n            </p>\n            <p className=\"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto\" data-testid=\"text-hero-body\">\n              You analyze data. You find patterns. But can you build products that matter? In this 4-hour hackathon, you'll solve real product challenges using AI—and we'll connect winners directly with hiring managers at top companies. This isn't about coding. It's about product thinking.\n            </p>\n            <Button \n              size=\"lg\" \n              onClick={scrollToRegistration}\n              className=\"bg-gradient-to-r from-violet-600 to-pink-500 hover:from-violet-700 hover:to-pink-600 text-white px-8 py-6 text-lg\"\n              data-testid=\"button-register-hero\"\n            >\n              Register for This Saturday's Hackathon\n              <ArrowRight className=\"ml-2 h-5 w-5\" />\n            </Button>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Features Section */}\n      <section id=\"features\" className=\"py-20 bg-muted/30\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl md:text-4xl font-bold text-center mb-4\" data-testid=\"text-features-headline\">\n            4 Hours. Real Problems. Real Opportunities.\n          </h2>\n          <p className=\"text-muted-foreground text-center mb-12 max-w-2xl mx-auto\">\n            What makes this hackathon different from the rest\n          </p>\n          <div className=\"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            {features.map((feature, index) => (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: index * 0.1 }}\n                viewport={{ once: true }}\n              >\n                <Card className=\"h-full hover-elevate\" data-testid={`card-feature-${index}`}>\n                  <CardContent className=\"p-6\">\n                    <div className=\"w-12 h-12 rounded-lg bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center mb-4\">\n                      <feature.icon className=\"h-6 w-6 text-violet-600\" />\n                    </div>\n                    <h3 className=\"text-xl font-semibold mb-2\">{feature.title}</h3>\n                    <p className=\"text-muted-foreground\">{feature.description}</p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* How It Works Section */}\n      <section className=\"py-20\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl md:text-4xl font-bold text-center mb-12\" data-testid=\"text-timeline-headline\">\n            Here's Your Path to Winning\n          </h2>\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"relative\">\n              <div className=\"absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-violet-200 dark:bg-violet-800 transform md:-translate-x-1/2\" />\n              {steps.map((step, index) => (\n                <motion.div\n                  key={index}\n                  initial={{ opacity: 0, x: index % 2 === 0 ? -20 : 20 }}\n                  whileInView={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.5, delay: index * 0.1 }}\n                  viewport={{ once: true }}\n                  className={`relative flex items-center gap-4 mb-8 ${index % 2 === 0 ? \"md:flex-row\" : \"md:flex-row-reverse\"}`}\n                  data-testid={`timeline-step-${index}`}\n                >\n                  <div className=\"flex-1 hidden md:block\" />\n                  <div className=\"absolute left-4 md:left-1/2 w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center font-bold text-sm transform md:-translate-x-1/2 z-10\">\n                    {step.step}\n                  </div>\n                  <div className=\"flex-1 ml-16 md:ml-0\">\n                    <Card className=\"p-4\">\n                      <h3 className=\"font-semibold text-lg\">{step.title}</h3>\n                      <p className=\"text-muted-foreground\">{step.description}</p>\n                    </Card>\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Why Join Section */}\n      <section id=\"why-join\" className=\"py-20 bg-muted/30\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl md:text-4xl font-bold text-center mb-12\" data-testid=\"text-why-headline\">\n            Why Should You Compete?\n          </h2>\n          <div className=\"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            {reasons.map((reason, index) => (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: index * 0.1 }}\n                viewport={{ once: true }}\n              >\n                <Card className=\"h-full border-l-4 border-l-violet-500\" data-testid={`card-reason-${index}`}>\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"text-xl font-semibold mb-3\">{reason.title}</h3>\n                    <p className=\"text-muted-foreground\">{reason.description}</p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Testimonials Section */}\n      <section className=\"py-20\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl md:text-4xl font-bold text-center mb-12\" data-testid=\"text-testimonials-headline\">\n            See What Winners Achieved\n          </h2>\n          <div className=\"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            {testimonials.map((testimonial, index) => (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: index * 0.1 }}\n                viewport={{ once: true }}\n              >\n                <Card className=\"h-full bg-gradient-to-br from-violet-50 to-pink-50 dark:from-violet-950/20 dark:to-pink-950/20\" data-testid={`card-testimonial-${index}`}>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <Briefcase className=\"h-4 w-4 text-violet-600\" />\n                      <span className=\"text-sm font-medium text-violet-600\">{testimonial.background}</span>\n                    </div>\n                    <p className=\"text-foreground font-medium\">{testimonial.outcome}</p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Registration Section */}\n      <section id=\"registration\" className=\"py-20 bg-gradient-to-br from-violet-600 to-pink-500\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"max-w-xl mx-auto\">\n            {!isVerified ? (\n              <Card className=\"p-8\">\n                <h2 className=\"text-2xl md:text-3xl font-bold text-center mb-2\" data-testid=\"text-registration-headline\">\n                  You're 2 Minutes Away From Competing\n                </h2>\n                <p className=\"text-muted-foreground text-center mb-8\">\n                  Register now. Next hackathon is this Saturday.\n                </p>\n                \n                <Form {...form}>\n                  <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"fullName\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Full Name</FormLabel>\n                          <FormControl>\n                            <Input placeholder=\"Your full name\" {...field} data-testid=\"input-fullname\" />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    \n                    <FormField\n                      control={form.control}\n                      name=\"phone\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Phone Number</FormLabel>\n                          <FormControl>\n                            <div className=\"flex gap-2\">\n                              <span className=\"flex items-center px-3 bg-muted rounded-md text-sm\">+91</span>\n                              <Input placeholder=\"10-digit phone number\" {...field} data-testid=\"input-phone\" />\n                            </div>\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    \n                    <FormField\n                      control={form.control}\n                      name=\"email\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Gmail Address</FormLabel>\n                          <FormControl>\n                            <Input type=\"email\" placeholder=\"your.email@gmail.com\" {...field} data-testid=\"input-email\" />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    \n                    <FormField\n                      control={form.control}\n                      name=\"companyOrCollege\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Company / College Name</FormLabel>\n                          <FormControl>\n                            <Input placeholder=\"Your company or college\" {...field} data-testid=\"input-company\" />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    \n                    <Button \n                      type=\"submit\" \n                      className=\"w-full bg-violet-600 hover:bg-violet-700\"\n                      disabled={registerMutation.isPending}\n                      data-testid=\"button-register-submit\"\n                    >\n                      {registerMutation.isPending ? \"Sending OTP...\" : \"Get OTP & Register\"}\n                      <Send className=\"ml-2 h-4 w-4\" />\n                    </Button>\n                  </form>\n                </Form>\n              </Card>\n            ) : (\n              <Card className=\"p-8 text-center\">\n                <motion.div\n                  initial={{ scale: 0 }}\n                  animate={{ scale: 1 }}\n                  transition={{ type: \"spring\", duration: 0.5 }}\n                >\n                  <CheckCircle className=\"h-16 w-16 text-green-500 mx-auto mb-4\" />\n                </motion.div>\n                <h2 className=\"text-2xl font-bold mb-2\" data-testid=\"text-success-title\">You're Registered!</h2>\n                <p className=\"text-muted-foreground mb-6\">\n                  Check your email for next steps. Challenge details will be sent this Friday.\n                </p>\n                \n                <div className=\"bg-muted rounded-lg p-6 mb-6\">\n                  <p className=\"text-sm text-muted-foreground mb-2\">Next hackathon starts in:</p>\n                  <div className=\"flex justify-center gap-4\" data-testid=\"countdown-timer\">\n                    <div className=\"text-center\">\n                      <div className=\"text-3xl font-bold text-violet-600\">{countdown.days}</div>\n                      <div className=\"text-xs text-muted-foreground\">Days</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-3xl font-bold text-violet-600\">{countdown.hours}</div>\n                      <div className=\"text-xs text-muted-foreground\">Hours</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-3xl font-bold text-violet-600\">{countdown.minutes}</div>\n                      <div className=\"text-xs text-muted-foreground\">Minutes</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-3xl font-bold text-violet-600\">{countdown.seconds}</div>\n                      <div className=\"text-xs text-muted-foreground\">Seconds</div>\n                    </div>\n                  </div>\n                </div>\n\n                <Button onClick={() => window.open(\"https://linkedin.com/share\", \"_blank\")} variant=\"outline\" data-testid=\"button-share-linkedin\">\n                  <Linkedin className=\"mr-2 h-4 w-4\" />\n                  Share on LinkedIn\n                </Button>\n              </Card>\n            )}\n          </div>\n        </div>\n      </section>\n\n      {/* FAQ Section */}\n      <section id=\"faq\" className=\"py-20\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl md:text-4xl font-bold text-center mb-12\" data-testid=\"text-faq-headline\">\n            Questions? We've Got Answers\n          </h2>\n          <div className=\"max-w-2xl mx-auto\">\n            <Accordion type=\"single\" collapsible className=\"w-full\">\n              {faqs.map((faq, index) => (\n                <AccordionItem key={index} value={`faq-${index}`} data-testid={`accordion-faq-${index}`}>\n                  <AccordionTrigger className=\"text-left\">{faq.question}</AccordionTrigger>\n                  <AccordionContent className=\"text-muted-foreground\">{faq.answer}</AccordionContent>\n                </AccordionItem>\n              ))}\n            </Accordion>\n          </div>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"py-12 bg-muted/50 border-t\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-6\">\n            <div className=\"flex items-center gap-6\">\n              <Link href=\"/\">\n                <img src={bcalmLogo} alt=\"Bcalm\" className=\"h-10\" />\n              </Link>\n              <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                <Link href=\"/privacy-policy\" className=\"hover:text-foreground transition-colors\" data-testid=\"link-privacy\">Privacy</Link>\n                <a href=\"#\" className=\"hover:text-foreground transition-colors\" data-testid=\"link-terms\">Terms</a>\n                <a href=\"mailto:support@bcalm.org\" className=\"hover:text-foreground transition-colors\" data-testid=\"link-contact-email\">Contact</a>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Button variant=\"ghost\" size=\"icon\" onClick={openWhatsApp} data-testid=\"button-whatsapp\">\n                <MessageCircle className=\"h-5 w-5\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" asChild data-testid=\"button-linkedin\">\n                <a href=\"https://linkedin.com/company/bcalm\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  <Linkedin className=\"h-5 w-5\" />\n                </a>\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" asChild data-testid=\"button-twitter\">\n                <a href=\"https://twitter.com/bcalm\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  <Twitter className=\"h-5 w-5\" />\n                </a>\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" asChild data-testid=\"button-instagram\">\n                <a href=\"https://instagram.com/bcalm\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  <Instagram className=\"h-5 w-5\" />\n                </a>\n              </Button>\n            </div>\n          </div>\n          <div className=\"text-center text-sm text-muted-foreground mt-8\">\n            © {new Date().getFullYear()} Bcalm. All rights reserved.\n          </div>\n        </div>\n      </footer>\n\n      {/* OTP Modal */}\n      <Dialog open={showOtpModal} onOpenChange={setShowOtpModal}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Verify Your Phone</DialogTitle>\n            <DialogDescription>\n              We've sent a 6-digit code to your phone. Enter it below to complete registration.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"flex flex-col items-center gap-6 py-4\">\n            <InputOTP\n              maxLength={6}\n              value={otpValue}\n              onChange={setOtpValue}\n              data-testid=\"input-otp\"\n            >\n              <InputOTPGroup>\n                <InputOTPSlot index={0} />\n                <InputOTPSlot index={1} />\n                <InputOTPSlot index={2} />\n                <InputOTPSlot index={3} />\n                <InputOTPSlot index={4} />\n                <InputOTPSlot index={5} />\n              </InputOTPGroup>\n            </InputOTP>\n            \n            <Button \n              onClick={handleVerifyOtp}\n              disabled={otpValue.length !== 6 || verifyMutation.isPending}\n              className=\"w-full\"\n              data-testid=\"button-verify-otp\"\n            >\n              {verifyMutation.isPending ? \"Verifying...\" : \"Verify & Complete Registration\"}\n            </Button>\n            \n            <Button\n              variant=\"ghost\"\n              onClick={() => resendMutation.mutate()}\n              disabled={resendCooldown > 0 || resendMutation.isPending}\n              className=\"text-sm\"\n              data-testid=\"button-resend-otp\"\n            >\n              {resendCooldown > 0 ? `Resend in ${resendCooldown}s` : \"Resend OTP\"}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","path":null,"size_bytes":29741,"size_tokens":null},"client/src/pages/PrivacyPolicy.tsx":{"content":"import { Link } from \"wouter\";\n\nexport default function PrivacyPolicy() {\n  return (\n    <div className=\"min-h-screen bg-background text-foreground\">\n      {/* Navigation Back Link */}\n      <div className=\"bg-secondary/50 border-b border-border\">\n        <div className=\"max-w-4xl mx-auto px-4 py-4\">\n          <Link to=\"/\" className=\"text-primary hover:text-primary/80 text-sm font-medium transition-colors\">\n            ← Back to Home\n          </Link>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-4xl mx-auto px-4 py-12\">\n        <h1 className=\"text-4xl font-bold mb-2\" data-testid=\"text-privacy-title\">Privacy Policy</h1>\n        <p className=\"text-muted-foreground text-sm mb-8\" data-testid=\"text-privacy-updated\">Last Updated: November 26, 2025</p>\n\n        {/* Section 1 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">1. Introduction</h2>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">\n            Bcalm (\"we,\" \"us,\" \"our,\" or \"Company\") operates the website bcalm.org (the \"Website\") and provides AI Product Management courses and educational services (the \"Services\"). This Privacy Policy explains how we collect, use, disclose, and otherwise handle your information when you use our Website and Services.\n          </p>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            We are committed to protecting your privacy and ensuring you have a positive experience. Please read this Privacy Policy carefully to understand our privacy practices.\n          </p>\n        </section>\n\n        {/* Section 2 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">2. Information We Collect</h2>\n          \n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">2.1 Information You Provide Directly</h3>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2 mb-4\">\n            <li><strong>Account Information:</strong> Name, email address, phone number, educational background, professional experience</li>\n            <li><strong>Course Registration:</strong> Course enrollment details, payment information, learning progress</li>\n            <li><strong>Communication:</strong> Messages sent via WhatsApp, email, contact forms, support tickets</li>\n            <li><strong>Profile Data:</strong> Educational qualifications, career goals, product management experience level</li>\n            <li><strong>Payment Information:</strong> Billing address, payment method details (processed securely)</li>\n            <li><strong>Feedback:</strong> Course reviews, testimonials, survey responses</li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">2.2 Information Collected Automatically</h3>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2 mb-4\">\n            <li><strong>Device Information:</strong> Device type, operating system, browser type, IP address</li>\n            <li><strong>Usage Data:</strong> Pages visited, time spent, clicks, downloads, course modules accessed</li>\n            <li><strong>Cookies:</strong> Session cookies, preference cookies, analytics cookies</li>\n            <li><strong>Location Data:</strong> Approximate location based on IP address</li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">2.3 Information from Third Parties</h3>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2\">\n            <li><strong>Payment Processors:</strong> Transaction confirmations and billing status</li>\n            <li><strong>Google Sheets Integration:</strong> Your course data synced with your approved Google Sheets</li>\n            <li><strong>Social Media:</strong> Profile information if you link your social media account</li>\n            <li><strong>WhatsApp Integration:</strong> Your WhatsApp messages and metadata for customer support</li>\n          </ul>\n        </section>\n\n        {/* Section 3 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">3. How We Use Your Information</h2>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">We use collected information for:</p>\n          <ol className=\"list-decimal list-inside text-muted-foreground space-y-2\">\n            <li>Course Delivery: Providing access to course content, assignments, and educational materials</li>\n            <li>Communication: Sending course updates, notifications, administrative messages</li>\n            <li>Account Management: Creating and managing your account, verifying your identity</li>\n            <li>Payment Processing: Processing tuition payments and issuing invoices</li>\n            <li>Learning Analytics: Tracking course progress, understanding learning patterns</li>\n            <li>Customer Support: Responding to your queries, providing technical assistance</li>\n            <li>Marketing: Sending promotional emails, course announcements (with your consent)</li>\n            <li>Content Improvement: Analyzing feedback, conducting surveys, improving Services</li>\n            <li>Legal Compliance: Complying with applicable laws and regulations</li>\n            <li>Fraud Prevention: Detecting and preventing fraudulent activities</li>\n          </ol>\n        </section>\n\n        {/* Section 4 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">4. Legal Basis for Processing</h2>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">We process your information based on:</p>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2\">\n            <li><strong>Contract Performance:</strong> Processing necessary to provide Services you've subscribed to</li>\n            <li><strong>Legitimate Interests:</strong> Improving Services, preventing fraud, security, analytics</li>\n            <li><strong>Consent:</strong> Marketing communications, cookies, data integrations</li>\n            <li><strong>Legal Obligation:</strong> Compliance with applicable laws and regulations</li>\n            <li><strong>Vital Interests:</strong> Protecting health, safety, and rights of individuals</li>\n          </ul>\n        </section>\n\n        {/* Section 5 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">5. Data Sharing and Disclosure</h2>\n          \n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">5.1 We Do NOT Sell Your Data</h3>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">\n            We do not sell, trade, or rent your personal information to third parties for marketing purposes.\n          </p>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">5.2 Information We Share</h3>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">We may share your information with:</p>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2\">\n            <li><strong>Service Providers:</strong> Payment processors, email platforms, WhatsApp, Google Sheets</li>\n            <li><strong>Legal Requirements:</strong> When required by law, court orders, or government requests</li>\n            <li><strong>Protection of Rights:</strong> To enforce our Terms of Service, protect rights and property</li>\n            <li><strong>Business Transfers:</strong> In case of merger, acquisition, or sale of assets</li>\n            <li><strong>Aggregated Data:</strong> De-identified, aggregated data for analytics and research</li>\n          </ul>\n        </section>\n\n        {/* Section 6 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">6. Data Retention</h2>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2\">\n            <li><strong>Active Course Data:</strong> Retained while enrolled and for 1 year after completion</li>\n            <li><strong>Account Information:</strong> Retained while your account is active</li>\n            <li><strong>Payment Records:</strong> Retained for 7 years (for tax and legal compliance)</li>\n            <li><strong>Communications:</strong> Retained for 1 year unless legal requirements require longer</li>\n            <li><strong>Deleted Data:</strong> Securely deleted; backup copies may exist for 30 days</li>\n          </ul>\n          <p className=\"text-muted-foreground leading-relaxed mt-4\">\n            You can request data deletion at any time (subject to legal retention obligations).\n          </p>\n        </section>\n\n        {/* Section 7 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">7. Your Privacy Rights</h2>\n          \n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">7.1 India - DPDP Act Rights</h3>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">\n            If you're a resident of India, you have rights under the Digital Personal Data Protection Act, 2023:\n          </p>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2 mb-4\">\n            <li><strong>Right to Access:</strong> Request a copy of your personal data</li>\n            <li><strong>Right to Correction:</strong> Request correction of inaccurate data</li>\n            <li><strong>Right to Erasure:</strong> Request deletion of your data (subject to exceptions)</li>\n            <li><strong>Right to Data Portability:</strong> Request your data in a structured format</li>\n            <li><strong>Right to Withdraw Consent:</strong> Withdraw consent for data processing</li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">7.2 EU/EEA - GDPR Rights</h3>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">\n            If you're a resident of the EU/EEA, you have rights under GDPR:\n          </p>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2 mb-4\">\n            <li>Right of Access to personal data</li>\n            <li>Right to Rectification of inaccurate data</li>\n            <li>Right to Erasure (\"Right to be forgotten\")</li>\n            <li>Right to Restrict Processing</li>\n            <li>Right to Data Portability</li>\n            <li>Right to Object to processing</li>\n            <li>Right not to be Subject to Automated Decision-making</li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">7.3 US/California - CCPA Rights</h3>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">\n            If you're a California resident, you have CCPA rights:\n          </p>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2 mb-4\">\n            <li><strong>Right to Know:</strong> What personal information is collected and used</li>\n            <li><strong>Right to Delete:</strong> Request deletion of your personal data</li>\n            <li><strong>Right to Opt-Out:</strong> Opt out of data sales (we don't sell data)</li>\n            <li><strong>Right to Non-Discrimination:</strong> Non-discriminatory treatment for exercising CCPA rights</li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">7.4 Exercising Your Rights</h3>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            To exercise any of these rights, email us at <strong>privacy@bcalm.org</strong> with your name, email, and clear description of your request. We'll respond within 15-30 days.\n          </p>\n        </section>\n\n        {/* Section 8 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">8. Cookies and Tracking Technologies</h2>\n          \n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">8.1 Types of Cookies We Use</h3>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2 mb-4\">\n            <li><strong>Essential Cookies:</strong> Required for website functionality, login, security</li>\n            <li><strong>Analytics Cookies:</strong> Track website usage patterns (Google Analytics)</li>\n            <li><strong>Preference Cookies:</strong> Remember your settings and preferences</li>\n            <li><strong>Marketing Cookies:</strong> Used for personalized content and ads</li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">8.2 Cookie Management</h3>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2\">\n            <li>Disable cookies via browser settings (may affect functionality)</li>\n            <li>We use Google Analytics for usage insights (anonymized)</li>\n            <li>Opt out of Google Analytics via Google's opt-out extension</li>\n          </ul>\n        </section>\n\n        {/* Section 9 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">9. Security</h2>\n          \n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">9.1 Security Measures</h3>\n          <ul className=\"list-disc list-inside text-muted-foreground space-y-2 mb-4\">\n            <li><strong>Encryption:</strong> HTTPS/TLS encryption for data in transit</li>\n            <li><strong>Access Controls:</strong> Role-based access to data, password protection</li>\n            <li><strong>Data Segregation:</strong> Separate storage for sensitive information</li>\n            <li><strong>Regular Audits:</strong> Security reviews and vulnerability assessments</li>\n            <li><strong>Staff Training:</strong> Privacy and security awareness for employees</li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">9.2 Data Breaches</h3>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            In case of unauthorized access or data breach, we will notify affected individuals within legally required timeframes and provide guidance on protective measures.\n          </p>\n        </section>\n\n        {/* Section 10 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">10. International Data Transfers</h2>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            If you're outside India, your data may be transferred to and processed in India, where Bcalm is based. By using our Services, you consent to such transfers. We ensure appropriate safeguards through Standard Contractual Clauses and privacy agreements.\n          </p>\n        </section>\n\n        {/* Section 11 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">11. Children's Privacy</h2>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            Bcalm Services are not intended for children under 18. We do not knowingly collect information from children. If we become aware of data collection from a minor, we will delete it and notify parents/guardians.\n          </p>\n        </section>\n\n        {/* Section 12 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">12. Marketing and Communications</h2>\n          \n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">12.1 Email Marketing</h3>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">\n            We send course updates, announcements, and promotional content. You can unsubscribe via the link in emails, manage preferences in your account, or email us to opt out.\n          </p>\n\n          <h3 className=\"text-lg font-semibold mb-3 mt-6\">12.2 WhatsApp Communications</h3>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            We use WhatsApp for course notifications and support. You can opt out by messaging \"STOP\" or contacting us to stop messaging.\n          </p>\n        </section>\n\n        {/* Section 13 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">13. Third-Party Links</h2>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            Our Website may contain links to third-party websites. We are not responsible for their privacy practices. Please review their privacy policies.\n          </p>\n        </section>\n\n        {/* Section 14 */}\n        <section className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold mb-4\">14. Contact Us</h2>\n          <p className=\"text-muted-foreground leading-relaxed mb-4\">\n            For privacy questions, concerns, or to exercise your rights, contact us:\n          </p>\n          <div className=\"bg-secondary/50 p-4 rounded-md border border-border\">\n            <p className=\"text-foreground\"><strong>Email:</strong> privacy@bcalm.org</p>\n          </div>\n        </section>\n\n        {/* Footer */}\n        <section className=\"mt-12 pt-8 border-t border-border\">\n          <p className=\"text-muted-foreground text-sm\">\n            This Privacy Policy is effective as of November 26, 2025.\n          </p>\n        </section>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":16900,"size_tokens":null},"client/src/components/AuthModal.tsx":{"content":"import { Dialog, DialogContent, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport AuthCard from \"@/components/AuthCard\";\n\ninterface AuthModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport default function AuthModal({ open, onOpenChange }: AuthModalProps) {\n  const handleSuccess = () => {\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent \n        className=\"p-0 border-0 bg-transparent max-w-[420px] shadow-none\"\n        style={{ background: \"transparent\" }}\n      >\n        <VisuallyHidden>\n          <DialogTitle>Sign in to BCALM</DialogTitle>\n          <DialogDescription>Sign in or create an account to continue</DialogDescription>\n        </VisuallyHidden>\n        <AuthCard onSuccess={handleSuccess} />\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":936,"size_tokens":null},"client/src/pages/ComingSoonPage.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { ArrowLeft, Rocket } from \"lucide-react\";\nimport { Link, useRoute } from \"wouter\";\nimport { motion } from \"framer-motion\";\n\nexport default function ComingSoonPage() {\n  const [, params] = useRoute(\"/coming-soon/:feature\");\n  const feature = params?.feature || \"feature\";\n\n  const featureLabels: Record<string, { title: string; description: string }> = {\n    \"upload-resume\": {\n      title: \"CV Scoring\",\n      description: \"Upload your CV and check where you stand against any job description. Get instant feedback and actionable insights.\"\n    },\n    \"practice-interviews\": {\n      title: \"Practice Interviews\",\n      description: \"Do multiple mock interviews with AI and get detailed feedback to ace your next interview.\"\n    }\n  };\n\n  const currentFeature = featureLabels[feature] || { \n    title: \"This Feature\", \n    description: \"An exciting new feature is in development.\" \n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-violet-950 to-slate-900 flex items-center justify-center px-4\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"text-center max-w-lg\"\n      >\n        <motion.div\n          initial={{ scale: 0.8 }}\n          animate={{ scale: 1 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n          className=\"mb-8\"\n        >\n          <div className=\"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-r from-primary/20 to-violet-500/20 mb-6\">\n            <Rocket className=\"w-10 h-10 text-primary\" />\n          </div>\n        </motion.div>\n\n        <h1 className=\"text-4xl md:text-5xl font-bold text-white mb-4\">\n          Coming Soon\n        </h1>\n        \n        <h2 className=\"text-xl md:text-2xl font-semibold bg-gradient-to-r from-primary to-violet-400 bg-clip-text text-transparent mb-4\">\n          {currentFeature.title}\n        </h2>\n\n        <p className=\"text-lg text-white/70 mb-8 leading-relaxed\">\n          {currentFeature.description}\n        </p>\n\n        <p className=\"text-sm text-white/50 mb-8\">\n          We're working hard to bring this to you. Stay tuned!\n        </p>\n\n        <Link href=\"/\">\n          <Button \n            variant=\"outline\"\n            className=\"bg-white/10 backdrop-blur-sm border-white/20 text-white hover:bg-white/20 hover:text-white hover:border-white/30 px-8 py-6 text-base\"\n            data-testid=\"button-back-home\"\n          >\n            <ArrowLeft className=\"mr-2 h-5 w-5\" />\n            Back to Homepage\n          </Button>\n        </Link>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":2686,"size_tokens":null},"client/src/components/StickyMobileCTA.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronRight } from \"lucide-react\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\nexport default function StickyMobileCTA() {\n  const [, navigate] = useLocation();\n  const { isAuthenticated } = useAuth();\n\n  const handleCheckMyCv = () => {\n    if (isAuthenticated) {\n      navigate(\"/upload\");\n    } else {\n      navigate(\"/start\");\n    }\n  };\n\n  return (\n    <div \n      className=\"fixed bottom-0 left-0 right-0 z-50 lg:hidden\"\n      style={{\n        background: 'linear-gradient(180deg, rgba(17, 0, 34, 0.95) 0%, rgba(10, 0, 20, 0.98) 100%)',\n        backdropFilter: 'blur(10px)',\n        borderTop: '1px solid rgba(255, 255, 255, 0.1)',\n        padding: '12px 16px',\n        paddingBottom: 'max(12px, env(safe-area-inset-bottom))',\n      }}\n      data-testid=\"sticky-mobile-cta\"\n    >\n      <div className=\"flex items-center justify-between gap-3\">\n        <div className=\"flex-1\">\n          <p className=\"text-white/90 text-sm font-medium\">\n            Get your free CV score\n          </p>\n          <p className=\"text-white/60 text-xs\">\n            AI-powered analysis in 2 mins\n          </p>\n        </div>\n        <Button\n          onClick={handleCheckMyCv}\n          className=\"font-semibold shrink-0\"\n          style={{\n            background: 'linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)',\n            boxShadow: '0 4px 16px rgba(139, 92, 246, 0.4)',\n          }}\n          data-testid=\"button-check-cv-mobile\"\n        >\n          Check my CV\n          <ChevronRight className=\"ml-1 w-4 h-4\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":1669,"size_tokens":null},"server/routes/cv-submissions.ts":{"content":"import { Router, Request, Response } from \"express\";\nimport { storage } from \"../storage\";\nimport { insertCvSubmissionSchema } from \"@shared/schema\";\nimport { upload } from \"../middleware/upload\";\nimport path from \"path\";\nimport fs from \"fs\";\n\nconst router = Router();\n\nconst cvUploadDir = path.join(process.cwd(), \"uploads/cv-submissions\");\nif (!fs.existsSync(cvUploadDir)) {\n  fs.mkdirSync(cvUploadDir, { recursive: true });\n}\n\nrouter.post(\"/submit\", upload.single(\"cv\"), async (req: Request, res: Response) => {\n  try {\n    const { email, targetRole, utmSource, utmMedium, utmCampaign } = req.body;\n\n    let cvFilePath: string | null = null;\n    let cvFileName: string | null = null;\n    let cvFileSize: number | null = null;\n    let cvMimeType: string | null = null;\n\n    if (req.file) {\n      const newPath = path.join(cvUploadDir, req.file.filename);\n      fs.renameSync(req.file.path, newPath);\n      \n      cvFilePath = `uploads/cv-submissions/${req.file.filename}`;\n      cvFileName = req.file.originalname;\n      cvFileSize = req.file.size;\n      cvMimeType = req.file.mimetype;\n    }\n\n    const submissionData = {\n      email,\n      targetRole,\n      cvFilePath,\n      cvFileName,\n      cvFileSize,\n      cvMimeType,\n      utmSource: utmSource || null,\n      utmMedium: utmMedium || null,\n      utmCampaign: utmCampaign || null,\n    };\n\n    const validatedData = insertCvSubmissionSchema.parse(submissionData);\n    const submission = await storage.createCvSubmission(validatedData);\n\n    res.status(201).json({\n      success: true,\n      message: \"CV submitted successfully\",\n      submissionId: submission.id,\n    });\n  } catch (error) {\n    console.error(\"CV submission error:\", error);\n    if (req.file && req.file.path && fs.existsSync(req.file.path)) {\n      fs.unlinkSync(req.file.path);\n    }\n    if (error instanceof Error && error.name === \"ZodError\") {\n      return res.status(400).json({ error: \"Validation error\", details: error });\n    }\n    res.status(500).json({ error: \"Failed to submit CV\" });\n  }\n});\n\nrouter.get(\"/stats\", async (req: Request, res: Response) => {\n  try {\n    const stats = await storage.getCvSubmissionStats();\n    res.json(stats);\n  } catch (error) {\n    console.error(\"Error fetching CV stats:\", error);\n    res.status(500).json({ error: \"Failed to fetch stats\" });\n  }\n});\n\nrouter.get(\"/all\", async (req: Request, res: Response) => {\n  try {\n    const submissions = await storage.getAllCvSubmissions();\n    res.json(submissions);\n  } catch (error) {\n    console.error(\"Error fetching CV submissions:\", error);\n    res.status(500).json({ error: \"Failed to fetch submissions\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":2659,"size_tokens":null},"client/src/pages/DashboardPage.tsx":{"content":"import { useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { GraduationCap, Loader2, Upload, FileText, Clock, CheckCircle, TrendingUp, User, LogOut } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { format } from \"date-fns\";\n\ninterface AnalysisJob {\n  id: string;\n  status: string;\n  score: number | null;\n  createdAt: string;\n  completedAt: string | null;\n}\n\ninterface OnboardingStatus {\n  onboardingStatus: string;\n  currentStatus: string | null;\n  targetRole: string | null;\n  yearsExperience: number | null;\n  personalizationQuality: string | null;\n}\n\nexport default function DashboardPage() {\n  const [, navigate] = useLocation();\n  const { user, isLoading: authLoading, isAuthenticated, logout } = useAuth();\n\n  useEffect(() => {\n    if (!authLoading && !isAuthenticated) {\n      navigate(\"/\");\n    }\n  }, [authLoading, isAuthenticated, navigate]);\n\n  const { data: onboardingData, isLoading: onboardingLoading } = useQuery<OnboardingStatus>({\n    queryKey: [\"/api/onboarding/status\"],\n    enabled: isAuthenticated,\n  });\n\n  const { data: jobs, isLoading: jobsLoading } = useQuery<AnalysisJob[]>({\n    queryKey: [\"/api/analysis/user/jobs\"],\n    enabled: isAuthenticated,\n  });\n\n  useEffect(() => {\n    if (!onboardingLoading && onboardingData?.onboardingStatus !== \"complete\") {\n      navigate(\"/onboarding\");\n    }\n  }, [onboardingLoading, onboardingData, navigate]);\n\n  const handleLogout = async () => {\n    await logout();\n    navigate(\"/\");\n  };\n\n  if (authLoading || onboardingLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#110022] to-[#1a0033]\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  const latestScore = jobs?.find((j) => j.status === \"complete\")?.score;\n  const totalAnalyses = jobs?.length || 0;\n  const completedAnalyses = jobs?.filter((j) => j.status === \"complete\").length || 0;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#110022] to-[#1a0033] px-4 py-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 rounded-lg bg-primary flex items-center justify-center\">\n              <GraduationCap className=\"h-5 w-5 text-white\" />\n            </div>\n            <span className=\"text-white font-bold text-xl\">BCALM</span>\n          </div>\n          \n          <div className=\"flex items-center gap-3\">\n            <div className=\"hidden sm:flex items-center gap-2 text-white/70\">\n              <User className=\"h-4 w-4\" />\n              <span className=\"text-sm\">{user?.firstName || user?.email?.split(\"@\")[0]}</span>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleLogout}\n              className=\"text-white/60 hover:text-white hover:bg-white/10\"\n              data-testid=\"button-logout\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"mb-8\"\n        >\n          <h1 className=\"text-3xl font-bold text-white mb-2\">\n            Welcome back{user?.firstName ? `, ${user.firstName}` : \"\"}!\n          </h1>\n          <p className=\"text-white/60\">Track your CV improvement journey</p>\n        </motion.div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.1 }}\n          >\n            <Card className=\"bg-white/5 border-white/10\">\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center\">\n                    <TrendingUp className=\"h-6 w-6 text-primary\" />\n                  </div>\n                  <div>\n                    <p className=\"text-white/60 text-sm\">Latest Score</p>\n                    <p className=\"text-2xl font-bold text-white\" data-testid=\"text-latest-score\">\n                      {latestScore !== undefined && latestScore !== null ? `${latestScore}/100` : \"—\"}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n          >\n            <Card className=\"bg-white/5 border-white/10\">\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 rounded-lg bg-green-500/20 flex items-center justify-center\">\n                    <CheckCircle className=\"h-6 w-6 text-green-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-white/60 text-sm\">Analyses Completed</p>\n                    <p className=\"text-2xl font-bold text-white\" data-testid=\"text-completed-count\">\n                      {completedAnalyses}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.3 }}\n          >\n            <Card className=\"bg-white/5 border-white/10\">\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center\">\n                    <FileText className=\"h-6 w-6 text-blue-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-white/60 text-sm\">Target Role</p>\n                    <p className=\"text-lg font-semibold text-white truncate max-w-[150px]\" data-testid=\"text-target-role\">\n                      {onboardingData?.targetRole || \"Not set\"}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.4 }}\n        >\n          <Card className=\"bg-white/5 border-white/10 mb-8\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between flex-wrap gap-3\">\n                <div>\n                  <CardTitle className=\"text-white\">CV Analyses</CardTitle>\n                  <CardDescription className=\"text-white/60\">\n                    Your recent CV analysis history\n                  </CardDescription>\n                </div>\n                <Button onClick={() => navigate(\"/upload\")} data-testid=\"button-new-upload\">\n                  <Upload className=\"h-4 w-4 mr-2\" />\n                  New Analysis\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {jobsLoading ? (\n                <div className=\"flex justify-center py-8\">\n                  <Loader2 className=\"h-6 w-6 animate-spin text-primary\" />\n                </div>\n              ) : jobs && jobs.length > 0 ? (\n                <div className=\"space-y-3\">\n                  {jobs.map((job, index) => (\n                    <motion.div\n                      key={job.id}\n                      initial={{ opacity: 0, x: -20 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ delay: index * 0.1 }}\n                      className=\"flex items-center justify-between p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-colors cursor-pointer\"\n                      onClick={() => {\n                        if (job.status === \"complete\") {\n                          navigate(`/results/${job.id}`);\n                        } else {\n                          navigate(`/processing?jobId=${job.id}`);\n                        }\n                      }}\n                      data-testid={`card-job-${job.id}`}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center\">\n                          <FileText className=\"h-5 w-5 text-primary\" />\n                        </div>\n                        <div>\n                          <p className=\"text-white font-medium\">\n                            CV Analysis\n                          </p>\n                          <div className=\"flex items-center gap-2 text-white/60 text-sm\">\n                            <Clock className=\"h-3 w-3\" />\n                            {format(new Date(job.createdAt), \"MMM d, yyyy 'at' h:mm a\")}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-3\">\n                        {job.status === \"complete\" && job.score !== null && (\n                          <span className=\"text-lg font-bold text-white\" data-testid={`text-job-score-${job.id}`}>\n                            {job.score}/100\n                          </span>\n                        )}\n                        <Badge\n                          variant={job.status === \"complete\" ? \"default\" : \"secondary\"}\n                          className={job.status === \"complete\" ? \"bg-green-500/20 text-green-400\" : \"\"}\n                        >\n                          {job.status === \"complete\" ? \"Complete\" : job.status === \"failed\" ? \"Failed\" : \"Processing\"}\n                        </Badge>\n                      </div>\n                    </motion.div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <div className=\"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-4\">\n                    <FileText className=\"h-8 w-8 text-white/40\" />\n                  </div>\n                  <p className=\"text-white/60 mb-4\">No analyses yet</p>\n                  <Button onClick={() => navigate(\"/upload\")} data-testid=\"button-first-upload\">\n                    <Upload className=\"h-4 w-4 mr-2\" />\n                    Upload your first CV\n                  </Button>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":11035,"size_tokens":null},"server/routes/onboarding.ts":{"content":"import { Router, Request, Response } from \"express\";\nimport { isAuthenticated } from \"../supabaseAuth\";\nimport { supabaseAdmin } from \"../supabaseClient\";\nimport { z } from \"zod\";\n\nconst router = Router();\n\nconst onboardingSchema = z.object({\n  currentStatus: z.enum([\"student_fresher\", \"working_professional\", \"switching_careers\"]).optional(),\n  targetRole: z.string().optional(),\n  yearsExperience: z.number().min(0).max(50).optional(),\n});\n\nrouter.get(\"/status\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    \n    const { data: profile, error } = await supabaseAdmin\n      .from('profiles')\n      .select('*')\n      .eq('id', userId)\n      .single();\n    \n    if (error || !profile) {\n      return res.status(404).json({ message: \"Profile not found\" });\n    }\n    \n    res.json({\n      onboardingStatus: profile.onboarding_status || \"not_started\",\n      currentStatus: profile.current_status,\n      targetRole: profile.target_role,\n      yearsExperience: profile.years_experience,\n      personalizationQuality: profile.personalization_quality,\n    });\n  } catch (error) {\n    console.error(\"Error fetching onboarding status:\", error);\n    res.status(500).json({ message: \"Failed to fetch onboarding status\" });\n  }\n});\n\nrouter.post(\"/update\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    const validatedData = onboardingSchema.parse(req.body);\n    \n    const updateData: any = {\n      updated_at: new Date().toISOString()\n    };\n    \n    if (validatedData.currentStatus !== undefined) {\n      updateData.current_status = validatedData.currentStatus;\n    }\n    if (validatedData.targetRole !== undefined) {\n      updateData.target_role = validatedData.targetRole;\n    }\n    if (validatedData.yearsExperience !== undefined) {\n      updateData.years_experience = validatedData.yearsExperience;\n    }\n    \n    const { data: profile, error } = await supabaseAdmin\n      .from('profiles')\n      .update(updateData)\n      .eq('id', userId)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error(\"Error updating profile:\", error);\n      return res.status(500).json({ message: \"Failed to update profile\" });\n    }\n    \n    res.json({\n      onboardingStatus: profile.onboarding_status,\n      currentStatus: profile.current_status,\n      targetRole: profile.target_role,\n      yearsExperience: profile.years_experience,\n      personalizationQuality: profile.personalization_quality,\n    });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n    }\n    console.error(\"Error updating onboarding:\", error);\n    res.status(500).json({ message: \"Failed to update onboarding\" });\n  }\n});\n\nrouter.post(\"/complete\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    \n    const { data: profile, error: fetchError } = await supabaseAdmin\n      .from('profiles')\n      .select('*')\n      .eq('id', userId)\n      .single();\n    \n    if (fetchError || !profile) {\n      return res.status(404).json({ message: \"Profile not found\" });\n    }\n    \n    const hasRole = !!profile.target_role;\n    const hasExperience = profile.years_experience !== null && profile.years_experience !== undefined;\n    const personalizationQuality = hasRole && hasExperience ? \"full\" : \"partial\";\n    \n    const { error: updateError } = await supabaseAdmin\n      .from('profiles')\n      .update({\n        onboarding_status: \"complete\",\n        personalization_quality: personalizationQuality,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', userId);\n    \n    if (updateError) {\n      console.error(\"Error completing onboarding:\", updateError);\n      return res.status(500).json({ message: \"Failed to complete onboarding\" });\n    }\n    \n    res.json({\n      onboardingStatus: \"complete\",\n      personalizationQuality,\n    });\n  } catch (error) {\n    console.error(\"Error completing onboarding:\", error);\n    res.status(500).json({ message: \"Failed to complete onboarding\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":4186,"size_tokens":null},"client/src/pages/OnboardingPage.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { GraduationCap, Briefcase, RefreshCw, ChevronRight, ChevronLeft, X } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ntype CurrentStatus = \"student_fresher\" | \"working_professional\" | \"switching_careers\";\n\ninterface OnboardingData {\n  status: string;\n  currentStatus: CurrentStatus | null;\n  targetRole: string;\n  yearsExperience: number;\n}\n\nconst STATUS_OPTIONS = [\n  { value: \"student_fresher\", label: \"Student / Fresher\", icon: GraduationCap, description: \"Currently studying or recently graduated\" },\n  { value: \"working_professional\", label: \"Working Professional\", icon: Briefcase, description: \"Currently employed and looking to grow\" },\n  { value: \"switching_careers\", label: \"Switching Careers\", icon: RefreshCw, description: \"Transitioning from another field\" },\n] as const;\n\nconst ROLE_SUGGESTIONS: Record<CurrentStatus, string[]> = {\n  student_fresher: [\n    \"Product Manager\",\n    \"Associate PM\",\n    \"Business Analyst\",\n    \"Data Analyst\",\n    \"Software Engineer\",\n    \"UX Designer\",\n    \"Not sure yet\",\n  ],\n  working_professional: [\n    \"Senior Product Manager\",\n    \"Product Lead\",\n    \"Growth PM\",\n    \"Technical PM\",\n    \"Data Product Manager\",\n    \"AI/ML Product Manager\",\n    \"Not sure yet\",\n  ],\n  switching_careers: [\n    \"Product Manager\",\n    \"Associate PM\",\n    \"Product Analyst\",\n    \"Technical PM\",\n    \"Growth PM\",\n    \"Strategy PM\",\n    \"Not sure yet\",\n  ],\n};\n\nfunction saveOnboardingData(data: OnboardingData) {\n  sessionStorage.setItem(\"cv_onboarding\", JSON.stringify(data));\n}\n\nfunction loadOnboardingData(): OnboardingData | null {\n  try {\n    const stored = sessionStorage.getItem(\"cv_onboarding\");\n    return stored ? JSON.parse(stored) : null;\n  } catch {\n    return null;\n  }\n}\n\nexport default function OnboardingPage() {\n  const [, navigate] = useLocation();\n  const [step, setStep] = useState(1);\n  const [currentStatus, setCurrentStatus] = useState<CurrentStatus | null>(null);\n  const [targetRole, setTargetRole] = useState(\"\");\n  const [customRole, setCustomRole] = useState(\"\");\n\n  useEffect(() => {\n    const data = loadOnboardingData();\n    if (data) {\n      if (data.status === \"complete\") {\n        navigate(\"/upload\");\n        return;\n      }\n      if (data.currentStatus) setCurrentStatus(data.currentStatus);\n      if (data.targetRole) setTargetRole(data.targetRole);\n    }\n  }, [navigate]);\n\n  const handleStatusSelect = (status: CurrentStatus) => {\n    setCurrentStatus(status);\n    saveOnboardingData({\n      status: \"in_progress\",\n      currentStatus: status,\n      targetRole,\n      yearsExperience: 0,\n    });\n  };\n\n  const handleNext = () => {\n    if (step === 1 && currentStatus) {\n      setStep(2);\n    }\n  };\n\n  const handleRoleSelect = (role: string) => {\n    if (role === \"Not sure yet\") {\n      setTargetRole(\"\");\n      setCustomRole(\"\");\n    } else {\n      setTargetRole(role);\n      setCustomRole(\"\");\n    }\n  };\n\n  const handleComplete = () => {\n    const finalRole = customRole.trim() || targetRole;\n    saveOnboardingData({\n      status: \"complete\",\n      currentStatus,\n      targetRole: finalRole === \"Not sure yet\" ? \"\" : finalRole,\n      yearsExperience: 0,\n    });\n    navigate(\"/upload\");\n  };\n\n  const handleSkip = () => {\n    saveOnboardingData({\n      status: \"complete\",\n      currentStatus,\n      targetRole: \"\",\n      yearsExperience: 0,\n    });\n    navigate(\"/upload\");\n  };\n\n  const totalSteps = 2;\n  const progress = (step / totalSteps) * 100;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#110022] to-[#1a0033] flex items-center justify-center px-4 py-8\">\n      <Card className=\"w-full max-w-2xl bg-white/5 backdrop-blur border-white/10 relative\">\n        {/* Close button */}\n        <button\n          onClick={() => navigate(\"/\")}\n          className=\"absolute top-4 right-4 text-white/40 hover:text-white/80 transition-colors z-10\"\n          data-testid=\"button-close-onboarding\"\n        >\n          <X className=\"h-5 w-5\" />\n        </button>\n        \n        <CardHeader className=\"text-center pb-2\">\n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <div className=\"w-8 h-8 rounded-lg bg-primary flex items-center justify-center\">\n              <GraduationCap className=\"h-5 w-5 text-white\" />\n            </div>\n            <span className=\"text-white font-bold text-xl\">BCALM</span>\n          </div>\n          <Progress value={progress} className=\"h-2 mb-4\" />\n          <CardTitle className=\"text-2xl text-white\">\n            {step === 1 && \"Let's personalize your experience\"}\n            {step === 2 && \"What role are you targeting?\"}\n          </CardTitle>\n          <CardDescription className=\"text-white/60\">\n            {step === 1 && \"This helps us tailor your CV analysis\"}\n            {step === 2 && \"We'll optimize your CV for this role\"}\n          </CardDescription>\n        </CardHeader>\n\n        <CardContent className=\"pt-4\">\n          <AnimatePresence mode=\"wait\">\n            {step === 1 && (\n              <motion.div\n                key=\"step1\"\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                className=\"space-y-3\"\n              >\n                {STATUS_OPTIONS.map((option) => {\n                  const Icon = option.icon;\n                  return (\n                    <button\n                      key={option.value}\n                      onClick={() => handleStatusSelect(option.value as CurrentStatus)}\n                      className={`w-full p-4 rounded-lg border transition-all flex items-center gap-4 text-left ${\n                        currentStatus === option.value\n                          ? \"border-primary bg-primary/20 text-white\"\n                          : \"border-white/20 hover:border-primary/50 hover:bg-white/5 text-white/80\"\n                      }`}\n                      data-testid={`button-status-${option.value}`}\n                    >\n                      <div className=\"w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center shrink-0\">\n                        <Icon className=\"h-6 w-6 text-primary\" />\n                      </div>\n                      <div>\n                        <div className=\"font-semibold text-white\">{option.label}</div>\n                        <div className=\"text-sm text-white/60\">{option.description}</div>\n                      </div>\n                    </button>\n                  );\n                })}\n\n                <div className=\"pt-4\">\n                  <Button\n                    onClick={handleNext}\n                    disabled={!currentStatus}\n                    className=\"w-full\"\n                    data-testid=\"button-next-step1\"\n                  >\n                    Next\n                    <ChevronRight className=\"h-4 w-4 ml-1\" />\n                  </Button>\n                </div>\n              </motion.div>\n            )}\n\n            {step === 2 && currentStatus && (\n              <motion.div\n                key=\"step2\"\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                className=\"space-y-4\"\n              >\n                <div className=\"flex flex-wrap gap-2\">\n                  {ROLE_SUGGESTIONS[currentStatus].map((role) => (\n                    <button\n                      key={role}\n                      onClick={() => handleRoleSelect(role)}\n                      className={`px-4 py-2 rounded-full border transition-all ${\n                        targetRole === role || (role === \"Not sure yet\" && !targetRole && !customRole)\n                          ? \"border-primary bg-primary/20 text-white\"\n                          : \"border-white/20 hover:border-primary/50 text-white/80\"\n                      }`}\n                      data-testid={`button-role-${role.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                    >\n                      {role}\n                    </button>\n                  ))}\n                </div>\n                \n                <div className=\"relative\">\n                  <Input\n                    placeholder=\"Or type a custom role...\"\n                    value={customRole}\n                    onChange={(e) => {\n                      setCustomRole(e.target.value);\n                      setTargetRole(\"\");\n                    }}\n                    className=\"bg-white/10 border-white/20 text-white placeholder:text-white/40\"\n                    data-testid=\"input-custom-role\"\n                  />\n                </div>\n\n                <div className=\"flex gap-3 pt-4\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setStep(1)}\n                    className=\"border-white/20 text-white hover:bg-white/10\"\n                    data-testid=\"button-back\"\n                  >\n                    <ChevronLeft className=\"h-4 w-4 mr-1\" />\n                    Back\n                  </Button>\n                  <Button\n                    onClick={handleComplete}\n                    className=\"flex-1\"\n                    data-testid=\"button-next-step2\"\n                  >\n                    Next\n                    <ChevronRight className=\"h-4 w-4 ml-1\" />\n                  </Button>\n                </div>\n                \n                <button\n                  onClick={handleSkip}\n                  className=\"w-full text-center text-white/50 hover:text-white/80 text-sm py-2\"\n                  data-testid=\"button-skip-role\"\n                >\n                  Skip for now\n                </button>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":10096,"size_tokens":null},"client/src/pages/ProcessingPage.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useLocation, useSearch } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { GraduationCap, Loader2, FileSearch, Brain, CheckCircle, Sparkles, AlertCircle, RefreshCw } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface AnalysisJob {\n  id: string;\n  status: string;\n  result_json: any;\n  error_text: string | null;\n  created_at: string;\n  completed_at: string | null;\n}\n\nconst LOADING_STEPS = [\n  { icon: FileSearch, text: \"Reading your CV...\" },\n  { icon: Brain, text: \"Analyzing content...\" },\n  { icon: Sparkles, text: \"Generating insights...\" },\n  { icon: CheckCircle, text: \"Almost done...\" },\n];\n\nexport default function ProcessingPage() {\n  const [, navigate] = useLocation();\n  const searchString = useSearch();\n  const searchParams = new URLSearchParams(searchString);\n  const jobId = searchParams.get(\"jobId\");\n  \n  const [currentStep, setCurrentStep] = useState(0);\n\n  useEffect(() => {\n    if (!jobId) {\n      navigate(\"/upload\");\n    }\n  }, [jobId, navigate]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentStep((prev) => (prev + 1) % LOADING_STEPS.length);\n    }, 2000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const { data: jobData, isLoading } = useQuery<AnalysisJob>({\n    queryKey: [\"/api/analysis/share\", jobId],\n    enabled: !!jobId,\n    staleTime: 0,\n    refetchInterval: (query) => {\n      const status = query.state.data?.status;\n      if (status === \"complete\" || status === \"failed\") {\n        return false;\n      }\n      return 2000;\n    },\n  });\n\n  useEffect(() => {\n    if (jobData?.status === \"complete\") {\n      console.log(\"Job complete, navigating to results:\", jobId);\n      navigate(`/results/${jobId}`, { replace: true });\n    }\n  }, [jobData?.status, jobId, navigate]);\n\n  if (jobData?.status === \"failed\") {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-[#110022] to-[#1a0033] flex items-center justify-center px-4\">\n        <div className=\"text-center max-w-md\">\n          <div className=\"flex items-center justify-center gap-2 mb-12\">\n            <div className=\"w-8 h-8 rounded-lg bg-primary flex items-center justify-center\">\n              <GraduationCap className=\"h-5 w-5 text-white\" />\n            </div>\n            <span className=\"text-white font-bold text-xl\">BCALM</span>\n          </div>\n\n          <div className=\"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-6\">\n            <AlertCircle className=\"h-10 w-10 text-red-400\" />\n          </div>\n\n          <h2 className=\"text-2xl font-bold text-white mb-4\">Analysis Failed</h2>\n          \n          <p className=\"text-white/60 mb-8\">\n            {jobData.error_text || \"Something went wrong while analyzing your CV. Please try again.\"}\n          </p>\n\n          <Button\n            onClick={() => navigate(\"/upload\")}\n            className=\"gap-2\"\n            data-testid=\"button-retry\"\n          >\n            <RefreshCw className=\"h-4 w-4\" />\n            Try Again\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!jobId) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#110022] to-[#1a0033]\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  const CurrentIcon = LOADING_STEPS[currentStep].icon;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#110022] to-[#1a0033] flex items-center justify-center px-4\">\n      <div className=\"text-center max-w-md\">\n        <div className=\"flex items-center justify-center gap-2 mb-12\">\n          <div className=\"w-8 h-8 rounded-lg bg-primary flex items-center justify-center\">\n            <GraduationCap className=\"h-5 w-5 text-white\" />\n          </div>\n          <span className=\"text-white font-bold text-xl\">BCALM</span>\n        </div>\n\n        <motion.div\n          key={currentStep}\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.8 }}\n          className=\"w-24 h-24 rounded-full bg-primary/20 flex items-center justify-center mx-auto mb-8 relative\"\n        >\n          <div className=\"absolute inset-0 rounded-full border-4 border-primary/30 border-t-primary animate-spin\" />\n          <AnimatePresence mode=\"wait\">\n            <motion.div\n              key={currentStep}\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n            >\n              <CurrentIcon className=\"h-10 w-10 text-primary\" />\n            </motion.div>\n          </AnimatePresence>\n        </motion.div>\n\n        <AnimatePresence mode=\"wait\">\n          <motion.p\n            key={currentStep}\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            className=\"text-xl font-semibold text-white mb-2\"\n          >\n            {LOADING_STEPS[currentStep].text}\n          </motion.p>\n        </AnimatePresence>\n\n        <p className=\"text-white/60 mb-8\">\n          This usually takes about 30-60 seconds\n        </p>\n\n        <div className=\"flex justify-center gap-2\">\n          {LOADING_STEPS.map((_, index) => (\n            <div\n              key={index}\n              className={`w-2 h-2 rounded-full transition-colors ${\n                index === currentStep ? \"bg-primary\" : \"bg-white/20\"\n              }`}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5662,"size_tokens":null},"client/src/pages/ResultsPage.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useLocation, useParams } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScoreRing } from \"@/components/ScoreRing\";\nimport { \n  Loader2, CheckCircle, AlertTriangle, Zap, Target, FileText, \n  RefreshCw, ChevronDown, ChevronUp, Share2, Copy, Check,\n  Sparkles, TrendingUp, HelpCircle, FileSearch, Briefcase,\n  AlertCircle, Lightbulb, Edit3, Send, X, MessageCircle\n} from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\n\ninterface TopRequirement {\n  requirement: string;\n  evidence_quality: string;\n  resume_evidence: string;\n}\n\ninterface GapItem {\n  gap?: string;\n  title?: string;\n  why_it_matters?: string;\n  proof_needed?: string;\n  bullet_frame?: string;\n}\n\ninterface BulletReviewItem {\n  original?: string;\n  original_bullet?: string;\n  why_weak?: string;\n  recommended?: string;\n  recommended_text?: string;\n  recommended_version?: string;\n  why_this_version?: string;\n  placeholders?: string[];\n  fill?: string[];\n  placeholders_to_fill?: string[];\n}\n\ninterface SevenStepItem {\n  step?: number;\n  task?: string;\n  action?: string;\n  priority?: string;\n  output?: string;\n  output_expected?: string;\n}\n\ninterface AnalysisJob {\n  id: string;\n  status: string;\n  report: {\n    role_preset?: string;\n    overall_score?: number;\n    rating?: string;\n    score_breakdown?: {\n      ats?: { score: number; max?: number; feedback?: string; notes?: string };\n      impact?: { score: number; max?: number; feedback?: string; notes?: string };\n      role_signals?: { score: number; max?: number; feedback?: string; notes?: string };\n      job_match?: { score: number; max?: number; feedback?: string; notes?: string; skipped?: boolean };\n    };\n    summary?: string;\n    coach_summary?: string;\n    top_strengths?: Array<{ strength?: string; point?: string; evidence?: string; why_it_works?: string } | string>;\n    top_fixes?: Array<{ fix?: string; point?: string; expected_score_lift?: number; expected_lift?: number; how_to_do_it?: string; why_it_matters?: string } | string>;\n    seven_step_plan?: SevenStepItem[];\n    bullet_review?: BulletReviewItem[];\n    info_needed_from_user?: string[];\n    top_requirements?: TopRequirement[];\n    highest_roi_gaps?: GapItem[];\n    gaps?: GapItem[] | string[];\n    job_match_section?: {\n      match_score?: number | null;\n      explanation?: string;\n      missing_skills?: string[];\n      strong_matches?: string[];\n      requirements?: Array<{ requirement: string; met: boolean }>;\n      top_requirements?: TopRequirement[];\n      gaps?: GapItem[] | string[];\n      highest_roi_gaps?: GapItem[];\n    };\n    cta?: string;\n  };\n  error_text: string | null;\n  created_at: string;\n  completed_at: string | null;\n}\n\nfunction BreakdownCard({ \n  title, \n  score,\n  maxScore = 30,\n  notes, \n  icon: Icon,\n  skipped,\n  expanded,\n  onToggle\n}: { \n  title: string; \n  score: number;\n  maxScore?: number;\n  notes?: string; \n  icon: any;\n  skipped?: boolean;\n  expanded?: boolean;\n  onToggle?: () => void;\n}) {\n  const pct = (score / maxScore) * 100;\n  const getColor = () => {\n    if (skipped) return \"text-white/40\";\n    if (pct >= 80) return \"text-green-400\";\n    if (pct >= 60) return \"text-primary\";\n    if (pct >= 40) return \"text-amber-400\";\n    return \"text-red-400\";\n  };\n\n  return (\n    <Card \n      className=\"bg-white/5 border-white/10 cursor-pointer hover:bg-white/[0.07] transition-colors\"\n      onClick={onToggle}\n    >\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Icon className={`h-5 w-5 ${getColor()}`} />\n            <span className=\"text-white/70 text-sm font-medium\">{title}</span>\n          </div>\n          {skipped ? (\n            <Badge variant=\"outline\" className=\"bg-white/5 text-white/40 border-white/10 text-xs\">\n              JD missing\n            </Badge>\n          ) : (\n            <span className={`text-2xl font-bold ${getColor()}`}>{score}</span>\n          )}\n        </div>\n        {notes && (\n          <p className={`mt-2 text-xs ${expanded ? 'line-clamp-none' : 'line-clamp-2'} text-white/50`}>\n            {notes}\n          </p>\n        )}\n        <div className=\"flex items-center justify-end mt-2\">\n          <span className=\"text-xs text-white/30 flex items-center gap-1\">\n            {expanded ? 'Less' : 'View details'} \n            {expanded ? <ChevronUp className=\"h-3 w-3\" /> : <ChevronDown className=\"h-3 w-3\" />}\n          </span>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction EvidenceQualityBadge({ quality }: { quality: string }) {\n  const normalized = quality?.toLowerCase() || '';\n  if (normalized.includes('strong') || normalized.includes('good')) {\n    return <Badge className=\"bg-green-500/20 text-green-400 border-green-500/30 text-xs\">Strong</Badge>;\n  }\n  if (normalized.includes('partial') || normalized.includes('weak')) {\n    return <Badge className=\"bg-amber-500/20 text-amber-400 border-amber-500/30 text-xs\">Partial</Badge>;\n  }\n  if (normalized.includes('missing') || normalized.includes('none')) {\n    return <Badge className=\"bg-red-500/20 text-red-400 border-red-500/30 text-xs\">Missing</Badge>;\n  }\n  return <Badge className=\"bg-white/10 text-white/60 border-white/20 text-xs\">{quality}</Badge>;\n}\n\nexport default function ResultsPage() {\n  const [, navigate] = useLocation();\n  const { jobId } = useParams();\n  const { toast } = useToast();\n  \n  const [copied, setCopied] = useState(false);\n  const [shareModalOpen, setShareModalOpen] = useState(false);\n  const [expandedCards, setExpandedCards] = useState<Set<string>>(new Set());\n  const [showAllStrengths, setShowAllStrengths] = useState(false);\n  const [bulletReviewOpen, setBulletReviewOpen] = useState(false);\n  const [jobMatchOpen, setJobMatchOpen] = useState(false);\n  const [infoNeededOpen, setInfoNeededOpen] = useState(false);\n\n  const { data: jobData, isLoading } = useQuery<AnalysisJob>({\n    queryKey: [\"/api/analysis/share\", jobId],\n    queryFn: async () => {\n      const res = await fetch(`/api/analysis/share/${jobId}`);\n      if (!res.ok) throw new Error(\"Failed to load analysis\");\n      return res.json();\n    },\n    enabled: !!jobId,\n    staleTime: 60000,\n    gcTime: 300000,\n    retry: 2,\n  });\n\n  useEffect(() => {\n    if (!jobId) {\n      navigate(\"/upload\");\n    }\n  }, [jobId, navigate]);\n\n  const handleShare = async () => {\n    const shareUrl = `${window.location.origin}/share/${jobId}`;\n    const shareText = `I scored ${report.overall_score}/100 for ${report.role_preset || 'my CV'}. Get your free CV Score at bcalm.org`;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: \"My CV Score on BCALM\",\n          text: shareText,\n          url: shareUrl,\n        });\n      } catch (err) {\n        setShareModalOpen(true);\n      }\n    } else {\n      setShareModalOpen(true);\n    }\n  };\n\n  const handleCopyLink = async () => {\n    const shareUrl = `${window.location.origin}/share/${jobId}`;\n    await navigator.clipboard.writeText(shareUrl);\n    setCopied(true);\n    toast({ title: \"Link copied!\", description: \"Share link copied to clipboard\" });\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  const shareToSocial = (platform: string) => {\n    const shareUrl = `${window.location.origin}/share/${jobId}`;\n    const text = `I scored ${report.overall_score}/100 for ${report.role_preset || 'my CV'}. Get your free CV Score at bcalm.org`;\n    \n    const urls: Record<string, string> = {\n      whatsapp: `https://wa.me/?text=${encodeURIComponent(text + ' ' + shareUrl)}`,\n      twitter: `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(shareUrl)}`,\n      linkedin: `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`,\n      telegram: `https://t.me/share/url?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(text)}`,\n    };\n    \n    window.open(urls[platform], '_blank', 'width=600,height=400');\n  };\n\n  const toggleCardExpand = (cardId: string) => {\n    const newExpanded = new Set(expandedCards);\n    if (newExpanded.has(cardId)) {\n      newExpanded.delete(cardId);\n    } else {\n      newExpanded.add(cardId);\n    }\n    setExpandedCards(newExpanded);\n  };\n\n  if (isLoading || !jobId) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0014] via-[#110022] to-[#1a0033]\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  if (!jobData || jobData.status !== 'complete') {\n    return (\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-[#0a0014] via-[#110022] to-[#1a0033] p-8\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n        <p className=\"text-white/70\">Analyzing your CV...</p>\n        <p className=\"text-white/40 text-sm mt-2\">This usually takes 30-60 seconds</p>\n      </div>\n    );\n  }\n\n  const report = jobData.report || {};\n  const score = report.overall_score || 0;\n  const breakdown = report.score_breakdown || {};\n  const strengths = report.top_strengths || [];\n  const fixes = report.top_fixes || [];\n  const sevenStepPlan = report.seven_step_plan || [];\n  const bulletReview = report.bullet_review || [];\n  const infoNeeded = report.info_needed_from_user || [];\n  \n  const topRequirements = report.top_requirements || report.job_match_section?.top_requirements || [];\n  const highestRoiGaps = report.highest_roi_gaps || report.job_match_section?.highest_roi_gaps || [];\n  const jobMatchSkipped = breakdown.job_match?.skipped;\n\n  const quickestWin = fixes[0];\n  const summaryText = report.summary || report.coach_summary || '';\n  const coachSummary = summaryText ? (summaryText.split('.')[0] + '.') : '';\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#0a0014] via-[#110022] to-[#1a0033]\">\n      {/* Hero Section */}\n      <motion.section \n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        className=\"pt-8 pb-12 px-4\"\n      >\n        <div className=\"max-w-4xl mx-auto text-center\">\n          {/* Logo */}\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"mb-8\"\n          >\n            <span className=\"text-2xl font-bold bg-gradient-to-r from-primary to-violet-400 bg-clip-text text-transparent\">\n              bcalm\n            </span>\n          </motion.div>\n\n          {/* Score Ring */}\n          <motion.div\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ delay: 0.2 }}\n            className=\"flex justify-center mb-6\"\n          >\n            <ScoreRing score={score} size={180} />\n          </motion.div>\n\n          {/* Role Preset Pill */}\n          {report.role_preset && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.5 }}\n            >\n              <Badge className=\"bg-primary/20 text-primary border-primary/30 px-4 py-1.5 text-sm mb-4\">\n                <Briefcase className=\"h-3.5 w-3.5 mr-2\" />\n                Target role: {report.role_preset}\n              </Badge>\n            </motion.div>\n          )}\n\n          {/* Coach Summary */}\n          <motion.p\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.6 }}\n            className=\"text-white/60 max-w-2xl mx-auto text-sm md:text-base\"\n          >\n            {coachSummary}\n          </motion.p>\n        </div>\n      </motion.section>\n\n      {/* Quickest Win Strip */}\n      {quickestWin && (\n        <motion.section\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.7 }}\n          className=\"px-4 mb-8\"\n        >\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-xl p-4 border border-amber-500/30\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-2 bg-amber-500/20 rounded-lg\">\n                  <Zap className=\"h-5 w-5 text-amber-400\" />\n                </div>\n                <div className=\"flex-1\">\n                  <span className=\"text-amber-400 font-medium text-sm\">Quickest win</span>\n                  {(typeof quickestWin === 'object' && (quickestWin.expected_score_lift || quickestWin.expected_lift)) && (\n                    <span className=\"ml-2 text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full\">\n                      +{quickestWin.expected_score_lift || quickestWin.expected_lift} pts\n                    </span>\n                  )}\n                  <p className=\"text-white/80 text-sm mt-0.5\">\n                    {typeof quickestWin === 'string' ? quickestWin : (quickestWin.fix || quickestWin.point)}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </motion.section>\n      )}\n\n      {/* Score Breakdown Grid */}\n      <motion.section\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.8 }}\n        className=\"px-4 mb-8\"\n      >\n        <div className=\"max-w-4xl mx-auto\">\n          <h2 className=\"text-white/70 text-sm font-medium mb-4 flex items-center gap-2\">\n            <Target className=\"h-4 w-4\" /> Score Breakdown\n          </h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n            <BreakdownCard\n              title=\"ATS Readability\"\n              score={breakdown.ats?.score || 0}\n              maxScore={breakdown.ats?.max || 30}\n              notes={breakdown.ats?.notes || breakdown.ats?.feedback}\n              icon={FileSearch}\n              expanded={expandedCards.has('ats')}\n              onToggle={() => toggleCardExpand('ats')}\n            />\n            <BreakdownCard\n              title=\"Impact & Metrics\"\n              score={breakdown.impact?.score || 0}\n              maxScore={breakdown.impact?.max || 30}\n              notes={breakdown.impact?.notes || breakdown.impact?.feedback}\n              icon={TrendingUp}\n              expanded={expandedCards.has('impact')}\n              onToggle={() => toggleCardExpand('impact')}\n            />\n            <BreakdownCard\n              title=\"Role Signals\"\n              score={breakdown.role_signals?.score || 0}\n              maxScore={breakdown.role_signals?.max || 25}\n              notes={breakdown.role_signals?.notes || breakdown.role_signals?.feedback}\n              icon={Briefcase}\n              expanded={expandedCards.has('role')}\n              onToggle={() => toggleCardExpand('role')}\n            />\n            <BreakdownCard\n              title=\"Job Match\"\n              score={breakdown.job_match?.score || 0}\n              maxScore={breakdown.job_match?.max || 15}\n              notes={breakdown.job_match?.notes || breakdown.job_match?.feedback}\n              icon={Target}\n              skipped={jobMatchSkipped}\n              expanded={expandedCards.has('job')}\n              onToggle={() => toggleCardExpand('job')}\n            />\n          </div>\n        </div>\n      </motion.section>\n\n      {/* Strengths & Fixes - Two Column Layout */}\n      <motion.section\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.9 }}\n        className=\"px-4 mb-8\"\n      >\n        <div className=\"max-w-4xl mx-auto grid md:grid-cols-2 gap-6\">\n          {/* Top Strengths */}\n          <Card className=\"bg-green-500/10 border-green-500/20\">\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-base text-green-400 flex items-center gap-2\">\n                <CheckCircle className=\"h-4 w-4\" />\n                What you're already doing right\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              {(showAllStrengths ? strengths : strengths.slice(0, 3)).map((item: any, index: number) => (\n                <motion.div\n                  key={index}\n                  initial={{ opacity: 0, x: -10 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"flex items-start gap-2\"\n                >\n                  <CheckCircle className=\"h-4 w-4 text-green-400 mt-0.5 shrink-0\" />\n                  <div>\n                    <p className=\"text-white/80 text-sm\">\n                      {typeof item === 'string' ? item : (item.strength || item.point)}\n                    </p>\n                    {item.evidence && (\n                      <p className=\"text-white/40 text-xs mt-0.5 italic\">\"{item.evidence}\"</p>\n                    )}\n                  </div>\n                </motion.div>\n              ))}\n              {strengths.length > 3 && (\n                <button\n                  onClick={() => setShowAllStrengths(!showAllStrengths)}\n                  className=\"text-green-400 text-xs flex items-center gap-1 hover:underline\"\n                >\n                  {showAllStrengths ? 'Show less' : `Show all ${strengths.length} strengths`}\n                  {showAllStrengths ? <ChevronUp className=\"h-3 w-3\" /> : <ChevronDown className=\"h-3 w-3\" />}\n                </button>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Highest ROI Fixes */}\n          <Card className=\"bg-amber-500/10 border-amber-500/20\">\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-base text-amber-400 flex items-center gap-2\">\n                <Zap className=\"h-4 w-4\" />\n                What will boost your score fastest\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              {fixes.slice(0, 3).map((item: any, index: number) => (\n                <Collapsible key={index}>\n                  <CollapsibleTrigger className=\"w-full\">\n                    <motion.div\n                      initial={{ opacity: 0, x: -10 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ delay: index * 0.1 }}\n                      className=\"flex items-start gap-2 text-left\"\n                    >\n                      <Zap className=\"h-4 w-4 text-amber-400 mt-0.5 shrink-0\" />\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 flex-wrap\">\n                          <span className=\"text-white/80 text-sm\">\n                            {typeof item === 'string' ? item : (item.fix || item.point)}\n                          </span>\n                          {(item.expected_score_lift || item.expected_lift) && (\n                            <span className=\"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full\">\n                              +{item.expected_score_lift || item.expected_lift} pts\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      <ChevronDown className=\"h-4 w-4 text-white/30 shrink-0\" />\n                    </motion.div>\n                  </CollapsibleTrigger>\n                  <CollapsibleContent className=\"pl-6 mt-2 space-y-2\">\n                    {item.how_to_do_it && (\n                      <p className=\"text-white/50 text-xs\">\n                        <span className=\"text-amber-400/70\">How: </span>{item.how_to_do_it}\n                      </p>\n                    )}\n                    {item.why_it_matters && (\n                      <p className=\"text-white/50 text-xs\">\n                        <span className=\"text-amber-400/70\">Why: </span>{item.why_it_matters}\n                      </p>\n                    )}\n                  </CollapsibleContent>\n                </Collapsible>\n              ))}\n            </CardContent>\n          </Card>\n        </div>\n      </motion.section>\n\n      {/* 7-Step Plan */}\n      {sevenStepPlan.length > 0 && (\n        <motion.section\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 1 }}\n          className=\"px-4 mb-8\"\n        >\n          <div className=\"max-w-4xl mx-auto\">\n            <Card className=\"bg-white/5 border-white/10 overflow-hidden\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-base text-white flex items-center gap-2\">\n                  <Target className=\"h-4 w-4 text-primary\" />\n                  7-Step Improvement Plan\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"p-0\">\n                {sevenStepPlan.map((item, index) => (\n                  <div\n                    key={index}\n                    className=\"grid grid-cols-[80px_1fr] border-b border-white/10 last:border-b-0\"\n                  >\n                    <div className=\"p-3 flex items-start\">\n                      <span className=\"text-white/70 font-medium text-sm\">Step {item.step || index + 1}</span>\n                    </div>\n                    <div className=\"p-3 border-l border-white/10\">\n                      <p className=\"text-white/80 text-sm\">{item.task || item.action}</p>\n                      {(item.output_expected || item.output) && (\n                        <p className=\"text-white/40 text-xs mt-1\">\n                          Output: {item.output_expected || item.output}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n          </div>\n        </motion.section>\n      )}\n\n      {/* Deep Dive Sections - Collapsed by Default */}\n      <motion.section\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 1.1 }}\n        className=\"px-4 mb-8\"\n      >\n        <div className=\"max-w-4xl mx-auto space-y-3\">\n          {/* Bullet Review */}\n          {bulletReview.length > 0 && (\n            <Collapsible open={bulletReviewOpen} onOpenChange={setBulletReviewOpen}>\n              <CollapsibleTrigger className=\"w-full\">\n                <Card className=\"bg-white/5 border-white/10\">\n                  <CardContent className=\"p-4 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      <Edit3 className=\"h-4 w-4 text-primary\" />\n                      <span className=\"text-white/80 text-sm font-medium\">Bullet Review</span>\n                      <Badge variant=\"outline\" className=\"bg-white/5 text-white/50 border-white/10 text-xs\">\n                        {bulletReview.length}\n                      </Badge>\n                    </div>\n                    {bulletReviewOpen ? <ChevronUp className=\"h-4 w-4 text-white/40\" /> : <ChevronDown className=\"h-4 w-4 text-white/40\" />}\n                  </CardContent>\n                </Card>\n              </CollapsibleTrigger>\n              <CollapsibleContent>\n                <Card className=\"bg-white/5 border-white/10 border-t-0 rounded-t-none overflow-hidden\">\n                  <CardContent className=\"p-0\">\n                    <div className=\"grid grid-cols-[40px_1fr_1fr] border-b border-white/10 bg-white/5\">\n                      <div className=\"p-3 text-xs font-medium text-white/50\">#</div>\n                      <div className=\"p-3 text-xs font-medium text-white/50 border-l border-white/10\">Before</div>\n                      <div className=\"p-3 text-xs font-medium text-white/50 border-l border-white/10\">After</div>\n                    </div>\n                    {bulletReview.map((item, index) => {\n                      const originalText = item.original_bullet || item.original || '';\n                      const recommendedText = item.recommended_text || item.recommended || '';\n                      const placeholders = item.placeholders_to_fill || item.placeholders || item.fill || [];\n                      \n                      return (\n                        <div key={index} className=\"grid grid-cols-[40px_1fr_1fr] border-b border-white/10 last:border-b-0\">\n                          <div className=\"p-3 flex items-start justify-center\">\n                            <span className=\"text-white/50 text-sm\">{index + 1}</span>\n                          </div>\n                          <div className=\"p-3 border-l border-white/10 space-y-2\">\n                            <p className=\"text-white/60 text-xs leading-relaxed\">{originalText}</p>\n                            {item.why_weak && (\n                              <p className=\"text-xs\">\n                                <span className=\"text-amber-500 font-medium\">Why weak: </span>\n                                <span className=\"text-amber-500/70\">{item.why_weak}</span>\n                              </p>\n                            )}\n                          </div>\n                          <div className=\"p-3 border-l border-white/10 space-y-2\">\n                            <p className=\"text-white/80 text-xs leading-relaxed\">{recommendedText}</p>\n                            {item.why_this_version && (\n                              <p className=\"text-xs\">\n                                <span className=\"text-green-500 font-medium\">Why: </span>\n                                <span className=\"text-green-500/70\">{item.why_this_version}</span>\n                              </p>\n                            )}\n                            {placeholders.length > 0 && (\n                              <p className=\"text-xs\">\n                                <span className=\"text-white/40\">Fill: </span>\n                                <span className=\"text-white/50\">{placeholders.join(', ')}</span>\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </CardContent>\n                </Card>\n              </CollapsibleContent>\n            </Collapsible>\n          )}\n\n          {/* Job Match Deep Dive */}\n          {(topRequirements.length > 0 || highestRoiGaps.length > 0) && (\n            <Collapsible open={jobMatchOpen} onOpenChange={setJobMatchOpen}>\n              <CollapsibleTrigger className=\"w-full\">\n                <Card className=\"bg-white/5 border-white/10\">\n                  <CardContent className=\"p-4 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      <Target className=\"h-4 w-4 text-primary\" />\n                      <span className=\"text-white/80 text-sm font-medium\">Job Match Deep Dive</span>\n                    </div>\n                    {jobMatchOpen ? <ChevronUp className=\"h-4 w-4 text-white/40\" /> : <ChevronDown className=\"h-4 w-4 text-white/40\" />}\n                  </CardContent>\n                </Card>\n              </CollapsibleTrigger>\n              <CollapsibleContent>\n                <Card className=\"bg-white/5 border-white/10 border-t-0 rounded-t-none\">\n                  <CardContent className=\"p-4 space-y-4\">\n                    {topRequirements.length > 0 && (\n                      <div>\n                        <h4 className=\"text-white/70 text-xs font-medium mb-2\">JD Requirements</h4>\n                        <div className=\"space-y-2\">\n                          {topRequirements.map((req, idx) => (\n                            <div key={idx} className=\"flex items-start justify-between gap-2 p-2 bg-white/5 rounded-lg\">\n                              <div className=\"flex-1\">\n                                <p className=\"text-white/80 text-xs\">{req.requirement}</p>\n                                {req.resume_evidence && (\n                                  <p className=\"text-white/40 text-xs mt-1 italic\">\"{req.resume_evidence}\"</p>\n                                )}\n                              </div>\n                              <EvidenceQualityBadge quality={req.evidence_quality} />\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                    {highestRoiGaps.length > 0 && (\n                      <div>\n                        <h4 className=\"text-white/70 text-xs font-medium mb-2\">Skill Gaps</h4>\n                        <div className=\"space-y-2\">\n                          {highestRoiGaps.map((gap, idx) => (\n                            <div key={idx} className=\"p-2 bg-red-500/10 border border-red-500/20 rounded-lg\">\n                              <p className=\"text-white/80 text-xs\">{gap.gap || gap.title}</p>\n                              {gap.why_it_matters && (\n                                <p className=\"text-white/40 text-xs mt-1\">{gap.why_it_matters}</p>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </CollapsibleContent>\n            </Collapsible>\n          )}\n\n          {/* Empty state for Job Match */}\n          {jobMatchSkipped && topRequirements.length === 0 && (\n            <Card className=\"bg-white/5 border-white/10\">\n              <CardContent className=\"p-6 text-center\">\n                <FileText className=\"h-8 w-8 text-white/20 mx-auto mb-2\" />\n                <p className=\"text-white/50 text-sm\">Upload a JD to unlock role-specific fit scoring.</p>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Info Needed */}\n          {infoNeeded.length > 0 && (\n            <Collapsible open={infoNeededOpen} onOpenChange={setInfoNeededOpen}>\n              <CollapsibleTrigger className=\"w-full\">\n                <Card className=\"bg-white/5 border-white/10\">\n                  <CardContent className=\"p-4 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      <HelpCircle className=\"h-4 w-4 text-blue-400\" />\n                      <span className=\"text-white/80 text-sm font-medium\">Info Needed From You</span>\n                      <Badge variant=\"outline\" className=\"bg-white/5 text-white/50 border-white/10 text-xs\">\n                        {infoNeeded.length}\n                      </Badge>\n                    </div>\n                    {infoNeededOpen ? <ChevronUp className=\"h-4 w-4 text-white/40\" /> : <ChevronDown className=\"h-4 w-4 text-white/40\" />}\n                  </CardContent>\n                </Card>\n              </CollapsibleTrigger>\n              <CollapsibleContent>\n                <Card className=\"bg-white/5 border-white/10 border-t-0 rounded-t-none\">\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex flex-wrap gap-2\">\n                      {infoNeeded.map((q, idx) => (\n                        <Badge key={idx} variant=\"outline\" className=\"bg-blue-500/10 text-blue-400 border-blue-500/20\">\n                          {q}\n                        </Badge>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              </CollapsibleContent>\n            </Collapsible>\n          )}\n        </div>\n      </motion.section>\n\n      {/* Content spacer for sticky footer */}\n      <div className=\"h-24\" />\n\n      {/* Sticky Bottom CTAs */}\n      <div \n        className=\"fixed bottom-0 left-0 right-0 z-50 p-4\"\n        style={{\n          background: 'linear-gradient(to top, rgba(10, 0, 20, 1) 0%, rgba(10, 0, 20, 0.95) 80%, rgba(10, 0, 20, 0) 100%)',\n          paddingBottom: 'max(1rem, env(safe-area-inset-bottom))',\n        }}\n      >\n        <div className=\"max-w-4xl mx-auto flex items-center justify-center gap-4\">\n          <Button\n            onClick={handleShare}\n            variant=\"outline\"\n            className=\"flex-1 h-12 gap-2 border-white/20 text-white hover:bg-white/10\"\n            data-testid=\"button-send-mail\"\n          >\n            <Send className=\"h-4 w-4\" />\n            Send on my mail\n          </Button>\n          <Button\n            onClick={handleShare}\n            className=\"flex-1 h-12 gap-2\"\n            style={{\n              background: 'linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)',\n            }}\n            data-testid=\"button-share\"\n          >\n            <Share2 className=\"h-4 w-4\" />\n            Share\n          </Button>\n        </div>\n      </div>\n\n      {/* Share Modal */}\n      <Dialog open={shareModalOpen} onOpenChange={setShareModalOpen}>\n        <DialogContent className=\"bg-[#1a0033] border-white/10 text-white max-w-sm\">\n          <DialogHeader>\n            <DialogTitle className=\"text-center\">Share</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-3\">\n            <Button\n              variant=\"outline\"\n              onClick={handleCopyLink}\n              className=\"w-full gap-2 border-white/20 text-white hover:bg-white/10 justify-start\"\n            >\n              {copied ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n              Copy link\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => shareToSocial('whatsapp')}\n              className=\"w-full gap-2 border-white/20 text-white hover:bg-green-500/20 justify-start\"\n            >\n              <MessageCircle className=\"h-4 w-4\" />\n              WhatsApp\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => shareToSocial('telegram')}\n              className=\"w-full gap-2 border-white/20 text-white hover:bg-sky-500/20 justify-start\"\n            >\n              <Send className=\"h-4 w-4\" />\n              Telegram\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => shareToSocial('twitter')}\n              className=\"w-full gap-2 border-white/20 text-white hover:bg-sky-500/20 justify-start\"\n            >\n              <span className=\"font-bold\">X</span>\n              X\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => shareToSocial('linkedin')}\n              className=\"w-full gap-2 border-white/20 text-white hover:bg-blue-500/20 justify-start\"\n            >\n              <Briefcase className=\"h-4 w-4\" />\n              LinkedIn\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","path":null,"size_bytes":35060,"size_tokens":null},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  const isProduction = process.env.NODE_ENV === \"production\";\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: isProduction,\n      sameSite: isProduction ? \"lax\" : \"lax\",\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(\n  claims: any,\n) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  const registeredStrategies = new Set<string>();\n\n  const ensureStrategy = (req: any) => {\n    const protocol = req.protocol || (req.secure ? 'https' : 'http');\n    const host = req.get('host') || req.hostname;\n    const baseUrl = `${protocol}://${host}`;\n    const strategyName = `replitauth:${host}`;\n    \n    if (!registeredStrategies.has(strategyName)) {\n      const strategy = new Strategy(\n        {\n          name: strategyName,\n          config,\n          scope: \"openid email profile offline_access\",\n          callbackURL: `${baseUrl}/api/callback`,\n        },\n        verify,\n      );\n      passport.use(strategy);\n      registeredStrategies.add(strategyName);\n    }\n    return host;\n  };\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    const host = ensureStrategy(req);\n    passport.authenticate(`replitauth:${host}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    const host = ensureStrategy(req);\n    passport.authenticate(`replitauth:${host}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    const protocol = req.protocol || (req.secure ? 'https' : 'http');\n    const host = req.get('host') || req.hostname;\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${protocol}://${host}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};\n","path":null,"size_bytes":4759,"size_tokens":null},"client/src/hooks/useAuth.ts":{"content":"import { useState, useEffect, useCallback } from \"react\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getSupabaseClient, signOut as supabaseSignOut, syncSessionWithBackend } from \"@/lib/supabase\";\nimport type { User as SupabaseUser } from \"@supabase/supabase-js\";\n\ninterface Profile {\n  id: string;\n  email: string | null;\n  first_name: string | null;\n  last_name: string | null;\n  avatar_url: string | null;\n  current_status: string | null;\n  target_role: string | null;\n  years_experience: number | null;\n  onboarding_status: string | null;\n  personalization_quality: string | null;\n}\n\ninterface AuthUser {\n  id: string;\n  email: string | null;\n  firstName: string | null;\n  lastName: string | null;\n  profileImageUrl: string | null;\n  currentStatus: string | null;\n  targetRole: string | null;\n  yearsExperience: number | null;\n  onboardingStatus: string | null;\n  personalizationQuality: string | null;\n}\n\nexport function useAuth() {\n  const queryClient = useQueryClient();\n  const [supabaseUser, setSupabaseUser] = useState<SupabaseUser | null>(null);\n  const [sessionChecked, setSessionChecked] = useState(false);\n  const [clientReady, setClientReady] = useState(false);\n\n  useEffect(() => {\n    let subscription: { unsubscribe: () => void } | null = null;\n\n    async function initAuth() {\n      try {\n        const client = await getSupabaseClient();\n        setClientReady(true);\n\n        const { data: { session } } = await client.auth.getSession();\n        setSupabaseUser(session?.user ?? null);\n        if (session) {\n          syncSessionWithBackend();\n        }\n        setSessionChecked(true);\n\n        const { data: { subscription: sub } } = client.auth.onAuthStateChange(async (event, session) => {\n          setSupabaseUser(session?.user ?? null);\n          if (session) {\n            await syncSessionWithBackend();\n            queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n            queryClient.invalidateQueries({ queryKey: [\"/api/me\"] });\n          } else {\n            queryClient.clear();\n          }\n        });\n        subscription = sub;\n      } catch (error) {\n        console.error('Failed to initialize auth:', error);\n        setSessionChecked(true);\n      }\n    }\n\n    initAuth();\n\n    return () => {\n      if (subscription) {\n        subscription.unsubscribe();\n      }\n    };\n  }, [queryClient]);\n\n  const { data: profile, isLoading: profileLoading, error } = useQuery<Profile>({\n    queryKey: [\"/api/auth/user\"],\n    enabled: !!supabaseUser && sessionChecked && clientReady,\n    retry: false,\n    staleTime: 5 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n\n  const is401 = error?.message?.includes(\"401\") || error?.message?.includes(\"Unauthorized\");\n\n  const user: AuthUser | null = profile && !is401 ? {\n    id: profile.id,\n    email: profile.email,\n    firstName: profile.first_name,\n    lastName: profile.last_name,\n    profileImageUrl: profile.avatar_url,\n    currentStatus: profile.current_status,\n    targetRole: profile.target_role,\n    yearsExperience: profile.years_experience,\n    onboardingStatus: profile.onboarding_status,\n    personalizationQuality: profile.personalization_quality,\n  } : null;\n\n  const logout = useCallback(async () => {\n    try {\n      await fetch('/api/auth/logout', { \n        method: 'POST',\n        credentials: 'include'\n      });\n    } catch (e) {\n      console.error('Backend logout error:', e);\n    }\n    await supabaseSignOut();\n    queryClient.clear();\n  }, [queryClient]);\n\n  return {\n    user,\n    isLoading: !sessionChecked || !clientReady || (!!supabaseUser && profileLoading && !is401),\n    isAuthenticated: !!supabaseUser && !!profile && !is401,\n    error: is401 ? null : error,\n    logout,\n    supabaseUser,\n  };\n}\n","path":null,"size_bytes":3758,"size_tokens":null},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}\n","path":null,"size_bytes":116,"size_tokens":null},"client/src/pages/UploadPage.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { GraduationCap, Upload, FileText, Loader2, X, CheckCircle2 } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { nanoid } from \"nanoid\";\n\ninterface OnboardingData {\n  status: string;\n  currentStatus: string | null;\n  targetRole: string;\n  yearsExperience: number;\n}\n\nfunction loadOnboardingData(): OnboardingData | null {\n  try {\n    const stored = sessionStorage.getItem(\"cv_onboarding\");\n    return stored ? JSON.parse(stored) : null;\n  } catch {\n    return null;\n  }\n}\n\nfunction getOrCreateSessionId(): string {\n  let sessionId = sessionStorage.getItem(\"cv_session_id\");\n  if (!sessionId) {\n    sessionId = nanoid();\n    sessionStorage.setItem(\"cv_session_id\", sessionId);\n  }\n  return sessionId;\n}\n\nfunction getStatusLabel(status: string | null): string {\n  if (!status) return \"\";\n  const labels: Record<string, string> = {\n    \"student_fresher\": \"Student / Fresher\",\n    \"working_professional\": \"Working Professional\",\n    \"switching_careers\": \"Switching Careers\"\n  };\n  return labels[status] || status.replace(/_/g, \" \");\n}\n\nexport default function UploadPage() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  \n  const [file, setFile] = useState<File | null>(null);\n  const [jdText, setJdText] = useState(\"\");\n  const [showJdInput, setShowJdInput] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n  const [onboardingData, setOnboardingData] = useState<OnboardingData | null>(null);\n\n  useEffect(() => {\n    const data = loadOnboardingData();\n    if (!data || data.status !== \"complete\") {\n      navigate(\"/onboarding\");\n      return;\n    }\n    setOnboardingData(data);\n  }, [navigate]);\n\n  const submitMutation = useMutation({\n    mutationFn: async () => {\n      if (!file) throw new Error(\"No file selected\");\n      \n      const sessionId = getOrCreateSessionId();\n      const formData = new FormData();\n      formData.append(\"cv\", file);\n      formData.append(\"sessionId\", sessionId);\n      \n      if (jdText.trim()) {\n        formData.append(\"jdText\", jdText.trim());\n      }\n      \n      if (onboardingData) {\n        formData.append(\"currentStatus\", onboardingData.currentStatus || \"\");\n        formData.append(\"targetRole\", onboardingData.targetRole || \"\");\n        formData.append(\"yearsExperience\", String(onboardingData.yearsExperience ?? 0));\n      }\n      \n      const response = await fetch(\"/api/analysis/submit-public\", {\n        method: \"POST\",\n        body: formData,\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || \"Failed to submit CV\");\n      }\n      \n      return response.json();\n    },\n    onSuccess: (data) => {\n      sessionStorage.setItem(\"cv_current_job_id\", data.jobId);\n      navigate(`/processing?jobId=${data.jobId}`);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFile(e.dataTransfer.files[0]);\n    }\n  };\n\n  const handleFile = (selectedFile: File) => {\n    const allowedTypes = [\n      \"application/pdf\",\n      \"application/msword\",\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    ];\n    \n    if (!allowedTypes.includes(selectedFile.type)) {\n      toast({\n        title: \"Invalid file type\",\n        description: \"Please upload a PDF, DOC, or DOCX file\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    if (selectedFile.size > 10 * 1024 * 1024) {\n      toast({\n        title: \"File too large\",\n        description: \"Please upload a file smaller than 10MB\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    setFile(selectedFile);\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      handleFile(e.target.files[0]);\n    }\n  };\n\n  const handleSubmit = () => {\n    if (!file) {\n      toast({\n        title: \"No file selected\",\n        description: \"Please upload your CV first\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    submitMutation.mutate();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#110022] to-[#1a0033] flex items-center justify-center px-4 py-8\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"w-full max-w-2xl\"\n      >\n        <Card className=\"bg-white/5 backdrop-blur border-white/10\">\n          <CardHeader className=\"text-center pb-2\">\n            <div className=\"flex items-center justify-center gap-2 mb-4\">\n              <div className=\"w-8 h-8 rounded-lg bg-primary flex items-center justify-center\">\n                <GraduationCap className=\"h-5 w-5 text-white\" />\n              </div>\n              <span className=\"text-white font-bold text-xl\">BCALM</span>\n            </div>\n            <CardTitle className=\"text-2xl text-white\">Upload your CV</CardTitle>\n            <CardDescription className=\"text-white/60\">\n              Get your personalized CV analysis powered by AI\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent className=\"space-y-6\">\n            <div\n              onDragEnter={handleDrag}\n              onDragLeave={handleDrag}\n              onDragOver={handleDrag}\n              onDrop={handleDrop}\n              onClick={() => fileInputRef.current?.click()}\n              className={`relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${\n                dragActive\n                  ? \"border-primary bg-primary/10\"\n                  : file\n                  ? \"border-green-500/50 bg-green-500/10\"\n                  : \"border-white/20 hover:border-primary/50 hover:bg-white/5\"\n              }`}\n              data-testid=\"dropzone-cv\"\n            >\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\".pdf,.doc,.docx\"\n                onChange={handleFileChange}\n                className=\"hidden\"\n                data-testid=\"input-file\"\n              />\n              \n              {file ? (\n                <div className=\"flex items-center justify-center gap-3\">\n                  <div className=\"w-12 h-12 rounded-lg bg-green-500/20 flex items-center justify-center\">\n                    <CheckCircle2 className=\"h-6 w-6 text-green-500\" />\n                  </div>\n                  <div className=\"text-left\">\n                    <p className=\"text-white font-medium\">{file.name}</p>\n                    <p className=\"text-white/60 text-sm\">\n                      {(file.size / 1024 / 1024).toFixed(2)} MB\n                    </p>\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      setFile(null);\n                    }}\n                    className=\"text-white/60 hover:text-white\"\n                    data-testid=\"button-remove-file\"\n                  >\n                    <X className=\"h-5 w-5\" />\n                  </Button>\n                </div>\n              ) : (\n                <>\n                  <div className=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mx-auto mb-4\">\n                    <Upload className=\"h-8 w-8 text-primary\" />\n                  </div>\n                  <p className=\"text-white font-medium mb-1\">\n                    Drag & drop your CV here\n                  </p>\n                  <p className=\"text-white/60 text-sm\">\n                    or click to browse (PDF, DOC, DOCX)\n                  </p>\n                </>\n              )}\n            </div>\n\n            <div>\n              <button\n                onClick={() => setShowJdInput(!showJdInput)}\n                className=\"text-primary hover:text-primary/80 text-sm flex items-center gap-1\"\n                data-testid=\"button-toggle-jd\"\n              >\n                <FileText className=\"h-4 w-4\" />\n                Add job description (optional)\n              </button>\n              \n              {showJdInput && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: \"auto\" }}\n                  className=\"mt-3\"\n                >\n                  <Textarea\n                    placeholder=\"Paste the job description here for more accurate feedback...\"\n                    value={jdText}\n                    onChange={(e) => setJdText(e.target.value)}\n                    className=\"min-h-[120px] bg-white/10 border-white/20 text-white placeholder:text-white/40\"\n                    data-testid=\"textarea-jd\"\n                  />\n                </motion.div>\n              )}\n            </div>\n\n            <div className=\"p-4 rounded-lg bg-primary/10 border border-primary/20\">\n              <p className=\"font-medium text-white text-sm mb-2\">What you'll get:</p>\n              <ul className=\"list-disc list-inside space-y-1 text-white/60 text-sm\">\n                <li>Overall CV score out of 100</li>\n                <li>Detailed breakdown by category</li>\n                <li>Actionable improvements</li>\n                <li>Role-specific recommendations</li>\n              </ul>\n            </div>\n\n            <Button\n              onClick={handleSubmit}\n              disabled={!file || submitMutation.isPending}\n              className=\"w-full h-12 text-lg\"\n              data-testid=\"button-analyze\"\n            >\n              {submitMutation.isPending ? (\n                <>\n                  <Loader2 className=\"h-5 w-5 animate-spin mr-2\" />\n                  Analyzing...\n                </>\n              ) : (\n                \"Analyze my CV\"\n              )}\n            </Button>\n\n            {onboardingData && (\n              <div className=\"text-center text-white/40 text-sm\">\n                Targeting: {onboardingData.targetRole || \"General role\"} | {getStatusLabel(onboardingData.currentStatus)}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":11092,"size_tokens":null},"server/routes/analysis.ts":{"content":"import { Router, Request, Response } from \"express\";\nimport { isAuthenticated } from \"../supabaseAuth\";\nimport { supabaseAdmin } from \"../supabaseClient\";\nimport multer from \"multer\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport { z } from \"zod\";\nimport mammoth from \"mammoth\";\nimport { nanoid } from \"nanoid\";\n\nconst router = Router();\n\nconst uploadDir = path.join(process.cwd(), \"uploads/cv-analysis\");\nif (!fs.existsSync(uploadDir)) {\n  fs.mkdirSync(uploadDir, { recursive: true });\n}\n\nconst upload = multer({\n  storage: multer.diskStorage({\n    destination: (req, file, cb) => {\n      cb(null, uploadDir);\n    },\n    filename: (req, file, cb) => {\n      const uniqueSuffix = Date.now() + \"-\" + Math.round(Math.random() * 1e9);\n      cb(null, uniqueSuffix + path.extname(file.originalname));\n    },\n  }),\n  limits: { fileSize: 5 * 1024 * 1024 },\n  fileFilter: (req, file, cb) => {\n    const allowedMimes = [\n      \"application/pdf\",\n      \"application/msword\",\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    ];\n    if (allowedMimes.includes(file.mimetype)) {\n      cb(null, true);\n    } else {\n      cb(new Error(\"Only PDF, DOC, and DOCX files are allowed\"));\n    }\n  },\n});\n\nasync function extractTextFromFile(filePath: string, mimeType: string): Promise<string> {\n  try {\n    if (mimeType === \"application/pdf\") {\n      const pdfParseModule = await import(\"pdf-parse\");\n      const PDFParse = pdfParseModule.PDFParse;\n      const dataBuffer = fs.readFileSync(filePath);\n      const uint8Array = new Uint8Array(dataBuffer);\n      const pdfParser = new PDFParse(uint8Array);\n      const result = await pdfParser.getText();\n      const text = typeof result === 'string' ? result : (result?.text || \"\");\n      return text;\n    } else if (\n      mimeType === \"application/msword\" ||\n      mimeType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n    ) {\n      const result = await mammoth.extractRawText({ path: filePath });\n      return result.value;\n    }\n  } catch (error) {\n    console.error(\"Error extracting text:\", error);\n  }\n  return \"\";\n}\n\nrouter.post(\"/submit\", isAuthenticated, upload.single(\"cv\"), async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    \n    const { data: profile, error: profileError } = await supabaseAdmin\n      .from('profiles')\n      .select('*')\n      .eq('id', userId)\n      .single();\n    \n    if (profileError || !profile) {\n      return res.status(404).json({ message: \"Profile not found\" });\n    }\n    \n    if (profile.onboarding_status !== \"complete\") {\n      return res.status(400).json({ message: \"Please complete onboarding first\" });\n    }\n    \n    if (!req.file) {\n      return res.status(400).json({ message: \"CV file is required\" });\n    }\n    \n    const cvText = await extractTextFromFile(req.file.path, req.file.mimetype);\n    \n    if (!cvText || cvText.trim().length < 50) {\n      return res.status(400).json({ message: \"Could not extract text from CV. Please upload a readable PDF or DOCX file.\" });\n    }\n\n    const metaSnapshot = {\n      current_status: profile.current_status,\n      target_role: profile.target_role,\n      years_experience: profile.years_experience,\n      personalization_quality: profile.personalization_quality\n    };\n\n    const { data: submission, error: subError } = await supabaseAdmin\n      .from('cv_submissions')\n      .insert({\n        user_id: userId,\n        cv_file_path: req.file.path,\n        cv_text: cvText,\n        meta_snapshot: metaSnapshot\n      })\n      .select()\n      .single();\n\n    if (subError) {\n      console.error(\"Error creating submission:\", subError);\n      return res.status(500).json({ message: \"Failed to create CV submission\" });\n    }\n\n    const { data: job, error: jobError } = await supabaseAdmin\n      .from('analysis_jobs')\n      .insert({\n        submission_id: submission.id,\n        user_id: userId,\n        status: 'processing'\n      })\n      .select()\n      .single();\n\n    if (jobError) {\n      console.error(\"Error creating job:\", jobError);\n      return res.status(500).json({ message: \"Failed to create analysis job\" });\n    }\n    \n    const n8nWebhookUrl = process.env.N8N_WEBHOOK_URL;\n    if (n8nWebhookUrl) {\n      try {\n        const payload = {\n          id: submission.id,\n          cv_text: cvText,\n          meta_snapshot: metaSnapshot,\n          jobId: job.id\n        };\n\n        console.log(\"Triggering n8n webhook with payload:\", JSON.stringify(payload, null, 2));\n\n        const response = await fetch(n8nWebhookUrl, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(payload),\n        });\n        \n        if (!response.ok) {\n          console.error(\"n8n webhook returned error:\", response.status, await response.text());\n          await supabaseAdmin\n            .from('analysis_jobs')\n            .update({ \n              status: 'failed',\n              error_text: 'Failed to connect to analysis service'\n            })\n            .eq('id', job.id);\n        }\n      } catch (webhookError) {\n        console.error(\"Error calling n8n webhook:\", webhookError);\n        await supabaseAdmin\n          .from('analysis_jobs')\n          .update({ \n            status: 'failed',\n            error_text: 'Failed to connect to analysis service'\n          })\n          .eq('id', job.id);\n      }\n    } else {\n      setTimeout(async () => {\n        const mockResult = {\n          role_preset: profile.target_role || \"General\",\n          overall_score: 72,\n          score_breakdown: {\n            ats: { score: 75, feedback: \"Good keyword optimization\" },\n            impact: { score: 70, feedback: \"Could use more quantifiable results\" },\n            role_signals: { score: 68, feedback: \"Role alignment is decent\" },\n            job_match: { score: 75, feedback: \"Good match overall\", skipped: !profile.target_role }\n          },\n          summary: \"Your CV shows solid potential with good technical skills. Focus on adding measurable achievements and industry-specific keywords to boost your score.\",\n          top_strengths: [\n            { point: \"Strong technical background\", evidence: \"Listed relevant skills\", why_it_works: \"Demonstrates capability\" },\n            { point: \"Clear project descriptions\", evidence: \"Projects have context\", why_it_works: \"Shows practical experience\" },\n            { point: \"Good educational credentials\", evidence: \"Listed degree and institution\", why_it_works: \"Establishes credibility\" }\n          ],\n          top_fixes: [\n            { point: \"Add more metrics\", expected_lift: 5, why_weak: \"Achievements lack numbers\", recommended: \"Include percentages, numbers, or revenue impact\" },\n            { point: \"Optimize for ATS\", expected_lift: 3, why_weak: \"Some keywords missing\", recommended: \"Add industry-standard terminology\" },\n            { point: \"Strengthen summary\", expected_lift: 4, why_weak: \"Summary is generic\", recommended: \"Tailor to target role with specific achievements\" }\n          ],\n          bullet_review: [],\n          info_needed_from_user: profile.target_role ? [] : [\"What specific role are you targeting?\"],\n          seven_step_plan: [\n            { step: 1, action: \"Add a compelling professional summary\", priority: \"high\" },\n            { step: 2, action: \"Quantify your achievements with metrics\", priority: \"high\" },\n            { step: 3, action: \"Optimize keywords for your target role\", priority: \"medium\" },\n            { step: 4, action: \"Improve project descriptions with outcomes\", priority: \"medium\" },\n            { step: 5, action: \"Add relevant certifications if any\", priority: \"low\" },\n            { step: 6, action: \"Review formatting for ATS compatibility\", priority: \"low\" },\n            { step: 7, action: \"Get feedback from industry professionals\", priority: \"low\" }\n          ],\n          job_match_section: {\n            match_score: profile.target_role ? 75 : null,\n            missing_skills: [],\n            strong_matches: []\n          }\n        };\n\n        await supabaseAdmin\n          .from('analysis_jobs')\n          .update({\n            status: 'complete',\n            result_json: mockResult,\n            completed_at: new Date().toISOString()\n          })\n          .eq('id', job.id);\n      }, 5000);\n    }\n    \n    res.json({ ok: true, jobId: job.id });\n  } catch (error) {\n    console.error(\"Error submitting CV for analysis:\", error);\n    res.status(500).json({ message: \"Failed to submit CV for analysis\" });\n  }\n});\n\nrouter.get(\"/share/:jobId\", async (req: Request, res: Response) => {\n  try {\n    const { jobId } = req.params;\n    \n    const { data: job, error } = await supabaseAdmin\n      .from('analysis_jobs')\n      .select('id, status, result_json, error_text, created_at, completed_at')\n      .eq('id', jobId)\n      .single();\n    \n    if (error || !job) {\n      return res.status(404).json({ message: \"Job not found\" });\n    }\n    \n    const result = job.result_json?.result || job.result_json || {};\n    \n    res.json({\n      id: job.id,\n      status: job.status,\n      report: job.status === 'complete' ? result : {},\n      error_text: job.error_text,\n      created_at: job.created_at,\n      completed_at: job.completed_at,\n    });\n  } catch (error) {\n    console.error(\"Error fetching share data:\", error);\n    res.status(500).json({ message: \"Failed to fetch share data\" });\n  }\n});\n\nrouter.post(\"/submit-public\", upload.single(\"cv\"), async (req: Request, res: Response) => {\n  try {\n    if (!req.file) {\n      return res.status(400).json({ message: \"CV file is required\" });\n    }\n    \n    const sessionId = req.body.sessionId || `anon-${nanoid()}`;\n    const currentStatus = req.body.currentStatus || null;\n    const targetRole = req.body.targetRole || null;\n    const yearsExperience = req.body.yearsExperience ? parseInt(req.body.yearsExperience) : null;\n    const jdText = req.body.jdText || null;\n    \n    const cvText = await extractTextFromFile(req.file.path, req.file.mimetype);\n    \n    if (!cvText || cvText.trim().length < 50) {\n      return res.status(400).json({ message: \"Could not extract text from CV. Please upload a readable PDF or DOCX file.\" });\n    }\n\n    const personalizationQuality = targetRole ? 'full' : 'partial';\n\n    const metaSnapshot = {\n      current_status: currentStatus,\n      target_role: targetRole,\n      years_experience: yearsExperience,\n      session_id: sessionId,\n      jd_text: jdText,\n      personalization_quality: personalizationQuality,\n    };\n\n    const { data: submission, error: subError } = await supabaseAdmin\n      .from('cv_submissions')\n      .insert({\n        cv_file_path: req.file.path,\n        cv_text: cvText,\n        meta_snapshot: metaSnapshot\n      })\n      .select()\n      .single();\n\n    if (subError) {\n      console.error(\"Error creating submission:\", subError);\n      return res.status(500).json({ message: \"Failed to create CV submission\" });\n    }\n\n    const { data: job, error: jobError } = await supabaseAdmin\n      .from('analysis_jobs')\n      .insert({\n        submission_id: submission.id,\n        status: 'processing'\n      })\n      .select()\n      .single();\n\n    if (jobError) {\n      console.error(\"Error creating job:\", jobError);\n      return res.status(500).json({ message: \"Failed to create analysis job\" });\n    }\n    \n    const n8nWebhookUrl = process.env.N8N_WEBHOOK_URL;\n    if (n8nWebhookUrl) {\n      try {\n        const payload = {\n          id: submission.id,\n          cv_text: cvText,\n          meta_snapshot: metaSnapshot,\n          jobId: job.id,\n          sessionId: sessionId\n        };\n\n        console.log(\"Triggering n8n webhook (public) with payload:\", JSON.stringify(payload, null, 2));\n\n        const response = await fetch(n8nWebhookUrl, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(payload),\n        });\n        \n        if (!response.ok) {\n          console.error(\"n8n webhook returned error:\", response.status, await response.text());\n          await supabaseAdmin\n            .from('analysis_jobs')\n            .update({ \n              status: 'failed',\n              error_text: 'Failed to connect to analysis service'\n            })\n            .eq('id', job.id);\n        }\n      } catch (webhookError) {\n        console.error(\"Error calling n8n webhook:\", webhookError);\n        await supabaseAdmin\n          .from('analysis_jobs')\n          .update({ \n            status: 'failed',\n            error_text: 'Failed to connect to analysis service'\n          })\n          .eq('id', job.id);\n      }\n    } else {\n      setTimeout(async () => {\n        const mockResult = {\n          role_preset: targetRole || \"General\",\n          overall_score: 72,\n          score_breakdown: {\n            ats: { score: 75, notes: \"Good ATS compatibility\" },\n            impact: { score: 68, notes: \"Could use more metrics\" },\n            role_signals: { score: 70, notes: \"Relevant skills present\" },\n            job_match: { score: 75, notes: \"Good match for target role\", skipped: !targetRole }\n          },\n          summary: \"Your CV shows good potential. Focus on quantifying achievements.\",\n          top_strengths: [\n            { point: \"Clear structure and formatting\", evidence: \"Well-organized sections\" },\n            { point: \"Relevant experience highlighted\", evidence: \"Good use of keywords\" }\n          ],\n          top_fixes: [\n            { point: \"Add more quantified achievements\", expected_lift: 15, how_to_do_it: \"Include metrics like percentages, numbers, and impact\" },\n            { point: \"Strengthen professional summary\", expected_lift: 10, how_to_do_it: \"Add a compelling 2-3 line summary at the top\" }\n          ],\n          seven_step_plan: [\n            { step: 1, action: \"Add a compelling professional summary\", priority: \"high\" },\n            { step: 2, action: \"Quantify your achievements with metrics\", priority: \"high\" },\n            { step: 3, action: \"Optimize keywords for your target role\", priority: \"medium\" }\n          ],\n          job_match_section: {\n            match_score: targetRole ? 75 : null,\n            missing_skills: [],\n            strong_matches: []\n          }\n        };\n\n        await supabaseAdmin\n          .from('analysis_jobs')\n          .update({\n            status: 'complete',\n            result_json: mockResult,\n            completed_at: new Date().toISOString()\n          })\n          .eq('id', job.id);\n      }, 5000);\n    }\n    \n    res.json({ ok: true, jobId: job.id, sessionId: sessionId });\n  } catch (error) {\n    console.error(\"Error submitting CV for analysis (public):\", error);\n    res.status(500).json({ message: \"Failed to submit CV for analysis\" });\n  }\n});\n\nrouter.get(\"/:jobId\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const { jobId } = req.params;\n    const userId = (req as any).userId;\n    \n    const { data: job, error } = await supabaseAdmin\n      .from('analysis_jobs')\n      .select('*')\n      .eq('id', jobId)\n      .single();\n    \n    if (error || !job) {\n      return res.status(404).json({ message: \"Job not found\" });\n    }\n    \n    if (job.user_id !== userId) {\n      return res.status(403).json({ message: \"Access denied\" });\n    }\n    \n    const resultData = job.result_json?.result || job.result_json || {};\n    \n    res.json({\n      id: job.id,\n      status: job.status,\n      report: resultData,\n      error_text: job.error_text,\n      created_at: job.created_at,\n      completed_at: job.completed_at,\n    });\n  } catch (error) {\n    console.error(\"Error fetching analysis job:\", error);\n    res.status(500).json({ message: \"Failed to fetch analysis job\" });\n  }\n});\n\nrouter.get(\"/user/jobs\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    \n    const { data: jobs, error } = await supabaseAdmin\n      .from('analysis_jobs')\n      .select('id, status, result_json, created_at, completed_at')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false });\n    \n    if (error) {\n      console.error(\"Error fetching jobs:\", error);\n      return res.status(500).json({ message: \"Failed to fetch jobs\" });\n    }\n    \n    res.json(jobs.map((job: any) => {\n      const report = job.result_json?.result || job.result_json || {};\n      return {\n        id: job.id,\n        status: job.status,\n        score: report.overall_score,\n        createdAt: job.created_at,\n        completedAt: job.completed_at,\n      };\n    }));\n  } catch (error) {\n    console.error(\"Error fetching user jobs:\", error);\n    res.status(500).json({ message: \"Failed to fetch user jobs\" });\n  }\n});\n\nrouter.get(\"/files/:jobId\", async (req: Request, res: Response) => {\n  try {\n    const { jobId } = req.params;\n    const callbackSecret = process.env.N8N_CALLBACK_SECRET;\n    const providedSecret = req.headers[\"x-callback-secret\"] || req.query.secret;\n    \n    if (callbackSecret && providedSecret !== callbackSecret) {\n      return res.status(401).json({ message: \"Unauthorized access to file\" });\n    }\n    \n    const { data: job, error } = await supabaseAdmin\n      .from('analysis_jobs')\n      .select('submission_id')\n      .eq('id', jobId)\n      .single();\n\n    if (error || !job) {\n      return res.status(404).json({ message: \"Job not found\" });\n    }\n\n    const { data: submission } = await supabaseAdmin\n      .from('cv_submissions')\n      .select('cv_file_path')\n      .eq('id', job.submission_id)\n      .single();\n\n    if (!submission?.cv_file_path) {\n      return res.status(404).json({ message: \"File not found\" });\n    }\n    \n    if (!fs.existsSync(submission.cv_file_path)) {\n      return res.status(404).json({ message: \"File not found on disk\" });\n    }\n    \n    res.sendFile(path.resolve(submission.cv_file_path));\n  } catch (error) {\n    console.error(\"Error serving CV file:\", error);\n    res.status(500).json({ message: \"Failed to serve file\" });\n  }\n});\n\nrouter.post(\"/callback\", async (req: Request, res: Response) => {\n  try {\n    const callbackSecret = process.env.N8N_CALLBACK_SECRET;\n    const providedSecret = req.headers[\"x-callback-secret\"];\n    \n    if (callbackSecret && providedSecret !== callbackSecret) {\n      return res.status(401).json({ message: \"Invalid callback secret\" });\n    }\n    \n    let resultData = req.body;\n    \n    if (Array.isArray(resultData) && resultData.length > 0) {\n      resultData = resultData[0];\n    }\n    \n    const jobId = resultData.jobId || resultData.meta?.jobId;\n    \n    if (!jobId) {\n      return res.status(400).json({ message: \"Missing jobId in callback\" });\n    }\n\n    const { error } = await supabaseAdmin\n      .from('analysis_jobs')\n      .update({\n        status: 'complete',\n        result_json: resultData,\n        completed_at: new Date().toISOString()\n      })\n      .eq('id', jobId);\n\n    if (error) {\n      console.error(\"Error updating job:\", error);\n      return res.status(500).json({ message: \"Failed to update job\" });\n    }\n    \n    res.json({ success: true });\n  } catch (error) {\n    console.error(\"Error processing callback:\", error);\n    res.status(500).json({ message: \"Failed to process callback\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":19212,"size_tokens":null},"client/src/pages/AuthCallbackPage.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { syncSessionWithBackend } from \"@/lib/supabase\";\nimport { Loader2 } from \"lucide-react\";\nimport { queryClient } from \"@/lib/queryClient\";\n\nexport default function AuthCallbackPage() {\n  const [, navigate] = useLocation();\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function handleCallback() {\n      try {\n        const result = await syncSessionWithBackend();\n        \n        if (!result) {\n          setError(\"Failed to authenticate. Please try again.\");\n          return;\n        }\n\n        await queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n        await queryClient.invalidateQueries({ queryKey: [\"/api/me\"] });\n\n        navigate(\"/start\");\n      } catch (err) {\n        console.error(\"Auth callback error:\", err);\n        setError(\"Authentication failed. Please try again.\");\n      }\n    }\n\n    const timer = setTimeout(handleCallback, 500);\n    return () => clearTimeout(timer);\n  }, [navigate]);\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-[#110022] to-[#1a0033] px-4\">\n        <div className=\"text-center text-white\">\n          <h1 className=\"text-2xl font-bold mb-4\">Authentication Error</h1>\n          <p className=\"text-white/60 mb-6\">{error}</p>\n          <button\n            onClick={() => navigate(\"/\")}\n            className=\"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition\"\n          >\n            Back to Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-[#110022] to-[#1a0033]\">\n      <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n      <p className=\"text-white/60\">Signing you in...</p>\n    </div>\n  );\n}\n","path":null,"size_bytes":1935,"size_tokens":null},"client/src/pages/StartPage.tsx":{"content":"import { useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Loader2 } from \"lucide-react\";\n\nexport default function StartPage() {\n  const [, navigate] = useLocation();\n\n  useEffect(() => {\n    const onboardingData = localStorage.getItem(\"cv_onboarding\");\n    \n    if (onboardingData) {\n      try {\n        const data = JSON.parse(onboardingData);\n        if (data.status === \"complete\") {\n          navigate(\"/upload\");\n          return;\n        }\n      } catch (e) {\n        // Invalid data, start fresh\n      }\n    }\n    \n    navigate(\"/onboarding\");\n  }, [navigate]);\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-[#110022] to-[#1a0033]\">\n      <Loader2 className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n      <p className=\"text-white/60\">Setting things up...</p>\n    </div>\n  );\n}\n","path":null,"size_bytes":876,"size_tokens":null},"server/supabaseClient.ts":{"content":"import { createClient, SupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.SUPABASE_URL || process.env.VITE_SUPABASE_URL;\nconst supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nconst supabaseAnonKey = process.env.VITE_SUPABASE_ANON_KEY;\n\nlet supabaseAdmin: SupabaseClient;\n\nif (supabaseUrl && supabaseServiceRoleKey) {\n  supabaseAdmin = createClient(supabaseUrl, supabaseServiceRoleKey, {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false\n    }\n  });\n} else if (supabaseUrl && supabaseAnonKey) {\n  console.warn('SUPABASE_SERVICE_ROLE_KEY not found, using anon key (limited functionality)');\n  supabaseAdmin = createClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false\n    }\n  });\n} else {\n  console.error('Missing Supabase environment variables - auth will not work');\n  supabaseAdmin = null as any;\n}\n\nexport { supabaseAdmin };\n\nexport const createSupabaseClient = (accessToken?: string) => {\n  if (!supabaseUrl) {\n    throw new Error('SUPABASE_URL is not configured');\n  }\n  \n  const anonKey = process.env.VITE_SUPABASE_ANON_KEY || '';\n  \n  return createClient(supabaseUrl, anonKey, {\n    global: {\n      headers: accessToken ? { Authorization: `Bearer ${accessToken}` } : {}\n    }\n  });\n};\n","path":null,"size_bytes":1314,"size_tokens":null},"server/supabaseAuth.ts":{"content":"import type { Express, RequestHandler, Request, Response, NextFunction } from \"express\";\nimport session from \"express-session\";\nimport { supabaseAdmin } from \"./supabaseClient\";\n\nconst SESSION_COOKIE_NAME = 'sb_access_token';\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const isProduction = process.env.NODE_ENV === \"production\";\n  \n  return session({\n    secret: process.env.SESSION_SECRET!,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: isProduction,\n      sameSite: isProduction ? \"lax\" : \"lax\",\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nexport async function setupSupabaseAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n\n  app.post(\"/api/auth/session\", async (req: Request, res: Response) => {\n    try {\n      const { access_token, refresh_token } = req.body;\n      \n      if (!access_token) {\n        return res.status(400).json({ error: \"Missing access_token\" });\n      }\n\n      const { data: { user }, error } = await supabaseAdmin.auth.getUser(access_token);\n      \n      if (error || !user) {\n        return res.status(401).json({ error: \"Invalid token\" });\n      }\n\n      const profile = await ensureProfile(user);\n\n      (req.session as any).accessToken = access_token;\n      (req.session as any).refreshToken = refresh_token;\n      (req.session as any).userId = user.id;\n\n      res.json({ \n        success: true, \n        user: {\n          id: user.id,\n          email: user.email,\n          ...profile\n        }\n      });\n    } catch (error) {\n      console.error(\"Session creation error:\", error);\n      res.status(500).json({ error: \"Failed to create session\" });\n    }\n  });\n\n  app.get(\"/api/auth/user\", isAuthenticated, async (req: Request, res: Response) => {\n    try {\n      const userId = (req as any).userId;\n      const user = (req as any).user;\n      \n      const { data: profile, error } = await supabaseAdmin\n        .from('profiles')\n        .select('*')\n        .eq('id', userId)\n        .single();\n\n      if (error) {\n        console.error(\"Error fetching profile:\", error);\n        const fallbackProfile = await ensureProfile(user);\n        if (fallbackProfile) {\n          return res.json({\n            id: userId,\n            ...fallbackProfile\n          });\n        }\n        return res.status(500).json({ error: \"Failed to fetch user profile\" });\n      }\n\n      res.json({\n        id: userId,\n        ...profile\n      });\n    } catch (error) {\n      console.error(\"Error in /api/auth/user:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/me\", isAuthenticated, async (req: Request, res: Response) => {\n    try {\n      const userId = (req as any).userId;\n      const user = (req as any).user;\n      \n      const { data: profile, error } = await supabaseAdmin\n        .from('profiles')\n        .select('*')\n        .eq('id', userId)\n        .single();\n\n      if (error) {\n        console.error(\"Error fetching profile in /api/me:\", error);\n        const fallbackProfile = await ensureProfile(user);\n        if (fallbackProfile) {\n          return res.json({\n            user: { id: userId },\n            profile: fallbackProfile\n          });\n        }\n        return res.status(500).json({ error: \"Failed to fetch profile\" });\n      }\n\n      res.json({\n        user: { id: userId },\n        profile\n      });\n    } catch (error) {\n      console.error(\"Error in /api/me:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/auth/logout\", (req: Request, res: Response) => {\n    req.session.destroy((err) => {\n      if (err) {\n        return res.status(500).json({ error: \"Failed to logout\" });\n      }\n      res.clearCookie('connect.sid');\n      res.json({ success: true });\n    });\n  });\n}\n\nasync function ensureProfile(user: any) {\n  try {\n    const { data: existingProfile, error: fetchError } = await supabaseAdmin\n      .from('profiles')\n      .select('*')\n      .eq('id', user.id)\n      .single();\n\n    if (existingProfile) {\n      return existingProfile;\n    }\n\n    if (fetchError && fetchError.code !== 'PGRST116') {\n      console.error(\"Error fetching profile:\", fetchError);\n    }\n\n    const fullName = user.user_metadata?.full_name || user.user_metadata?.name || '';\n    const nameParts = fullName.split(' ');\n    const firstName = nameParts[0] || '';\n    const lastName = nameParts.slice(1).join(' ') || '';\n\n    const { data: newProfile, error } = await supabaseAdmin\n      .from('profiles')\n      .insert({\n        id: user.id,\n        email: user.email,\n        first_name: firstName,\n        last_name: lastName,\n        avatar_url: user.user_metadata?.avatar_url || user.user_metadata?.picture,\n        onboarding_status: 'not_started'\n      })\n      .select()\n      .single();\n\n    if (error) {\n      console.error(\"Error creating profile:\", error);\n      return {\n        id: user.id,\n        email: user.email,\n        first_name: firstName,\n        last_name: lastName,\n        avatar_url: user.user_metadata?.avatar_url || user.user_metadata?.picture,\n        onboarding_status: 'not_started',\n        _temporary: true\n      };\n    }\n\n    return newProfile;\n  } catch (err) {\n    console.error(\"ensureProfile exception:\", err);\n    return {\n      id: user.id,\n      email: user.email,\n      onboarding_status: 'not_started',\n      _temporary: true\n    };\n  }\n}\n\nexport const optionalAuth: RequestHandler = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const accessToken = (req.session as any)?.accessToken;\n    \n    if (!accessToken) {\n      (req as any).userId = null;\n      (req as any).user = null;\n      return next();\n    }\n\n    const { data: { user }, error } = await supabaseAdmin.auth.getUser(accessToken);\n    \n    if (error || !user) {\n      (req as any).userId = null;\n      (req as any).user = null;\n      return next();\n    }\n\n    (req as any).userId = user.id;\n    (req as any).user = user;\n    \n    next();\n  } catch (error) {\n    console.error(\"Optional auth middleware error:\", error);\n    (req as any).userId = null;\n    (req as any).user = null;\n    next();\n  }\n};\n\nexport const isAuthenticated: RequestHandler = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const accessToken = (req.session as any)?.accessToken;\n    const refreshToken = (req.session as any)?.refreshToken;\n    \n    if (!accessToken) {\n      return res.status(401).json({ error: \"Unauthorized\" });\n    }\n\n    let { data: { user }, error } = await supabaseAdmin.auth.getUser(accessToken);\n    \n    if (error || !user) {\n      if (refreshToken) {\n        const refreshResult = await supabaseAdmin.auth.refreshSession({ refresh_token: refreshToken });\n        \n        if (refreshResult.data.session && refreshResult.data.user) {\n          (req.session as any).accessToken = refreshResult.data.session.access_token;\n          (req.session as any).refreshToken = refreshResult.data.session.refresh_token;\n          user = refreshResult.data.user;\n        } else {\n          req.session.destroy(() => {});\n          return res.status(401).json({ error: \"Session expired. Please sign in again.\" });\n        }\n      } else {\n        req.session.destroy(() => {});\n        return res.status(401).json({ error: \"Unauthorized\" });\n      }\n    }\n\n    (req as any).userId = user.id;\n    (req as any).user = user;\n    \n    next();\n  } catch (error) {\n    console.error(\"Auth middleware error:\", error);\n    req.session.destroy(() => {});\n    res.status(401).json({ error: \"Unauthorized\" });\n  }\n};\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/pages/SharePage.tsx":{"content":"import { useEffect } from \"react\";\nimport { useParams } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Loader2, Target, Sparkles, ExternalLink } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { Button } from \"@/components/ui/button\";\nimport { SiLinkedin, SiX } from \"react-icons/si\";\nimport { ScoreRing } from \"@/components/ScoreRing\";\n\ninterface ShareResponse {\n  id: string;\n  status: string;\n  report: {\n    overall_score?: number;\n    role_preset?: string;\n    summary?: string;\n    top_strengths?: Array<{ strength?: string; point?: string } | string>;\n  };\n  error_text: string | null;\n}\n\nexport default function SharePage() {\n  const { jobId } = useParams();\n\n  const { data, isLoading, error } = useQuery<ShareResponse>({\n    queryKey: [\"/api/analysis/share\", jobId],\n    queryFn: async () => {\n      const res = await fetch(`/api/analysis/share/${jobId}`);\n      if (!res.ok) throw new Error(\"Failed to load\");\n      return res.json();\n    },\n    enabled: !!jobId,\n  });\n\n  const report = data?.report || {};\n  const overallScore = report.overall_score || 0;\n  const rolePreset = report.role_preset || '';\n  \n  const topStrength = report.top_strengths?.[0];\n  const topStrengthText = typeof topStrength === 'string' \n    ? topStrength \n    : (topStrength?.strength || topStrength?.point || '');\n\n  useEffect(() => {\n    if (data?.status === 'complete' && overallScore) {\n      document.title = `CV Score: ${overallScore}/100 | bcalm`;\n    }\n  }, [data, overallScore]);\n\n  const shareUrl = typeof window !== 'undefined' ? window.location.href : '';\n  const twitterShareUrl = data?.status === 'complete' \n    ? `https://twitter.com/intent/tweet?text=${encodeURIComponent(`I scored ${overallScore}/100 for ${rolePreset || 'my CV'}. Get your free CV score at bcalm.org`)}&url=${encodeURIComponent(shareUrl)}`\n    : '';\n  const linkedinShareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`;\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0014] via-[#110022] to-[#1a0033]\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  if (error || !data || data.status !== 'complete') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0014] via-[#110022] to-[#1a0033]\">\n        <div className=\"text-center text-white px-4\">\n          <h2 className=\"text-xl font-semibold mb-2\">Score not found</h2>\n          <p className=\"text-white/60 mb-4\">This score may have been removed or is no longer available.</p>\n          <Button onClick={() => window.location.href = \"/score\"} data-testid=\"button-get-score\">\n            Get Your Free CV Score\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#0a0014] via-[#110022] to-[#1a0033] flex items-center justify-center px-4 py-8\">\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl\" />\n      </div>\n\n      <motion.div\n        initial={{ opacity: 0, scale: 0.9 }}\n        animate={{ opacity: 1, scale: 1 }}\n        className=\"relative max-w-sm w-full\"\n      >\n        <div className=\"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl border border-white/20 p-8 shadow-2xl\">\n          {/* Logo */}\n          <div className=\"flex items-center justify-center gap-2 mb-6\">\n            <span className=\"text-2xl font-bold bg-gradient-to-r from-primary to-violet-400 bg-clip-text text-transparent\">\n              bcalm\n            </span>\n          </div>\n\n          <motion.p\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"text-center text-white/70 mb-6\"\n          >\n            I got my CV Score on bcalm\n          </motion.p>\n\n          <div className=\"flex justify-center mb-6\">\n            <ScoreRing score={overallScore} size={140} />\n          </div>\n\n          {rolePreset && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.6 }}\n              className=\"flex justify-center mb-4\"\n            >\n              <span className=\"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-primary/20 text-primary text-sm\">\n                <Target className=\"h-3 w-3\" />\n                {rolePreset}\n              </span>\n            </motion.div>\n          )}\n\n          {topStrengthText && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.8 }}\n              className=\"bg-green-500/10 border border-green-500/20 rounded-xl p-4 mb-6\"\n            >\n              <div className=\"flex items-center gap-2 text-green-400 text-sm mb-1\">\n                <Sparkles className=\"h-4 w-4\" />\n                Top Strength\n              </div>\n              <p className=\"text-white/80 text-sm\">{topStrengthText}</p>\n            </motion.div>\n          )}\n\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 1 }}\n            className=\"text-center\"\n          >\n            <p className=\"text-white/50 text-sm mb-4\">Try yours free at</p>\n            <Button\n              onClick={() => window.location.href = \"/score\"}\n              className=\"w-full gap-2\"\n              data-testid=\"button-try-yours\"\n            >\n              <ExternalLink className=\"h-4 w-4\" />\n              bcalm.org/score\n            </Button>\n          </motion.div>\n        </div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 1.2 }}\n          className=\"mt-6 flex justify-center gap-3\"\n        >\n          <a\n            href={twitterShareUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition-colors\"\n            data-testid=\"link-share-twitter\"\n          >\n            <SiX className=\"h-4 w-4\" />\n            Share on X\n          </a>\n          <a\n            href={linkedinShareUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition-colors\"\n            data-testid=\"link-share-linkedin\"\n          >\n            <SiLinkedin className=\"h-4 w-4\" />\n            LinkedIn\n          </a>\n        </motion.div>\n      </motion.div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6981,"size_tokens":null},"client/src/components/LimitedOfferBanner.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Clock, BookOpen, X } from \"lucide-react\";\n\nexport default function LimitedOfferBanner() {\n  const [, navigate] = useLocation();\n  const [timeLeft, setTimeLeft] = useState({ hours: 1, minutes: 0, seconds: 0 });\n  const [isVisible, setIsVisible] = useState(true);\n  const [isExpired, setIsExpired] = useState(false);\n\n  useEffect(() => {\n    const storedEndTime = sessionStorage.getItem(\"offerEndTime\");\n    let endTime: number;\n\n    if (storedEndTime) {\n      endTime = parseInt(storedEndTime, 10);\n    } else {\n      endTime = Date.now() + 60 * 60 * 1000;\n      sessionStorage.setItem(\"offerEndTime\", endTime.toString());\n    }\n\n    const updateTimer = () => {\n      const now = Date.now();\n      const diff = endTime - now;\n\n      if (diff <= 0) {\n        setIsExpired(true);\n        setTimeLeft({ hours: 0, minutes: 0, seconds: 0 });\n        return;\n      }\n\n      const hours = Math.floor(diff / (1000 * 60 * 60));\n      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n      const seconds = Math.floor((diff % (1000 * 60)) / 1000);\n\n      setTimeLeft({ hours, minutes, seconds });\n    };\n\n    updateTimer();\n    const interval = setInterval(updateTimer, 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleClick = () => {\n    navigate(\"/start\");\n  };\n\n  const handleClose = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsVisible(false);\n  };\n\n  if (!isVisible || isExpired) return null;\n\n  const formatTime = (num: number) => num.toString().padStart(2, \"0\");\n\n  return (\n    <div\n      onClick={handleClick}\n      className=\"relative bg-gradient-to-r from-amber-500 via-orange-500 to-amber-500 cursor-pointer overflow-hidden\"\n      data-testid=\"banner-limited-offer\"\n    >\n      <div className=\"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxjaXJjbGUgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjEpIiBjeD0iMjAiIGN5PSIyMCIgcj0iMiIvPjwvZz48L3N2Zz4=')] opacity-30\" />\n      \n      <div className=\"relative container mx-auto px-4 py-2.5\">\n        <div className=\"flex items-center justify-center gap-2 sm:gap-4 text-white\">\n          <div className=\"flex items-center gap-2\">\n            <BookOpen className=\"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0\" />\n            <span className=\"text-xs sm:text-sm font-semibold\">\n              <span className=\"hidden sm:inline\">FREE: Download </span>\n              <span className=\"sm:hidden\">FREE: </span>\n              \"Tips & Tricks to Clear Interview\"\n            </span>\n          </div>\n          \n          <div className=\"h-4 w-px bg-white/30 hidden sm:block\" />\n          \n          <div className=\"flex items-center gap-1.5 bg-black/20 px-2 py-1 rounded-full\">\n            <Clock className=\"h-3.5 w-3.5 animate-pulse\" />\n            <span className=\"text-xs sm:text-sm font-mono font-bold\">\n              {formatTime(timeLeft.hours)}:{formatTime(timeLeft.minutes)}:{formatTime(timeLeft.seconds)}\n            </span>\n          </div>\n          \n          <span className=\"text-xs font-medium bg-white/20 px-2 py-0.5 rounded-full hidden md:block\">\n            Click to claim\n          </span>\n        </div>\n      </div>\n\n      <button\n        onClick={handleClose}\n        className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-black/10 rounded-full transition-colors\"\n        aria-label=\"Close banner\"\n        data-testid=\"button-close-banner\"\n      >\n        <X className=\"h-4 w-4 text-white/80\" />\n      </button>\n    </div>\n  );\n}\n","path":null,"size_bytes":3691,"size_tokens":null},"client/src/components/ScoreRing.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { motion } from \"framer-motion\";\n\ninterface ScoreRingProps {\n  score: number;\n  maxScore?: number;\n  size?: number;\n  strokeWidth?: number;\n  duration?: number;\n}\n\nexport function ScoreRing({ \n  score, \n  maxScore = 100, \n  size = 200, \n  strokeWidth = 12,\n  duration = 0.7 \n}: ScoreRingProps) {\n  const [displayScore, setDisplayScore] = useState(0);\n  \n  const radius = (size - strokeWidth) / 2;\n  const circumference = 2 * Math.PI * radius;\n  const percentage = (score / maxScore) * 100;\n  const strokeDashoffset = circumference - (percentage / 100) * circumference;\n  \n  const getScoreColor = (score: number) => {\n    if (score >= 80) return \"#22c55e\";\n    if (score >= 60) return \"#8b5cf6\";\n    if (score >= 40) return \"#f59e0b\";\n    return \"#ef4444\";\n  };\n  \n  const getVerdict = (score: number) => {\n    if (score >= 80) return \"Excellent\";\n    if (score >= 60) return \"Strong\";\n    if (score >= 40) return \"Good foundation\";\n    return \"Needs work\";\n  };\n\n  useEffect(() => {\n    const startTime = Date.now();\n    const animate = () => {\n      const elapsed = Date.now() - startTime;\n      const progress = Math.min(elapsed / (duration * 1000), 1);\n      const eased = 1 - Math.pow(1 - progress, 3);\n      setDisplayScore(Math.round(score * eased));\n      \n      if (progress < 1) {\n        requestAnimationFrame(animate);\n      }\n    };\n    requestAnimationFrame(animate);\n  }, [score, duration]);\n\n  const scoreColor = getScoreColor(score);\n  const verdict = getVerdict(score);\n\n  return (\n    <div className=\"relative inline-flex items-center justify-center\">\n      <svg\n        width={size}\n        height={size}\n        viewBox={`0 0 ${size} ${size}`}\n        className=\"transform -rotate-90\"\n      >\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke=\"rgba(255,255,255,0.1)\"\n          strokeWidth={strokeWidth}\n        />\n        <motion.circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke={scoreColor}\n          strokeWidth={strokeWidth}\n          strokeLinecap=\"round\"\n          strokeDasharray={circumference}\n          initial={{ strokeDashoffset: circumference }}\n          animate={{ strokeDashoffset }}\n          transition={{ duration, ease: \"easeOut\" }}\n          style={{\n            filter: `drop-shadow(0 0 8px ${scoreColor}50)`,\n          }}\n        />\n      </svg>\n      <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n        <span \n          className=\"text-5xl font-bold\"\n          style={{ color: scoreColor }}\n          data-testid=\"text-score-value\"\n        >\n          {displayScore}\n        </span>\n        <span className=\"text-white/50 text-sm\">/100</span>\n        <span \n          className=\"mt-1 text-sm font-medium px-3 py-1 rounded-full\"\n          style={{ \n            backgroundColor: `${scoreColor}20`,\n            color: scoreColor \n          }}\n          data-testid=\"text-verdict\"\n        >\n          {verdict}\n        </span>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":3122,"size_tokens":null},"server/routes/leads.ts":{"content":"import { Router } from \"express\";\nimport { db } from \"../db\";\nimport { leads, insertLeadSchema } from \"@shared/schema\";\nimport { z } from \"zod\";\n\nconst router = Router();\n\nrouter.post(\"/submit\", async (req, res) => {\n  try {\n    const validatedData = insertLeadSchema.parse(req.body);\n    \n    const [lead] = await db.insert(leads).values({\n      name: validatedData.name,\n      phone: validatedData.phone,\n      source: (req.body.source as string) || null,\n      utmSource: validatedData.utmSource || null,\n      utmMedium: validatedData.utmMedium || null,\n      utmCampaign: validatedData.utmCampaign || null,\n    }).returning();\n    \n    res.json({ success: true, leadId: lead.id });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({ error: error.errors[0].message });\n    }\n    console.error(\"Lead submission error:\", error);\n    res.status(500).json({ error: \"Failed to submit lead\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":969,"size_tokens":null},"public/onboarding.js":{"content":"const ONBOARDING_KEY = 'bcalm_onboarding';\n\nfunction getLocalOnboarding() {\n  try {\n    const data = sessionStorage.getItem(ONBOARDING_KEY);\n    return data ? JSON.parse(data) : {};\n  } catch (e) {\n    return {};\n  }\n}\n\nfunction setLocalOnboarding(updates) {\n  try {\n    const current = getLocalOnboarding();\n    const updated = { ...current, ...updates };\n    sessionStorage.setItem(ONBOARDING_KEY, JSON.stringify(updated));\n    return updated;\n  } catch (e) {\n    console.error('Error saving to sessionStorage:', e);\n  }\n}\n\nasync function getProfile() {\n  try {\n    const response = await fetch('/api/profile/me', {\n      credentials: 'include'\n    });\n    if (!response.ok) {\n      return getLocalOnboarding();\n    }\n    const serverProfile = await response.json();\n    if (serverProfile && serverProfile.id) {\n      return serverProfile;\n    }\n    return getLocalOnboarding();\n  } catch (error) {\n    console.error('Error fetching profile:', error);\n    return getLocalOnboarding();\n  }\n}\n\nasync function saveStatus(currentStatus) {\n  setLocalOnboarding({ current_status: currentStatus });\n  \n  try {\n    const response = await fetch('/api/profile/status', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({ current_status: currentStatus })\n    });\n    return response.ok;\n  } catch (error) {\n    console.log('Saved status locally (not authenticated)');\n    return true;\n  }\n}\n\nasync function saveRole(targetRole) {\n  setLocalOnboarding({ target_role: targetRole });\n  \n  try {\n    const response = await fetch('/api/profile/role', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({ target_role: targetRole })\n    });\n    return response.ok;\n  } catch (error) {\n    console.log('Saved role locally (not authenticated)');\n    return true;\n  }\n}\n\nasync function saveExperience(yearsExperience) {\n  setLocalOnboarding({ years_experience: yearsExperience });\n  \n  try {\n    const response = await fetch('/api/profile/experience', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({ years_experience: yearsExperience })\n    });\n    return response.ok;\n  } catch (error) {\n    console.log('Saved experience locally (not authenticated)');\n    return true;\n  }\n}\n\nasync function completeOnboarding() {\n  setLocalOnboarding({ onboarding_completed: true });\n  \n  try {\n    const response = await fetch('/api/profile/complete-onboarding', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({ onboarding_completed: true })\n    });\n    return response.ok;\n  } catch (error) {\n    console.log('Marked onboarding complete locally (not authenticated)');\n    return true;\n  }\n}\n\nfunction formatExperience(years) {\n  if (years === null || years === undefined) return 'Not specified';\n  if (years === 0) return '0 years';\n  if (years <= 2) return '1–2 years';\n  if (years <= 5) return '3–5 years';\n  if (years <= 9) return '6–9 years';\n  return '10+ years';\n}\n","path":null,"size_bytes":3252,"size_tokens":null},"client/src/components/ChangeProfileModal.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList } from \"@/components/ui/command\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Check, ChevronsUpDown } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\n\nconst SUGGESTED_ROLES = [\n  'Product Manager',\n  'Product Analyst',\n  'Data Analyst',\n  'Business Analyst',\n  'Data Scientist',\n  'Software Engineer',\n  'UX Designer',\n  'Marketing Manager'\n];\n\nconst STATUS_OPTIONS = [\n  'Student / Fresher',\n  'Working Professional',\n  'Switching Careers'\n];\n\nconst EXPERIENCE_OPTIONS = [\n  { value: '0', label: '0 years' },\n  { value: '1', label: '1–2 years' },\n  { value: '3', label: '3–5 years' },\n  { value: '6', label: '6–9 years' },\n  { value: '10', label: '10+ years' }\n];\n\ninterface ChangeProfileModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  profile?: {\n    current_status?: string | null;\n    target_role?: string | null;\n    years_experience?: number | null;\n  } | null;\n  onSave?: () => void;\n}\n\nexport default function ChangeProfileModal({ open, onOpenChange, profile, onSave }: ChangeProfileModalProps) {\n  const [currentStatus, setCurrentStatus] = useState<string>(\"\");\n  const [targetRole, setTargetRole] = useState<string>(\"\");\n  const [yearsExperience, setYearsExperience] = useState<string>(\"\");\n  const [roleOpen, setRoleOpen] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n\n  useEffect(() => {\n    if (open && profile) {\n      setCurrentStatus(profile.current_status || \"\");\n      setTargetRole(profile.target_role || \"\");\n      setYearsExperience(profile.years_experience?.toString() || \"\");\n    }\n  }, [open, profile]);\n\n  useEffect(() => {\n    if (currentStatus === 'Student / Fresher' && !yearsExperience) {\n      setYearsExperience('0');\n    }\n  }, [currentStatus]);\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    try {\n      await apiRequest(\"PATCH\", \"/api/profile\", {\n        current_status: currentStatus || null,\n        target_role: targetRole || null,\n        years_experience: yearsExperience ? parseInt(yearsExperience) : null\n      });\n      \n      queryClient.invalidateQueries({ queryKey: ['/api/auth/user'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/profile/me'] });\n      \n      onSave?.();\n      onOpenChange(false);\n    } catch (error) {\n      console.error(\"Failed to save profile:\", error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[420px] bg-[#0E0A1A] border-white/10\">\n        <DialogHeader>\n          <DialogTitle className=\"text-center text-[#F5F2FF]\">Tune your CV review</DialogTitle>\n          <DialogDescription className=\"text-center text-[#8B84A6]\">\n            This helps us score more accurately.\n          </DialogDescription>\n        </DialogHeader>\n        \n        <div className=\"space-y-4 pt-4\">\n          <Select value={currentStatus} onValueChange={setCurrentStatus}>\n            <SelectTrigger className=\"bg-[#141026] border-white/10 text-[#F5F2FF]\">\n              <SelectValue placeholder=\"Select status\" />\n            </SelectTrigger>\n            <SelectContent className=\"bg-[#141026] border-white/10\">\n              {STATUS_OPTIONS.map((status) => (\n                <SelectItem key={status} value={status} className=\"text-[#F5F2FF]\">\n                  {status}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n\n          <Popover open={roleOpen} onOpenChange={setRoleOpen}>\n            <PopoverTrigger asChild>\n              <Button\n                variant=\"outline\"\n                role=\"combobox\"\n                aria-expanded={roleOpen}\n                className=\"w-full justify-between bg-[#141026] border-white/10 text-[#F5F2FF] hover:bg-[#191233]\"\n              >\n                {targetRole || \"Select or type a role\"}\n                <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent className=\"w-full p-0 bg-[#141026] border-white/10\">\n              <Command className=\"bg-transparent\">\n                <CommandInput \n                  placeholder=\"Type a role...\" \n                  value={targetRole}\n                  onValueChange={setTargetRole}\n                  className=\"text-[#F5F2FF]\"\n                />\n                <CommandList>\n                  <CommandEmpty className=\"text-[#8B84A6] py-2 text-center text-sm\">\n                    Press enter to use custom role\n                  </CommandEmpty>\n                  <CommandGroup>\n                    {SUGGESTED_ROLES.filter(role => \n                      role.toLowerCase().includes(targetRole.toLowerCase())\n                    ).map((role) => (\n                      <CommandItem\n                        key={role}\n                        value={role}\n                        onSelect={() => {\n                          setTargetRole(role);\n                          setRoleOpen(false);\n                        }}\n                        className=\"text-[#EAE6FF]\"\n                      >\n                        <Check\n                          className={cn(\n                            \"mr-2 h-4 w-4\",\n                            targetRole === role ? \"opacity-100\" : \"opacity-0\"\n                          )}\n                        />\n                        {role}\n                      </CommandItem>\n                    ))}\n                    <CommandItem\n                      value=\"not-sure\"\n                      onSelect={() => {\n                        setTargetRole(\"\");\n                        setRoleOpen(false);\n                      }}\n                      className=\"text-[#8B84A6] italic border-t border-white/5 mt-1 pt-2\"\n                    >\n                      Not sure yet — score me for general readiness\n                    </CommandItem>\n                  </CommandGroup>\n                </CommandList>\n              </Command>\n            </PopoverContent>\n          </Popover>\n\n          <Select value={yearsExperience} onValueChange={setYearsExperience}>\n            <SelectTrigger className=\"bg-[#141026] border-white/10 text-[#F5F2FF]\">\n              <SelectValue placeholder=\"Select experience\" />\n            </SelectTrigger>\n            <SelectContent className=\"bg-[#141026] border-white/10\">\n              {EXPERIENCE_OPTIONS.map((exp) => (\n                <SelectItem key={exp.value} value={exp.value} className=\"text-[#F5F2FF]\">\n                  {exp.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"flex justify-end gap-3 pt-4\">\n          <Button \n            variant=\"outline\" \n            onClick={() => onOpenChange(false)}\n            className=\"bg-transparent border-white/12 text-[#B7B0CE] hover:bg-white/5 hover:text-[#EAE6FF]\"\n          >\n            Cancel\n          </Button>\n          <Button \n            onClick={handleSave}\n            disabled={isSaving}\n            className=\"bg-[#6D4CFF] hover:bg-[#7C5CFF] text-white\"\n          >\n            {isSaving ? \"Saving...\" : \"Save\"}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":7707,"size_tokens":null},"server/routes/cv.ts":{"content":"import { Router, Request, Response } from \"express\";\nimport { optionalAuth } from \"../supabaseAuth\";\nimport { supabaseAdmin } from \"../supabaseClient\";\nimport multer from \"multer\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport { nanoid } from \"nanoid\";\nimport mammoth from \"mammoth\";\n\nconst router = Router();\n\nconst uploadDir = path.join(process.cwd(), \"uploads/cv-analysis\");\nif (!fs.existsSync(uploadDir)) {\n  fs.mkdirSync(uploadDir, { recursive: true });\n}\n\nconst upload = multer({\n  storage: multer.diskStorage({\n    destination: (req, file, cb) => {\n      cb(null, uploadDir);\n    },\n    filename: (req, file, cb) => {\n      const uniqueSuffix = Date.now() + \"-\" + Math.round(Math.random() * 1e9);\n      cb(null, uniqueSuffix + path.extname(file.originalname));\n    },\n  }),\n  limits: { fileSize: 5 * 1024 * 1024 },\n  fileFilter: (req, file, cb) => {\n    const allowedMimes = [\n      \"application/pdf\",\n      \"application/msword\",\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    ];\n    if (allowedMimes.includes(file.mimetype)) {\n      cb(null, true);\n    } else {\n      cb(new Error(\"Only PDF, DOC, and DOCX files are allowed\"));\n    }\n  },\n});\n\nasync function extractTextFromFile(filePath: string, mimeType: string): Promise<string> {\n  try {\n    if (mimeType === \"application/pdf\") {\n      const pdfParseModule = await import(\"pdf-parse\");\n      const PDFParse = pdfParseModule.PDFParse;\n      const dataBuffer = fs.readFileSync(filePath);\n      const uint8Array = new Uint8Array(dataBuffer);\n      const pdfParser = new PDFParse(uint8Array);\n      const result = await pdfParser.getText();\n      const text = typeof result === 'string' ? result : (result?.text || \"\");\n      return text;\n    } else if (\n      mimeType === \"application/msword\" ||\n      mimeType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n    ) {\n      const result = await mammoth.extractRawText({ path: filePath });\n      return result.value;\n    }\n  } catch (error) {\n    console.error(\"Error extracting text:\", error);\n  }\n  return \"\";\n}\n\nrouter.post(\"/upload\", optionalAuth, upload.single(\"cv\"), async (req: Request, res: Response) => {\n  try {\n    if (!req.file) {\n      return res.status(400).json({ message: \"CV file is required\" });\n    }\n    \n    const userId = (req as any).userId;\n    const sessionId = userId || `anon-${nanoid()}`;\n    const jdText = req.body.job_description || null;\n    \n    let currentStatus = req.body.current_status || null;\n    let targetRole = req.body.target_role || null;\n    let yearsExperience = req.body.years_experience ? parseInt(req.body.years_experience) : null;\n    \n    if (userId) {\n      const { data: profile } = await supabaseAdmin\n        .from('profiles')\n        .select('current_status, target_role, years_experience')\n        .eq('id', userId)\n        .single();\n      \n      if (profile) {\n        currentStatus = profile.current_status || currentStatus;\n        targetRole = profile.target_role || targetRole;\n        yearsExperience = profile.years_experience ?? yearsExperience;\n      }\n    }\n    \n    const cvText = await extractTextFromFile(req.file.path, req.file.mimetype);\n    \n    if (!cvText || cvText.trim().length < 50) {\n      return res.status(400).json({ message: \"Could not extract text from CV. Please upload a readable PDF or DOCX file.\" });\n    }\n\n    const personalizationQuality = targetRole ? 'full' : 'partial';\n\n    const metaSnapshot = {\n      current_status: currentStatus,\n      target_role: targetRole,\n      years_experience: yearsExperience,\n      session_id: sessionId,\n      jd_text: jdText,\n      personalization_quality: personalizationQuality\n    };\n\n    const { data: submission, error: subError } = await supabaseAdmin\n      .from('cv_submissions')\n      .insert({\n        user_id: userId,\n        cv_file_path: req.file.path,\n        cv_text: cvText,\n        meta_snapshot: metaSnapshot\n      })\n      .select()\n      .single();\n\n    if (subError) {\n      console.error(\"Error creating submission:\", subError);\n      return res.status(500).json({ message: \"Failed to create CV submission\" });\n    }\n\n    const { data: job, error: jobError } = await supabaseAdmin\n      .from('analysis_jobs')\n      .insert({\n        submission_id: submission.id,\n        user_id: userId,\n        status: 'processing'\n      })\n      .select()\n      .single();\n\n    if (jobError) {\n      console.error(\"Error creating job:\", jobError);\n      return res.status(500).json({ message: \"Failed to create analysis job\" });\n    }\n    \n    const n8nWebhookUrl = process.env.N8N_WEBHOOK_URL;\n    if (n8nWebhookUrl) {\n      try {\n        const payload = {\n          id: submission.id,\n          cv_text: cvText,\n          meta_snapshot: metaSnapshot,\n          jobId: job.id\n        };\n\n        console.log(\"Triggering n8n webhook for CV analysis:\", job.id);\n\n        const response = await fetch(n8nWebhookUrl, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(payload),\n        });\n        \n        if (!response.ok) {\n          console.error(\"n8n webhook returned error:\", response.status);\n          await supabaseAdmin\n            .from('analysis_jobs')\n            .update({ \n              status: 'failed',\n              error_text: 'Failed to connect to analysis service'\n            })\n            .eq('id', job.id);\n        }\n      } catch (webhookError) {\n        console.error(\"Error calling n8n webhook:\", webhookError);\n        await supabaseAdmin\n          .from('analysis_jobs')\n          .update({ \n            status: 'failed',\n            error_text: 'Failed to connect to analysis service'\n          })\n          .eq('id', job.id);\n      }\n    } else {\n      setTimeout(async () => {\n        const mockResult = {\n          role_preset: targetRole || \"General\",\n          overall_score: 72,\n          score_breakdown: {\n            ats: { score: 75, feedback: \"Good keyword optimization\" },\n            impact: { score: 70, feedback: \"Could use more quantifiable results\" },\n            role_signals: { score: 68, feedback: \"Role alignment is decent\" },\n            job_match: { score: 75, feedback: \"Good match overall\", skipped: !targetRole }\n          },\n          summary: \"Your CV shows solid potential with good technical skills.\",\n          top_strengths: [\n            { point: \"Strong technical background\", evidence: \"Listed relevant skills\", why_it_works: \"Demonstrates capability\" },\n            { point: \"Clear project descriptions\", evidence: \"Projects have context\", why_it_works: \"Shows practical experience\" },\n            { point: \"Good educational credentials\", evidence: \"Listed degree and institution\", why_it_works: \"Establishes credibility\" }\n          ],\n          top_fixes: [\n            { point: \"Add more metrics\", expected_lift: 5, why_weak: \"Achievements lack numbers\", recommended: \"Include percentages, numbers, or revenue impact\" },\n            { point: \"Optimize for ATS\", expected_lift: 3, why_weak: \"Some keywords missing\", recommended: \"Add industry-standard terminology\" },\n            { point: \"Strengthen summary\", expected_lift: 4, why_weak: \"Summary is generic\", recommended: \"Tailor to target role with specific achievements\" }\n          ],\n          bullet_review: [],\n          info_needed_from_user: targetRole ? [] : [\"What specific role are you targeting?\"],\n          seven_step_plan: [\n            { step: 1, action: \"Add a compelling professional summary\", priority: \"high\" },\n            { step: 2, action: \"Quantify your achievements with metrics\", priority: \"high\" },\n            { step: 3, action: \"Optimize keywords for your target role\", priority: \"medium\" },\n            { step: 4, action: \"Improve project descriptions with outcomes\", priority: \"medium\" },\n            { step: 5, action: \"Add relevant certifications if any\", priority: \"low\" },\n            { step: 6, action: \"Review formatting for ATS compatibility\", priority: \"low\" },\n            { step: 7, action: \"Get feedback from industry professionals\", priority: \"low\" }\n          ],\n          job_match_section: {\n            match_score: targetRole ? 75 : null,\n            missing_skills: [],\n            strong_matches: []\n          }\n        };\n\n        await supabaseAdmin\n          .from('analysis_jobs')\n          .update({\n            status: 'complete',\n            result_json: mockResult,\n            completed_at: new Date().toISOString()\n          })\n          .eq('id', job.id);\n      }, 5000);\n    }\n    \n    res.json({ ok: true, jobId: job.id });\n  } catch (error) {\n    console.error(\"Error uploading CV:\", error);\n    res.status(500).json({ message: \"Failed to upload CV\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":8755,"size_tokens":null},"server/routes/profile.ts":{"content":"import { Router, Request, Response } from \"express\";\nimport { isAuthenticated, optionalAuth } from \"../supabaseAuth\";\nimport { supabaseAdmin } from \"../supabaseClient\";\nimport { z } from \"zod\";\n\nconst router = Router();\n\nrouter.get(\"/me\", optionalAuth, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    \n    if (!userId) {\n      return res.json(null);\n    }\n    \n    const { data: profile, error } = await supabaseAdmin\n      .from('profiles')\n      .select('*')\n      .eq('id', userId)\n      .single();\n    \n    if (error || !profile) {\n      return res.json(null);\n    }\n    \n    res.json({\n      id: profile.id,\n      email: profile.email,\n      first_name: profile.first_name,\n      last_name: profile.last_name,\n      current_status: profile.current_status,\n      target_role: profile.target_role,\n      years_experience: profile.years_experience,\n      onboarding_completed: profile.onboarding_status === 'complete',\n      onboarding_status: profile.onboarding_status\n    });\n  } catch (error) {\n    console.error(\"Error fetching profile:\", error);\n    res.status(500).json({ message: \"Failed to fetch profile\" });\n  }\n});\n\nconst statusSchema = z.object({\n  current_status: z.string().nullable()\n});\n\nrouter.post(\"/status\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    const { current_status } = statusSchema.parse(req.body);\n    \n    const { error } = await supabaseAdmin\n      .from('profiles')\n      .update({\n        current_status: current_status,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', userId);\n    \n    if (error) {\n      console.error(\"Error updating status:\", error);\n      return res.status(500).json({ message: \"Failed to update status\" });\n    }\n    \n    res.json({ success: true });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n    }\n    console.error(\"Error updating status:\", error);\n    res.status(500).json({ message: \"Failed to update status\" });\n  }\n});\n\nconst roleSchema = z.object({\n  target_role: z.string().nullable()\n});\n\nrouter.post(\"/role\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    const { target_role } = roleSchema.parse(req.body);\n    \n    const { error } = await supabaseAdmin\n      .from('profiles')\n      .update({\n        target_role: target_role,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', userId);\n    \n    if (error) {\n      console.error(\"Error updating role:\", error);\n      return res.status(500).json({ message: \"Failed to update role\" });\n    }\n    \n    res.json({ success: true });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n    }\n    console.error(\"Error updating role:\", error);\n    res.status(500).json({ message: \"Failed to update role\" });\n  }\n});\n\nconst experienceSchema = z.object({\n  years_experience: z.number().nullable()\n});\n\nrouter.post(\"/experience\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    const { years_experience } = experienceSchema.parse(req.body);\n    \n    const { error } = await supabaseAdmin\n      .from('profiles')\n      .update({\n        years_experience: years_experience,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', userId);\n    \n    if (error) {\n      console.error(\"Error updating experience:\", error);\n      return res.status(500).json({ message: \"Failed to update experience\" });\n    }\n    \n    res.json({ success: true });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n    }\n    console.error(\"Error updating experience:\", error);\n    res.status(500).json({ message: \"Failed to update experience\" });\n  }\n});\n\nconst profileUpdateSchema = z.object({\n  current_status: z.string().nullable().optional(),\n  target_role: z.string().nullable().optional(),\n  years_experience: z.number().nullable().optional()\n});\n\nrouter.patch(\"/\", optionalAuth, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    const parsed = profileUpdateSchema.parse(req.body);\n    \n    if (!userId) {\n      return res.json({ \n        success: true, \n        message: \"Saved locally (not authenticated)\",\n        ...parsed\n      });\n    }\n    \n    const updateData: any = {\n      updated_at: new Date().toISOString()\n    };\n    \n    if (parsed.current_status !== undefined) {\n      updateData.current_status = parsed.current_status;\n    }\n    if (parsed.target_role !== undefined) {\n      updateData.target_role = parsed.target_role;\n    }\n    if (parsed.years_experience !== undefined) {\n      updateData.years_experience = parsed.years_experience;\n    }\n    \n    const { data: profile, error } = await supabaseAdmin\n      .from('profiles')\n      .update(updateData)\n      .eq('id', userId)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error(\"Error updating profile:\", error);\n      return res.status(500).json({ message: \"Failed to update profile\" });\n    }\n    \n    res.json({\n      success: true,\n      id: profile.id,\n      current_status: profile.current_status,\n      target_role: profile.target_role,\n      years_experience: profile.years_experience\n    });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n    }\n    console.error(\"Error updating profile:\", error);\n    res.status(500).json({ message: \"Failed to update profile\" });\n  }\n});\n\nrouter.post(\"/complete-onboarding\", isAuthenticated, async (req: Request, res: Response) => {\n  try {\n    const userId = (req as any).userId;\n    \n    const { data: profile, error: fetchError } = await supabaseAdmin\n      .from('profiles')\n      .select('*')\n      .eq('id', userId)\n      .single();\n    \n    if (fetchError || !profile) {\n      return res.status(404).json({ message: \"Profile not found\" });\n    }\n    \n    const hasRole = !!profile.target_role;\n    const hasExperience = profile.years_experience !== null && profile.years_experience !== undefined;\n    const personalizationQuality = hasRole && hasExperience ? \"full\" : \"partial\";\n    \n    const { error } = await supabaseAdmin\n      .from('profiles')\n      .update({\n        onboarding_status: 'complete',\n        personalization_quality: personalizationQuality,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', userId);\n    \n    if (error) {\n      console.error(\"Error completing onboarding:\", error);\n      return res.status(500).json({ message: \"Failed to complete onboarding\" });\n    }\n    \n    res.json({ success: true, onboarding_completed: true });\n  } catch (error) {\n    console.error(\"Error completing onboarding:\", error);\n    res.status(500).json({ message: \"Failed to complete onboarding\" });\n  }\n});\n\nexport default router;\n","path":null,"size_bytes":7114,"size_tokens":null},"public/change-profile-modal.js":{"content":"const SUGGESTED_ROLES = [\n  'Product Manager',\n  'Product Analyst',\n  'Data Analyst',\n  'Business Analyst',\n  'Data Scientist',\n  'Software Engineer',\n  'UX Designer',\n  'Marketing Manager'\n];\n\nconst STATUS_OPTIONS = [\n  'Student / Fresher',\n  'Working Professional',\n  'Switching Careers'\n];\n\nconst EXPERIENCE_OPTIONS = [\n  { value: '0', label: '0 years' },\n  { value: '1', label: '1–2 years' },\n  { value: '3', label: '3–5 years' },\n  { value: '6', label: '6–9 years' },\n  { value: '10', label: '10+ years' }\n];\n\nlet modalState = {\n  current_status: null,\n  target_role: null,\n  years_experience: null\n};\n\nlet onSaveCallback = null;\n\nfunction createChangeProfileModal() {\n  if (document.getElementById('changeProfileModal')) return;\n  \n  const overlay = document.createElement('div');\n  overlay.id = 'changeProfileModal';\n  overlay.className = 'modal-overlay';\n  \n  overlay.innerHTML = `\n    <div class=\"modal\">\n      <h2 class=\"modal-title\">Tune your CV review</h2>\n      <p class=\"modal-subtitle\">This helps us score more accurately.</p>\n      \n      <div class=\"modal-field\">\n        <select class=\"modal-select\" id=\"modalStatusSelect\">\n          <option value=\"\">Select status</option>\n          ${STATUS_OPTIONS.map(s => `<option value=\"${s}\">${s}</option>`).join('')}\n        </select>\n      </div>\n      \n      <div class=\"modal-field\">\n        <div class=\"modal-combo-container\">\n          <input \n            type=\"text\" \n            class=\"modal-combo-input\" \n            id=\"modalRoleInput\"\n            placeholder=\"Type or select a role\"\n            autocomplete=\"off\"\n          />\n          <div class=\"modal-combo-dropdown\" id=\"modalRoleDropdown\"></div>\n        </div>\n      </div>\n      \n      <div class=\"modal-field\">\n        <select class=\"modal-select\" id=\"modalExperienceSelect\">\n          <option value=\"\">Select experience</option>\n          ${EXPERIENCE_OPTIONS.map(e => `<option value=\"${e.value}\">${e.label}</option>`).join('')}\n        </select>\n      </div>\n      \n      <div class=\"modal-buttons\">\n        <button class=\"modal-btn modal-btn-cancel\" id=\"modalCancelBtn\">Cancel</button>\n        <button class=\"modal-btn modal-btn-save\" id=\"modalSaveBtn\">Save</button>\n      </div>\n    </div>\n  `;\n  \n  document.body.appendChild(overlay);\n  \n  setupModalListeners();\n}\n\nfunction setupModalListeners() {\n  const overlay = document.getElementById('changeProfileModal');\n  const statusSelect = document.getElementById('modalStatusSelect');\n  const roleInput = document.getElementById('modalRoleInput');\n  const roleDropdown = document.getElementById('modalRoleDropdown');\n  const experienceSelect = document.getElementById('modalExperienceSelect');\n  const cancelBtn = document.getElementById('modalCancelBtn');\n  const saveBtn = document.getElementById('modalSaveBtn');\n  \n  overlay.addEventListener('click', (e) => {\n    if (e.target === overlay) {\n      closeChangeProfileModal();\n    }\n  });\n  \n  statusSelect.addEventListener('change', () => {\n    modalState.current_status = statusSelect.value || null;\n    \n    if (statusSelect.value === 'Student / Fresher' && !experienceSelect.value) {\n      experienceSelect.value = '0';\n      modalState.years_experience = 0;\n    }\n  });\n  \n  roleInput.addEventListener('focus', () => {\n    showRoleDropdown();\n  });\n  \n  roleInput.addEventListener('input', () => {\n    modalState.target_role = roleInput.value || null;\n    showRoleDropdown();\n  });\n  \n  document.addEventListener('click', (e) => {\n    if (!e.target.closest('.modal-combo-container')) {\n      roleDropdown.classList.remove('visible');\n    }\n  });\n  \n  experienceSelect.addEventListener('change', () => {\n    modalState.years_experience = experienceSelect.value ? parseInt(experienceSelect.value) : null;\n  });\n  \n  cancelBtn.addEventListener('click', closeChangeProfileModal);\n  \n  saveBtn.addEventListener('click', async () => {\n    saveBtn.disabled = true;\n    saveBtn.textContent = 'Saving...';\n    \n    try {\n      setLocalOnboarding({\n        current_status: modalState.current_status,\n        target_role: modalState.target_role,\n        years_experience: modalState.years_experience\n      });\n      \n      const response = await fetch('/api/profile', {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({\n          current_status: modalState.current_status,\n          target_role: modalState.target_role,\n          years_experience: modalState.years_experience\n        })\n      });\n      \n      if (onSaveCallback) {\n        onSaveCallback(modalState);\n      }\n      \n      closeChangeProfileModal();\n    } catch (error) {\n      console.error('Error saving profile:', error);\n    } finally {\n      saveBtn.disabled = false;\n      saveBtn.textContent = 'Save';\n    }\n  });\n}\n\nfunction showRoleDropdown() {\n  const roleInput = document.getElementById('modalRoleInput');\n  const roleDropdown = document.getElementById('modalRoleDropdown');\n  const inputValue = roleInput.value.toLowerCase();\n  \n  const filtered = SUGGESTED_ROLES.filter(role => \n    role.toLowerCase().includes(inputValue)\n  );\n  \n  let html = filtered.map(role => \n    `<div class=\"modal-combo-option\" data-value=\"${role}\">${role}</div>`\n  ).join('');\n  \n  html += `<div class=\"modal-combo-option safe-option-item\" data-value=\"\">Not sure yet — score me for general readiness</div>`;\n  \n  roleDropdown.innerHTML = html;\n  roleDropdown.classList.add('visible');\n  \n  roleDropdown.querySelectorAll('.modal-combo-option').forEach(opt => {\n    opt.addEventListener('click', () => {\n      const value = opt.dataset.value;\n      roleInput.value = value;\n      modalState.target_role = value || null;\n      roleDropdown.classList.remove('visible');\n    });\n  });\n}\n\nfunction openChangeProfileModal(profile, callback) {\n  createChangeProfileModal();\n  \n  onSaveCallback = callback;\n  \n  modalState = {\n    current_status: profile?.current_status || null,\n    target_role: profile?.target_role || null,\n    years_experience: profile?.years_experience ?? null\n  };\n  \n  const statusSelect = document.getElementById('modalStatusSelect');\n  const roleInput = document.getElementById('modalRoleInput');\n  const experienceSelect = document.getElementById('modalExperienceSelect');\n  \n  statusSelect.value = modalState.current_status || '';\n  roleInput.value = modalState.target_role || '';\n  \n  if (modalState.years_experience !== null) {\n    const expValue = EXPERIENCE_OPTIONS.find(e => parseInt(e.value) === modalState.years_experience);\n    experienceSelect.value = expValue ? expValue.value : '';\n  } else {\n    experienceSelect.value = '';\n  }\n  \n  document.getElementById('changeProfileModal').classList.add('visible');\n}\n\nfunction closeChangeProfileModal() {\n  const overlay = document.getElementById('changeProfileModal');\n  if (overlay) {\n    overlay.classList.remove('visible');\n  }\n}\n\nfunction formatTuningSummary(profile) {\n  const role = profile?.target_role || 'General readiness';\n  const status = profile?.current_status || 'Not specified';\n  const exp = formatExperience(profile?.years_experience);\n  return `Scoring for: ${role} · ${status} · ${exp}`;\n}\n","path":null,"size_bytes":7168,"size_tokens":null},"public/onboarding.css":{"content":"/* =========================\n   BCALM Onboarding Theme v2\n   (contrast + hierarchy fix)\n   Drop-in replacement\n========================= */\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n\n  /* darker base + subtle purple vignette */\n  background:\n    radial-gradient(1200px 800px at 50% -10%, #120A24 0%, transparent 60%),\n    radial-gradient(900px 700px at 10% 20%, #0F0830 0%, transparent 55%),\n    linear-gradient(180deg, #07040F 0%, #07040F 100%);\n\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #F5F2FF;\n  padding: 20px;\n}\n\n.container {\n  width: 100%;\n  max-width: 480px;\n  animation: fadeIn 0.4s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Main card surface now pops from bg */\n.card {\n  background: #0E0A1A;\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 18px;\n  padding: 32px;\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.55);\n  backdrop-filter: blur(8px);\n}\n\n/* Clearer hierarchy */\n.step-indicator {\n  font-size: 13px;\n  color: #8B84A6;\n  margin-bottom: 22px;\n  text-align: center;\n}\n\n.title {\n  font-size: 26px;\n  font-weight: 700;\n  margin-bottom: 8px;\n  text-align: center;\n  line-height: 1.3;\n  color: #F5F2FF;\n}\n\n.subtitle {\n  font-size: 15px;\n  color: #B7B0CE;\n  margin-bottom: 26px;\n  text-align: center;\n  line-height: 1.5;\n}\n\n.helper-text {\n  font-size: 13px;\n  color: #8B84A6;\n  margin-top: -14px;\n  margin-bottom: 22px;\n  text-align: center;\n  font-style: italic;\n}\n\n.options-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 26px;\n}\n\n/* Option cards use elevated neutral surface */\n.option {\n  display: flex;\n  align-items: flex-start;\n  gap: 14px;\n  padding: 16px;\n  background: #141026;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.18s ease;\n}\n\n.option:hover {\n  background: #191233;\n  border-color: rgba(109, 76, 255, 0.55);\n  transform: translateY(-1px);\n}\n\n.option.selected {\n  background: rgba(109, 76, 255, 0.12);\n  border-color: #6D4CFF;\n}\n\n/* Radio sharper */\n.option-radio {\n  width: 20px;\n  height: 20px;\n  border: 2px solid rgba(245, 242, 255, 0.35);\n  border-radius: 50%;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 2px;\n  transition: all 0.18s ease;\n}\n\n.option.selected .option-radio {\n  border-color: #6D4CFF;\n  background: #6D4CFF;\n  box-shadow: 0 0 0 3px rgba(109, 76, 255, 0.25);\n}\n\n.option.selected .option-radio::after {\n  content: '';\n  width: 8px;\n  height: 8px;\n  background: white;\n  border-radius: 50%;\n}\n\n.option-content {\n  flex: 1;\n}\n\n.option-label {\n  font-size: 16px;\n  font-weight: 600;\n  margin-bottom: 4px;\n  color: #F5F2FF;\n}\n\n.option-description {\n  font-size: 13px;\n  color: #8B84A6;\n  line-height: 1.45;\n}\n\n.section-label {\n  font-size: 13px;\n  color: #8B84A6;\n  margin-bottom: 10px;\n  font-weight: 600;\n}\n\n.chips-container {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-bottom: 18px;\n}\n\n/* Chips: clearer default, solid selected */\n.chip {\n  padding: 8px 16px;\n  background: transparent;\n  border: 1px solid rgba(255, 255, 255, 0.10);\n  border-radius: 20px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.18s ease;\n  color: #EAE6FF;\n}\n\n.chip:hover {\n  background: rgba(255, 255, 255, 0.04);\n  border-color: rgba(109, 76, 255, 0.55);\n}\n\n.chip.selected {\n  background: #6D4CFF;\n  border-color: #6D4CFF;\n  color: white;\n  transform: scale(1.02);\n  box-shadow: 0 8px 20px rgba(109, 76, 255, 0.35);\n}\n\n.search-input {\n  width: 100%;\n  padding: 14px 16px;\n  background: #141026;\n  border: 1px solid rgba(255, 255, 255, 0.10);\n  border-radius: 10px;\n  font-size: 15px;\n  color: #F5F2FF;\n  margin-bottom: 14px;\n  transition: all 0.18s ease;\n}\n\n.search-input::placeholder {\n  color: #8B84A6;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: rgba(109, 76, 255, 0.8);\n  background: #191233;\n  box-shadow: 0 0 0 3px rgba(109, 76, 255, 0.18);\n}\n\n/* safe option stays neutral but clearer */\n.safe-option {\n  width: 100%;\n  padding: 12px 16px;\n  background: transparent;\n  border: 1px dashed rgba(255, 255, 255, 0.18);\n  border-radius: 10px;\n  font-size: 14px;\n  color: #B7B0CE;\n  cursor: pointer;\n  transition: all 0.18s ease;\n  margin-bottom: 22px;\n}\n\n.safe-option:hover {\n  background: rgba(255, 255, 255, 0.03);\n  border-color: rgba(109, 76, 255, 0.55);\n  color: #EAE6FF;\n}\n\n.safe-option.selected {\n  background: rgba(109, 76, 255, 0.10);\n  border-color: #6D4CFF;\n  border-style: solid;\n  color: #EAE6FF;\n}\n\n/* Buttons */\n.buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.buttons-row {\n  display: flex;\n  gap: 12px;\n}\n\n.btn {\n  padding: 14px 24px;\n  border-radius: 10px;\n  font-size: 15px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.18s ease;\n  border: none;\n  text-align: center;\n  text-decoration: none;\n}\n\n/* Primary now clearly active */\n.btn-primary {\n  background: #6D4CFF;\n  color: #fff;\n  flex: 1;\n  box-shadow: 0 10px 30px rgba(109, 76, 255, 0.35);\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: #7C5CFF;\n  transform: translateY(-1px);\n  box-shadow: 0 12px 36px rgba(109, 76, 255, 0.45);\n}\n\n.btn-primary:disabled {\n  background: rgba(109, 76, 255, 0.25);\n  color: rgba(255, 255, 255, 0.6);\n  box-shadow: none;\n  cursor: not-allowed;\n}\n\n/* Secondary kept neutral */\n.btn-secondary {\n  background: #141026;\n  border: 1px solid rgba(255, 255, 255, 0.10);\n  color: #EAE6FF;\n  padding: 14px 20px;\n}\n\n.btn-secondary:hover {\n  background: #191233;\n}\n\n.skip-link {\n  text-align: center;\n  font-size: 14px;\n  color: #8B84A6;\n  cursor: pointer;\n  transition: color 0.18s ease;\n  background: none;\n  border: none;\n  width: 100%;\n  padding: 8px;\n}\n\n.skip-link:hover {\n  color: #EAE6FF;\n}\n\n/* Dropzone becomes obvious hero */\n.dropzone {\n  border: 2px dashed rgba(255, 255, 255, 0.12);\n  background: #141026;\n  border-radius: 12px;\n  padding: 38px 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.18s ease;\n  margin-bottom: 18px;\n}\n\n.dropzone:hover,\n.dropzone.dragover {\n  border-color: #6D4CFF;\n  background: rgba(109, 76, 255, 0.08);\n}\n\n.dropzone.has-file {\n  border-color: #6D4CFF;\n  background: rgba(109, 76, 255, 0.12);\n}\n\n.dropzone-icon {\n  width: 48px;\n  height: 48px;\n  margin: 0 auto 14px;\n  opacity: 0.8;\n}\n\n.dropzone-text {\n  font-size: 15px;\n  color: #F5F2FF;\n  margin-bottom: 4px;\n}\n\n.dropzone-subtext {\n  font-size: 13px;\n  color: #8B84A6;\n}\n\n.file-name {\n  font-size: 14px;\n  color: #C4B5FD;\n  margin-top: 10px;\n  word-break: break-all;\n}\n\n/* JD toggle uses inner panel surface */\n.toggle-container {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 16px;\n  background: #141026;\n  border: 1px solid rgba(255, 255, 255, 0.06);\n  border-radius: 10px;\n  margin-bottom: 18px;\n  cursor: pointer;\n}\n\n.toggle {\n  width: 44px;\n  height: 24px;\n  background: rgba(255, 255, 255, 0.14);\n  border-radius: 12px;\n  position: relative;\n  transition: background 0.18s ease;\n  flex-shrink: 0;\n}\n\n.toggle.active {\n  background: #6D4CFF;\n}\n\n.toggle::after {\n  content: '';\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border-radius: 50%;\n  top: 3px;\n  left: 3px;\n  transition: transform 0.18s ease;\n}\n\n.toggle.active::after {\n  transform: translateX(20px);\n}\n\n.toggle-label {\n  font-size: 14px;\n  color: #EAE6FF;\n}\n\n.jd-input {\n  display: none;\n  margin-bottom: 18px;\n}\n\n.jd-input.visible {\n  display: block;\n}\n\n.jd-textarea {\n  width: 100%;\n  min-height: 120px;\n  padding: 14px 16px;\n  background: #141026;\n  border: 1px solid rgba(255, 255, 255, 0.10);\n  border-radius: 10px;\n  font-size: 14px;\n  color: #F5F2FF;\n  resize: vertical;\n  font-family: inherit;\n}\n\n.jd-textarea::placeholder {\n  color: #8B84A6;\n}\n\n.jd-textarea:focus {\n  outline: none;\n  border-color: rgba(109, 76, 255, 0.8);\n  box-shadow: 0 0 0 3px rgba(109, 76, 255, 0.18);\n}\n\n/* Benefits list is more readable */\n.benefits-list {\n  margin-bottom: 18px;\n}\n\n.benefit-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n  margin-bottom: 10px;\n  font-size: 14px;\n  color: #B7B0CE;\n}\n\n.benefit-icon {\n  color: #6D4CFF;\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.privacy-line {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-size: 13px;\n  color: #8B84A6;\n  margin-bottom: 22px;\n}\n\n.privacy-icon {\n  width: 14px;\n  height: 14px;\n  opacity: 0.8;\n}\n\n.context-footer {\n  margin-top: 22px;\n  padding-top: 18px;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  font-size: 13px;\n  color: #8B84A6;\n  text-align: center;\n}\n\n.file-input {\n  display: none;\n}\n\n@media (max-width: 520px) {\n  .card {\n    padding: 24px;\n  }\n\n  .title {\n    font-size: 22px;\n  }\n\n  .buttons-row {\n    flex-direction: column;\n  }\n\n  .btn-secondary {\n    order: 1;\n  }\n}","path":null,"size_bytes":8969,"size_tokens":null},"public/upload.js":{"content":"let selectedFile = null;\nlet jdEnabled = false;\nlet onboardingData = null;\n\nconst dropzone = document.getElementById('dropzone');\nconst fileInput = document.getElementById('fileInput');\nconst fileName = document.getElementById('fileName');\nconst analyzeBtn = document.getElementById('analyzeBtn');\nconst toggle = document.getElementById('toggle');\nconst jdToggle = document.getElementById('jdToggle');\nconst jdInput = document.getElementById('jdInput');\n\nasync function initUploadPage() {\n  const profile = await getProfile();\n  onboardingData = profile;\n  \n  const contextRole = document.getElementById('contextRole');\n  const contextStatus = document.getElementById('contextStatus');\n  const contextExperience = document.getElementById('contextExperience');\n  \n  contextRole.textContent = profile?.target_role || 'General readiness';\n  contextStatus.textContent = profile?.current_status || 'Not specified';\n  contextExperience.textContent = formatExperience(profile?.years_experience);\n}\n\ndropzone.addEventListener('click', () => {\n  fileInput.click();\n});\n\ndropzone.addEventListener('dragover', (e) => {\n  e.preventDefault();\n  dropzone.classList.add('dragover');\n});\n\ndropzone.addEventListener('dragleave', () => {\n  dropzone.classList.remove('dragover');\n});\n\ndropzone.addEventListener('drop', (e) => {\n  e.preventDefault();\n  dropzone.classList.remove('dragover');\n  \n  const files = e.dataTransfer.files;\n  if (files.length > 0) {\n    handleFile(files[0]);\n  }\n});\n\nfileInput.addEventListener('change', (e) => {\n  if (e.target.files.length > 0) {\n    handleFile(e.target.files[0]);\n  }\n});\n\nfunction handleFile(file) {\n  const validTypes = [\n    'application/pdf',\n    'application/msword',\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n  ];\n  \n  if (!validTypes.includes(file.type)) {\n    alert('Please upload a PDF, DOC, or DOCX file.');\n    return;\n  }\n  \n  selectedFile = file;\n  fileName.textContent = file.name;\n  dropzone.classList.add('has-file');\n  analyzeBtn.disabled = false;\n}\n\njdToggle.addEventListener('click', () => {\n  jdEnabled = !jdEnabled;\n  toggle.classList.toggle('active', jdEnabled);\n  jdInput.classList.toggle('visible', jdEnabled);\n});\n\nanalyzeBtn.addEventListener('click', async () => {\n  if (!selectedFile) return;\n  \n  analyzeBtn.disabled = true;\n  analyzeBtn.textContent = 'Uploading...';\n  \n  const formData = new FormData();\n  formData.append('cv', selectedFile);\n  \n  if (jdEnabled) {\n    const jdText = document.getElementById('jdTextarea').value.trim();\n    if (jdText) {\n      formData.append('job_description', jdText);\n    }\n  }\n  \n  if (onboardingData) {\n    if (onboardingData.current_status) {\n      formData.append('current_status', onboardingData.current_status);\n    }\n    if (onboardingData.target_role) {\n      formData.append('target_role', onboardingData.target_role);\n    }\n    if (onboardingData.years_experience !== null && onboardingData.years_experience !== undefined) {\n      formData.append('years_experience', String(onboardingData.years_experience));\n    }\n  }\n  \n  try {\n    const response = await fetch('/api/cv/upload', {\n      method: 'POST',\n      credentials: 'include',\n      body: formData\n    });\n    \n    if (!response.ok) {\n      throw new Error('Upload failed');\n    }\n    \n    const result = await response.json();\n    \n    if (result.jobId) {\n      window.location.href = `/processing?jobId=${result.jobId}`;\n    } else {\n      throw new Error('No job ID returned');\n    }\n  } catch (error) {\n    console.error('Upload error:', error);\n    alert('Failed to upload CV. Please try again.');\n    analyzeBtn.disabled = false;\n    analyzeBtn.textContent = 'Analyze my CV';\n  }\n});\n\ninitUploadPage();\n","path":null,"size_bytes":3705,"size_tokens":null},"client/src/components/DesktopFloatingCTA.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { X } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\nconst DISMISS_KEY = \"bcalm_cta_dismissed_until\";\nconst DISMISS_DURATION_DAYS = 7;\nconst SCROLL_THRESHOLD = 0.18;\n\nexport default function DesktopFloatingCTA() {\n  const [location, navigate] = useLocation();\n  const { isAuthenticated } = useAuth();\n  const [isVisible, setIsVisible] = useState(false);\n  const [isDismissed, setIsDismissed] = useState(() => {\n    const dismissedUntil = localStorage.getItem(DISMISS_KEY);\n    if (dismissedUntil && Date.now() < parseInt(dismissedUntil)) {\n      return true;\n    }\n    localStorage.removeItem(DISMISS_KEY);\n    return false;\n  });\n\n  useEffect(() => {\n    if (isDismissed) return;\n\n    const handleScroll = () => {\n      const scrollPercentage = window.scrollY / (document.documentElement.scrollHeight - window.innerHeight);\n      if (scrollPercentage >= SCROLL_THRESHOLD) {\n        setIsVisible(true);\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n    handleScroll();\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, [isDismissed]);\n\n  const shouldHide = location.startsWith(\"/onboarding\") || \n                     location.startsWith(\"/upload\") || \n                     location.startsWith(\"/app\") ||\n                     location.startsWith(\"/start\");\n\n  if (shouldHide || isDismissed) {\n    return null;\n  }\n\n  const handleDismiss = () => {\n    const dismissUntil = Date.now() + DISMISS_DURATION_DAYS * 24 * 60 * 60 * 1000;\n    localStorage.setItem(DISMISS_KEY, dismissUntil.toString());\n    setIsDismissed(true);\n    setIsVisible(false);\n  };\n\n  const handleCTAClick = () => {\n    setIsVisible(false);\n    if (isAuthenticated) {\n      navigate(\"/upload\");\n    } else {\n      navigate(\"/start\");\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          initial={{ opacity: 0, x: 50 }}\n          animate={{ opacity: 1, x: 0 }}\n          exit={{ opacity: 0, x: 50 }}\n          transition={{ duration: 0.3, ease: \"easeOut\" }}\n          className=\"fixed z-40 hidden lg:block\"\n          style={{\n            right: '24px',\n            top: '58%',\n            transform: 'translateY(-58%)',\n          }}\n          data-testid=\"desktop-floating-cta\"\n        >\n          <div\n            className=\"relative\"\n            style={{\n              width: '260px',\n              borderRadius: '16px',\n              background: 'rgba(40, 25, 60, 0.95)',\n              border: '1px solid rgba(255, 255, 255, 0.1)',\n              boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4), 0 0 60px rgba(138, 43, 226, 0.1)',\n              padding: '20px',\n            }}\n          >\n            <button\n              onClick={handleDismiss}\n              className=\"absolute top-2 right-2 w-6 h-6 flex items-center justify-center text-white/50 hover:text-white/80 transition-colors\"\n              data-testid=\"button-dismiss-floating-cta\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n\n            <p className=\"text-white/90 text-sm font-medium mb-4 pr-4\">\n              Get a clear CV review\n            </p>\n\n            <Button\n              onClick={handleCTAClick}\n              className=\"w-full font-semibold hover:brightness-110 transition-all\"\n              style={{\n                background: 'linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)',\n                boxShadow: '0 4px 16px rgba(139, 92, 246, 0.3)',\n              }}\n              data-testid=\"button-check-cv-floating\"\n            >\n              Check my CV\n            </Button>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","path":null,"size_bytes":3868,"size_tokens":null},"client/src/components/LeadModal.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Loader2, X } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface LeadModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport default function LeadModal({ open, onOpenChange }: LeadModalProps) {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [formData, setFormData] = useState({\n    fullName: \"\",\n    mobile: \"\"\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.fullName.trim()) {\n      toast({\n        title: \"Name required\",\n        description: \"Please enter your full name.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!/^[6-9]\\d{9}$/.test(formData.mobile)) {\n      toast({\n        title: \"Invalid mobile number\",\n        description: \"Please enter a valid 10-digit Indian mobile number.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    setIsSubmitting(true);\n    \n    try {\n      const response = await fetch(\"/api/leads/submit\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: formData.fullName.trim(),\n          phone: formData.mobile,\n          source: \"nav_start_for_free\"\n        }),\n      });\n\n      if (!response.ok) {\n        console.error(\"Lead submission failed\");\n      }\n      \n      sessionStorage.setItem(\"lead_name\", formData.fullName.trim());\n      sessionStorage.setItem(\"lead_mobile\", formData.mobile);\n      \n      onOpenChange(false);\n      navigate(\"/onboarding\");\n    } catch (error) {\n      console.error(\"Lead submission error:\", error);\n      sessionStorage.setItem(\"lead_name\", formData.fullName.trim());\n      sessionStorage.setItem(\"lead_mobile\", formData.mobile);\n      onOpenChange(false);\n      navigate(\"/onboarding\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent \n        className=\"sm:max-w-[400px] p-0 border-0 bg-transparent\"\n        style={{ background: 'none' }}\n      >\n        <div \n          className=\"relative rounded-2xl p-6\"\n          style={{\n            background: 'linear-gradient(135deg, rgba(30, 20, 50, 0.95) 0%, rgba(20, 12, 40, 0.98) 100%)',\n            border: '1px solid rgba(167, 139, 250, 0.25)',\n            boxShadow: '0 0 40px rgba(139, 92, 246, 0.25), 0 25px 50px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.08)',\n            backdropFilter: 'blur(8px)',\n          }}\n        >\n          {/* Close button */}\n          <button\n            onClick={() => onOpenChange(false)}\n            className=\"absolute top-4 right-4 text-white/40 hover:text-white/80 transition-colors\"\n            data-testid=\"button-close-lead-modal\"\n          >\n            <X className=\"h-5 w-5\" />\n          </button>\n\n          {/* Title */}\n          <h2 className=\"text-2xl font-bold text-white mb-2\">\n            Start your journey\n          </h2>\n          \n          {/* Subtitle */}\n          <p className=\"text-white/60 text-sm mb-6\">\n            Get your plan + CV score in minutes.\n          </p>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"fullName\" className=\"text-white/80 text-sm font-medium\">\n                Full name\n              </Label>\n              <Input\n                id=\"fullName\"\n                type=\"text\"\n                placeholder=\"Enter your name\"\n                value={formData.fullName}\n                onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\n                className=\"mt-1.5 h-12 bg-[#1a0033] border-white/15 text-white placeholder:text-white/40 focus:border-violet-500 focus:ring-violet-500/20 rounded-xl\"\n                data-testid=\"input-lead-name\"\n              />\n            </div>\n            \n            <div>\n              <Label htmlFor=\"mobile\" className=\"text-white/80 text-sm font-medium\">\n                Mobile number\n              </Label>\n              <Input\n                id=\"mobile\"\n                type=\"tel\"\n                placeholder=\"10-digit mobile number\"\n                value={formData.mobile}\n                onChange={(e) => setFormData({ ...formData, mobile: e.target.value.replace(/\\D/g, '').slice(0, 10) })}\n                className=\"mt-1.5 h-12 bg-[#1a0033] border-white/15 text-white placeholder:text-white/40 focus:border-violet-500 focus:ring-violet-500/20 rounded-xl\"\n                data-testid=\"input-lead-mobile\"\n              />\n            </div>\n            \n            <Button \n              type=\"submit\"\n              className=\"w-full h-12 text-base font-bold rounded-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]\"\n              style={{\n                background: 'linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)',\n                border: '1px solid rgba(167, 139, 250, 0.4)',\n                boxShadow: '0 4px 20px rgba(139, 92, 246, 0.5), inset 0 1px 0 rgba(255,255,255,0.15)',\n              }}\n              disabled={isSubmitting}\n              data-testid=\"button-lead-continue\"\n            >\n              {isSubmitting ? (\n                <>\n                  <Loader2 className=\"mr-2 w-4 h-4 animate-spin\" />\n                  Submitting...\n                </>\n              ) : (\n                \"Continue\"\n              )}\n            </Button>\n            \n            {/* Reassurance line */}\n            <p className=\"text-white/40 text-xs text-center\">\n              No spam. We'll only use this to share your score & plan.\n            </p>\n          </form>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":6036,"size_tokens":null},"client/src/pages/AuthPage.tsx":{"content":"import { useLocation } from \"wouter\";\nimport AuthCard from \"@/components/AuthCard\";\n\nexport default function AuthPage() {\n  const [, navigate] = useLocation();\n\n  const handleSuccess = () => {\n    const returnTo = sessionStorage.getItem(\"auth_return_to\") || \"/start\";\n    sessionStorage.removeItem(\"auth_return_to\");\n    navigate(returnTo);\n  };\n\n  return (\n    <div\n      className=\"min-h-screen flex items-center justify-center px-4 py-8\"\n      style={{\n        background: \"linear-gradient(to bottom, #0a0014, #110022, #1a0033)\",\n      }}\n    >\n      <AuthCard onSuccess={handleSuccess} />\n    </div>\n  );\n}\n","path":null,"size_bytes":611,"size_tokens":null},"client/src/components/AuthCard.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { GraduationCap, Loader2 } from \"lucide-react\";\nimport { SiGoogle } from \"react-icons/si\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { signInWithGoogle, signInWithEmail, signUpWithEmail, resetPassword } from \"@/lib/supabase\";\n\ntype AuthCardMode = \"default\" | \"forgot-password\";\n\ninterface AuthCardProps {\n  onSuccess?: () => void;\n  className?: string;\n}\n\nexport default function AuthCard({ onSuccess, className = \"\" }: AuthCardProps) {\n  const [mode, setMode] = useState<AuthCardMode>(\"default\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [showNewUserHint, setShowNewUserHint] = useState(false);\n  const [resetSent, setResetSent] = useState(false);\n  \n  const emailInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    setError(null);\n    setShowNewUserHint(false);\n    setResetSent(false);\n  }, [mode]);\n\n  const handleGoogleSignIn = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      await signInWithGoogle();\n    } catch (err: any) {\n      setError(err.message || \"Could not sign in with Google\");\n      setIsLoading(false);\n    }\n  };\n\n  const handleEmailContinue = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email || !password) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      await signInWithEmail(email, password);\n      onSuccess?.();\n    } catch (signInError: any) {\n      if (signInError.message?.includes(\"Invalid login credentials\")) {\n        try {\n          const result = await signUpWithEmail(email, password);\n          if (result.user && !result.session) {\n            setError(\"Check your email to confirm your account\");\n          } else {\n            onSuccess?.();\n          }\n        } catch (signUpError: any) {\n          setError(signUpError.message || \"Could not create account\");\n        }\n      } else {\n        setError(signInError.message || \"Sign in failed\");\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleForgotPassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      await resetPassword(email);\n      setResetSent(true);\n    } catch (err: any) {\n      setError(err.message || \"Could not send reset link\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleNewHereClick = () => {\n    setShowNewUserHint(true);\n    emailInputRef.current?.focus();\n  };\n\n  const handleForgotPasswordClick = () => {\n    setMode(\"forgot-password\");\n  };\n\n  const handleBackToSignIn = () => {\n    setMode(\"default\");\n    setResetSent(false);\n  };\n\n  return (\n    <div \n      className={`w-full max-w-[420px] rounded-xl p-8 animate-in fade-in duration-200 ${className}`}\n      style={{\n        backgroundColor: \"rgba(20, 12, 40, 0.96)\",\n        border: \"1px solid rgba(255, 255, 255, 0.10)\",\n        boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.5)\",\n      }}\n      data-testid=\"auth-card\"\n    >\n      <div className=\"flex flex-col items-center mb-6\">\n        <div className=\"flex items-center justify-center w-12 h-12 rounded-xl mb-4\"\n          style={{\n            background: \"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)\",\n          }}\n        >\n          <GraduationCap className=\"h-7 w-7 text-white\" />\n        </div>\n        <h1 className=\"text-2xl font-bold text-white mb-1\">Welcome to BCALM</h1>\n        <p className=\"text-white/60 text-sm\">Sign in to continue</p>\n      </div>\n\n      {mode === \"default\" ? (\n        <>\n          <Button\n            onClick={handleGoogleSignIn}\n            disabled={isLoading}\n            className=\"w-full h-12 mb-5 font-medium\"\n            style={{\n              background: \"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)\",\n            }}\n            data-testid=\"button-google-signin\"\n          >\n            {isLoading ? (\n              <Loader2 className=\"h-5 w-5 animate-spin mr-2\" />\n            ) : (\n              <SiGoogle className=\"h-4 w-4 mr-2\" />\n            )}\n            Continue with Google\n          </Button>\n\n          <div className=\"relative mb-5\">\n            <div className=\"absolute inset-0 flex items-center\">\n              <span className=\"w-full border-t border-white/10\" />\n            </div>\n            <div className=\"relative flex justify-center text-xs\">\n              <span className=\"px-3 text-white/40\" style={{ backgroundColor: \"rgba(20, 12, 40, 0.96)\" }}>\n                or\n              </span>\n            </div>\n          </div>\n\n          <form onSubmit={handleEmailContinue} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"auth-email\" className=\"text-white/80 text-sm\">\n                Email\n              </Label>\n              <Input\n                ref={emailInputRef}\n                id=\"auth-email\"\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                disabled={isLoading}\n                className=\"h-11 bg-[#1a0033] border-white/20 text-white placeholder:text-white/30 focus:border-primary\"\n                style={{ borderColor: \"rgba(255, 255, 255, 0.15)\" }}\n                data-testid=\"input-email\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"auth-password\" className=\"text-white/80 text-sm\">\n                Password\n              </Label>\n              <Input\n                id=\"auth-password\"\n                type=\"password\"\n                placeholder=\"Enter password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                disabled={isLoading}\n                className=\"h-11 bg-[#1a0033] border-white/20 text-white placeholder:text-white/30 focus:border-primary\"\n                style={{ borderColor: \"rgba(255, 255, 255, 0.15)\" }}\n                data-testid=\"input-password\"\n              />\n            </div>\n\n            {error && (\n              <p className=\"text-red-400 text-sm\" data-testid=\"text-error\">\n                {error}\n              </p>\n            )}\n\n            <Button\n              type=\"submit\"\n              disabled={isLoading || !email || !password}\n              className=\"w-full h-11 font-medium\"\n              style={{\n                background: \"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)\",\n              }}\n              data-testid=\"button-continue\"\n            >\n              {isLoading ? (\n                <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n              ) : null}\n              Continue\n            </Button>\n\n            {showNewUserHint && (\n              <p className=\"text-white/50 text-sm text-center\" data-testid=\"text-new-user-hint\">\n                We'll create your account if you're new.\n              </p>\n            )}\n          </form>\n\n          <div className=\"flex items-center justify-between mt-5 text-sm\">\n            <button\n              type=\"button\"\n              onClick={handleNewHereClick}\n              className=\"text-white/50 hover:text-white/80 transition-colors\"\n              data-testid=\"button-new-here\"\n            >\n              New here? Create account\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleForgotPasswordClick}\n              className=\"text-white/50 hover:text-white/80 transition-colors\"\n              data-testid=\"button-forgot-password\"\n            >\n              Forgot password?\n            </button>\n          </div>\n        </>\n      ) : (\n        <>\n          {resetSent ? (\n            <div className=\"text-center py-4\">\n              <p className=\"text-white text-lg mb-4\" data-testid=\"text-reset-sent\">\n                Reset link sent\n              </p>\n              <button\n                type=\"button\"\n                onClick={handleBackToSignIn}\n                className=\"text-primary hover:text-primary/80 transition-colors text-sm\"\n                data-testid=\"button-back-to-signin\"\n              >\n                Back to sign in\n              </button>\n            </div>\n          ) : (\n            <form onSubmit={handleForgotPassword} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"reset-email\" className=\"text-white/80 text-sm\">\n                  Email\n                </Label>\n                <Input\n                  id=\"reset-email\"\n                  type=\"email\"\n                  placeholder=\"you@example.com\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  disabled={isLoading}\n                  className=\"h-11 bg-[#1a0033] border-white/20 text-white placeholder:text-white/30 focus:border-primary\"\n                  style={{ borderColor: \"rgba(255, 255, 255, 0.15)\" }}\n                  data-testid=\"input-reset-email\"\n                />\n              </div>\n\n              {error && (\n                <p className=\"text-red-400 text-sm\" data-testid=\"text-error\">\n                  {error}\n                </p>\n              )}\n\n              <Button\n                type=\"submit\"\n                disabled={isLoading || !email}\n                className=\"w-full h-11 font-medium\"\n                style={{\n                  background: \"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)\",\n                }}\n                data-testid=\"button-send-reset\"\n              >\n                {isLoading ? (\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                ) : null}\n                Send reset link\n              </Button>\n\n              <div className=\"text-center\">\n                <button\n                  type=\"button\"\n                  onClick={handleBackToSignIn}\n                  className=\"text-white/50 hover:text-white/80 transition-colors text-sm\"\n                  data-testid=\"button-back-to-signin\"\n                >\n                  Back to sign in\n                </button>\n              </div>\n            </form>\n          )}\n        </>\n      )}\n\n      <p className=\"text-center text-xs text-white/30 mt-6\">\n        By continuing you agree to Terms & Privacy\n      </p>\n    </div>\n  );\n}\n","path":null,"size_bytes":10582,"size_tokens":null}},"version":2}